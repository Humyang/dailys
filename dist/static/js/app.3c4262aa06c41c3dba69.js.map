{"version":3,"sources":["webpack:///./serve/fontend/base.js","webpack:///./src/css/common.css","webpack:///./src/css/flex.css","webpack:///./src/css/scroll.css","webpack:///./src/components/Login.vue?a1b5","webpack:///./src/App.vue?c322","webpack:///./src/components/Hello.vue?d529","webpack:///./serve/PREDEFINED/CONSTANT.js","webpack:///./~/animate.css/animate.css","webpack:///./~/highlight.js/styles/pojoaque.css","webpack:///./src/css/WriteArticle.css","webpack:///./src/css/btn.css","webpack:///./src/css/custom_animate.css","webpack:///./serve/fontend/ajax.js","webpack:///./serve/fontend/index.js","webpack:///./vendors/ytool.switch.js","webpack:///./src/components/CodeMirror.vue","webpack:///./src/components/Count.vue","webpack:///./src/components/Hello.vue","webpack:///./src/components/Login.vue","webpack:///./src/components/WriteArticle.vue","webpack:///./src/components/deploy.vue","webpack:///./src/components/editor.vue","webpack:///./src/components/deploy.vue?9cfc","webpack:///./src/components/CodeMirror.vue?fecc","webpack:///./src/components/Login.vue?3170","webpack:///./src/components/editor.vue?d28a","webpack:///./src/App.vue?7abd","webpack:///./src/components/Count.vue?46ae","webpack:///./src/components/Hello.vue?0190","webpack:///./src/components/WriteArticle.vue?6051","webpack:///./serve/PREDEFINED/APP_CONFIG.js","webpack:///./serve/fontend/Obj/upload/Upload.js","webpack:///./serve/fontend/module/article.js","webpack:///./serve/fontend/module/floder.js","webpack:///./serve/fontend/module/login.js","webpack:///./serve/fontend/module/userCOnfig.js","webpack:///./vendors/google-diff-match-patch-js/diff_match_patch_uncompressed.js","webpack:///vertx (ignored)","webpack:///./src/main.js","webpack:///./serve/backend/views/css/topic.css","webpack:///./serve/fontend/Obj/Delay.js","webpack:///./serve/fontend/Obj/EditorValueAdvance.js","webpack:///./serve/fontend/Obj/dndUpload/dndUpload.js","webpack:///./~/codemirror/lib/codemirror.css","webpack:///./~/codemirror/theme/zenburn.css","webpack:///./src/css/CodeMirror_Theme.css","webpack:///./src/router/index.js","webpack:///./favicon.ico","webpack:///./src/App.vue","webpack:///App.vue","webpack:///CodeMirror.vue","webpack:///Count.vue","webpack:///Hello.vue","webpack:///Login.vue","webpack:///WriteArticle.vue","webpack:///deploy.vue","webpack:///editor.vue"],"names":["use","sub_module","state","count","mutations","increment2","getters","doubleCount","rootState","actions","commit","store","Store","todos","id","text","done","increment","payload","number","doneTodos","filter","todo","doneTodosCount","length","setTimeout","promise","resolve","reject","promise2","dispatch","then","modules","a","window","$vmm","el","router","template","components","App","mode","routes","path","name","component"],"mappings":";;;;;;;;;AAMC;;AAED;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA,C;;;;;;;;;AChCA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;;ACAA;AAAA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;;AAEA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;;;;;AAMA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA,wBAA+B;AAAA;AAAA;AAC/B;AAAA;AAAA;AACA;AAAA;AAAA;AACA,oB;;;;;;;;;ACpCA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;;;;;ACCA;AACA;AACA;AACA;AACA;AAIC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gDAAgD,2DAAsB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA,8D;;;;;;;;;;;;;;;;ACvEA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACfA;AAAA;AACA;AACA,oBAAoB;AACpB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,qE;;;;;;;ACjBA;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACVA;AACA,uBAA2R;;AAE3R;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;ACdA;AACA,uBAA2R;;AAE3R;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACfA;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA;AACA;AACA;AACA;AACA,yBAA6F;AAC7F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACXA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA,GAAG;AACH,CAAC,aAAa,aAAa,0BAA0B;AACrD;AACA;AACA,GAAG;AACH,CAAC,E;;;;;;;AC/UD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACZD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,E;;;;;;;ACRD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH,CAAC,E;;;;;;;ACdD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACND,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACtBD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH,CAAC,qB;;;;;;;ACJD,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC,+BAA+B,aAAa,0BAA0B;AACvE;AACA;AACA,GAAG;AACH,CAAC,aAAa,aAAa,0BAA0B;AACrD;AACA;AACA,GAAG;AACH,CAAC,E;;;;;;;ACrjBD;AACA;AACA;AACA;AACA,C;;;;;;;;;ACJA;AAAA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AAGC;AACD;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;AAEA,8D;;;;;;;;;;ACzFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AAAA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA,6GAAmC;AACnC;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;;;;;;ACrBA;AACA;AACqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;;AAEA,mHAAyC,MAAM;AAC/C,C;;;;;;;;;;;;AC/BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,+GAAqC;AACrC,C;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,sBAAsB;AACrC;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA,YAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB;AACA;AACA,WAAW,OAAO;AAClB,YAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,WAAW;AAC5B;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,gCAAgC;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,oBAAoB;;AAEpB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;;;AAGA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,eAAe;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;AACA;AACA,sBAAsB;AACtB,2BAA2B;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;AACA;AACA,sBAAsB;AACtB,2BAA2B;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK,OAAO;AACZ;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,sCAAsC;AACtC;AACA;AACA,sCAAsC;AACtC;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,gCAAgC;AAC3C,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC,yBAAyB;AACzB,2BAA2B;AAC3B,+CAA+C,4BAA4B;AAC3E,kCAAkC,gCAAgC;AAClE;AACA;AACA,kDAAkD;AAClD;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,gCAAgC;AAC3C,YAAY,OAAO;AACnB;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,gCAAgC;AAC3C,YAAY,OAAO;AACnB;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,oCAAoC;AACpC;AACA,WAAW,gCAAgC;AAC3C,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,WAAW,gCAAgC;AAC3C,YAAY,OAAO;AACnB;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,gCAAgC;AAC5C,YAAY,OAAO;AACnB;AACA;AACA;AACA,sBAAsB;AACtB,kBAAkB;AAClB;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB;;AAEjB;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,OAAO;AACpB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA,oBAAoB;AACpB;AACA,OAAO,OAAO;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA,WAAW,4BAA4B;AACvC,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uCAAuC;AAClD;AACA,WAAW,uCAAuC;AAClD;AACA,WAAW,uCAAuC;AAClD;AACA,YAAY,qCAAqC;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,6CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,uBAAuB,gCAAgC;AACvD;AACA,GAAG;AACH;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,gCAAgC;AACvD,GAAG;AACH;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,gCAAgC;AACvD,GAAG;AACH;AACA;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA,0BAA0B;AAC1B,sBAAsB;AACtB,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,WAAW,qCAAqC;AAChD,YAAY,qCAAqC;AACjD;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,qCAAqC;AAChD,WAAW,OAAO;AAClB,YAAY,iCAAiC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,aAAa,mCAAmC;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,WAAW,qCAAqC;AAChD,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,kCAAkC;AAClC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,WAAW,qCAAqC;AAChD;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,qCAAqC;AAChD,YAAY,OAAO;AACnB;AACA;AACA;AACA,iBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;;;AAGA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,qCAAqC;AACjD,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,aAAa,gCAAgC;AAC7C;AACA,aAAa,QAAQ;AACrB;AACA,aAAa,QAAQ;AACrB;AACA,aAAa,OAAO;AACpB;AACA,aAAa,OAAO;AACpB;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChpEA,e;;;;;;;;;;;;;;ACEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAKA,cAAIA,GAAJ;AACA,IAAIC,aAAa;AACfC,SAAM;AACJC,WAAM;AADF,GADS;AAIfC,aAAU;AACRC,cADQ,sBACGH,KADH,EACS;AACfA,YAAMC,KAAN;AACD;AAHO,GAJK;AASfG,WAAQ;AACNC,eADM,uBACML,KADN,EACYI,OADZ,EACoBE,SADpB,EAC8B;AAClC,aAAON,MAAMC,KAAN,GAAY,CAAnB;AACD;AAHK,GATO;AAcfM,WAAQ;AACNJ,cADM,4BAC8B;AAAA,UAAxBH,KAAwB,QAAxBA,KAAwB;AAAA,UAAlBQ,MAAkB,QAAlBA,MAAkB;AAAA,UAAXF,SAAW,QAAXA,SAAW;;AAClCE,aAAO,YAAP;AACD;AAHK;;AAdO,CAAjB;AAqBA,IAAMC,QAAQ,IAAI,eAAKC,KAAT,CAAe;AAC3BV,SAAO;AACLC,WAAO,CADF;AAELU,WAAO,CACN,EAAEC,IAAI,CAAN,EAAQC,MAAM,KAAd,EAAqBC,MAAM,IAA3B,EADM,EAEN,EAAEF,IAAI,CAAN,EAAQC,MAAM,KAAd,EAAqBC,MAAM,KAA3B,EAFM;AAFF,GADoB;AAQ3BZ,aAAW;AACTa,aADS,qBACEf,KADF,EACQgB,OADR,EACiB;AACxBhB,YAAMC,KAAN,IAAee,QAAQC,MAAvB;AACD;AAHQ,GARgB;AAa3Bb,WAAS;AACRc,eAAW,0BAAS;AACnB,aAAOlB,MAAMW,KAAN,CAAYQ,MAAZ,CAAmB;AAAA,eAAQC,KAAKN,IAAb;AAAA,OAAnB,CAAP;AACA,KAHO;AAIRO,oBAAe,wBAACrB,KAAD,EAAOI,OAAP,EAAiB;AAC/B,aAAOA,QAAQc,SAAR,CAAkBI,MAAzB;AACA;AANO,GAbkB;AAqB3Bf,WAAS;AACRQ,aADQ,4BACYC,OADZ,EACqB;AAAA,UAAjBR,MAAiB,SAAjBA,MAAiB;;AAC5Be,iBAAW,YAAW;AACrBf,eAAO,WAAP,EAAmBQ,OAAnB;AACAO,mBAAW,YAAW;AACrBf,iBAAO,WAAP,EAAmBQ,OAAnB;AACA,SAFD,EAEG,IAFH;AAGA,OALD,EAKG,IALH;AAMA,KARO;AASRQ,WATQ,0BASUR,OATV,EASmB;AAAA,UAAjBR,MAAiB,SAAjBA,MAAiB;;AAC1B,aAAO,sBAAY,UAACiB,OAAD,EAASC,MAAT,EAAkB;AACpCH,mBAAW,YAAW;AACrBf,iBAAO,WAAP,EAAmBQ,OAAnB;AACAS;AACA,SAHD,EAGG,IAHH;AAIA,OALM,CAAP;AAMA,KAhBO;AAiBRE,YAjBQ,2BAiBmBX,OAjBnB,EAiB4B;AAAA,UAA1BY,QAA0B,SAA1BA,QAA0B;AAAA,UAAjBpB,MAAiB,SAAjBA,MAAiB;;AACnCoB,eAAS,SAAT,EAAmBZ,OAAnB,EAA4Ba,IAA5B,CAAiC,YAAM;AACnCrB,eAAO,WAAP,EAAmBQ,OAAnB;AACF,OAFF;AAGA;AArBO,GArBkB;AA4C3Bc,WAAQ;AACNC,OAAEhC;AADI;AA5CmB,CAAf,CAAd;AAgDAiC,OAAOC,IAAP,GAAc,kBAAQ;AACpBC,MAAI,MADgB;AAEpBzB,cAFoB;AAGpB0B,0BAHoB;AAIpBC,YAAU,QAJU;AAKpBC,cAAY,EAAEC,kBAAF;AALQ,CAAR,CAAd,C;;;;;;;AClFA,yC;;;;;;;;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mE;;;;;;;;ACdA;AAAA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI,C;;;;;;;;;AC9EJ;AAAA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;;;;;AAMF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA,EAAE;;AAEF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;;AAGF;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AC5KA,yC;;;;;;;ACAA,yC;;;;;;;ACAA,yC;;;;;;;;;;;;;;ACAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,cAAIxC,GAAJ;kBACe,wBAAW;AACxByC,QAAK,SADmB;AAExBC,UAAQ,CACN;AACEC,UAAM,SADR;AAEEC,UAAM,cAFR;AAGEC;AAHF,GADM,EAMJ;AACEF,UAAK,SADP;AAEEC,UAAK,cAFP;AAGEC;AAHF,GANI,EAWN;AACIF,UAAK,mBADT;AAEIC,UAAK,cAFT;AAGIC;AAHJ,GAXM,EAgBN;AACIF,UAAK,sCADT;AAEIC,UAAK,eAFT;AAGIC;AAHJ,GAhBM,EAqBN;AACIF,UAAK,QADT;AAEIC,UAAK,OAFT;AAGIC;AAHJ,GArBM;AAFgB,CAAX,C;;;;;;;ACPf,oCAAoC,oF;;;;;;;;ACCpC;AACA,uBAAsR;;AAEtR;AACA;AACA;AACA;AACA,yBAA0F;AAC1F;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACRA;;AACA;;AAEA;;;QAEA;wBACA;;aAGA;AAFA;AAGA;;;8BAGA;+BACA;AAEA;AALA;AAPA,E;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AACA;;AAEA;;AAyBA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAGA;;;;AAEA;;;;AAEA;;;;;;;;AAnCA;AACA;AACA;AACA,+CACA;sBACA;2CACA;AACA;aACA;wCACA;;AACA;OAEA;UACA;UACA;YACA;YACA;cACA;eACA;iDACA;uDACA;AACA;YACA;AAXA;;AA0BA,yCAEA;;;UAEA;wBACA;;mBAEA;;mBAEA;kBACA;gBACA;kBAEA;AALA;6BAMA;2BACA;6BACA;4BACA;qBACA;2BACA;0BACA;0BACA;wBACA;6CACA;8CACA;oBACA;sBACA;2BACA;2BACA;yBACA;qBACA;uBACA;;iBAEA;gBACA;eAEA;AAJA;cAKA;aACA;sBACA;WACA;qCAEA;AApCA;AAqCA;;;;kGAIA;iBAEA;;;AACA;;;;;oDAEA;;;mCACA,OACA,OACA,OACA,gBAGA;;;;;;oDACA;qDAEA;;qBAEA;;qBACA;;;;;;;;+BACA;kBACA;AACA;AAEA;;wDAIA;sEACA;iCACA;AAEA;AAhCA;YAiCA;;;kCAGA;mBACA;oBACA;yBACA;yCACA;AACA;iBACA;sCAEA;;yBACA;0CAGA;;wCACA;wCACA;AAGA;AAGA;AArBA;AADA;8BAuBA;eACA;uBAEA;;;YAEA;aACA;oBACA;;eAEA;qCACA;qBACA;AACA;mCACA;0BACA;uDACA;AACA;mCACA;0BACA;qDACA;AACA;mCACA;0BACA;sDACA;AACA;mCACA;0BACA;6CACA;AACA;kCACA;0BACA;6CACA;AACA;mCACA;0BACA;oCACA;kEACA;oCACA;AACA;mCACA;0BACA;oCACA;kEACA;qCACA;AACA;mCACA;0BACA;oCACA;kEACA;sCACA;AACA;mCACA;0BACA;oCACA;kEACA;qCACA;AAkBA;AAjEA;AAJA;;;;AA4EA;;;;2CAcA;;yEAGA;;;;;;;;;;sCAOA;iBAOA;;iBACA;AAEA;;eAEA;;oEACA;oDACA;kCACA;sDACA;AACA;wFAEA;yCAGA;mDACA;4EACA;;gBAEA;cAEA;AAHA;AAcA;AAlBA,KAHA;AAsBA;AApPA,E;;;;;;;;;;;;;;;;;;AClDA;;;;;wBAEA;yBACA;AACA;;AACA;sCACA;WACA;AACA;8BAmBA;8BACA;AAIA;qDAEA;AAKA,2EACA;;mBAEA;;;mBACA;;gBAEA;6DACA;gCACA;AAGA;AATA;AAxCA,E;;;;;;;;;;;;;;ACNA;;;;;;;QAEA;wBACA;;WAGA;AAFA;AAGA;;;AAGA;AAFA;AAPA,E;;;;;;;;;;;;;;ACJA;;;;AAGA;;AAEA;;IACA;;;;;;;8BAEA;kDACA;gBACA;sBAEA;gCACA;sBACA;iCACA;wBACA;WACA;gFACA;AACA;AACA;AAbA,E;;;;;;;;;;;;;;;;;;AC6OA;;AAEA;;AACA;;AACA;;AAMA;;AACA;;AACA;;AAEA;;AAEA;;;;AAGA;;;;AAEA;;;;AAGA;;;;AACA;;;;;;;;AAFA;;;AAIA;AACA;AACA;AACA,+CACA;sBACA;2CACA;AACA;aACA;wCACA;;AACA;OAEA;UACA;UACA;YACA;YACA;cACA;eACA;iDACA;uDACA;AACA;YAGA;AAbA;;;;AAgBA;AAEA;AAHA;wBAIA;;+BAEA;;cAEA;iBACA;oBACA;gBAEA;AALA;mBAMA;wBACA;mBACA;;mBAEA;kBACA;gBACA;kBACA;gBAEA;AANA;6BAOA;2BACA;6BACA;4BACA;qBACA;2BACA;0BACA;0BACA;wBACA;6CACA;8CACA;oBACA;sBACA;2BACA;2BACA;yBACA;qBACA;uBACA;;iBAEA;gBACA;eAEA;AAJA;cAKA;aACA;sBAEA;;qCAEA;AA9CA;AA+CA;;;4CAEA;wEAGA;cACA;AACA;AACA;oDACA;iBACA;oDAEA;gCACA;AACA;AAEA;0CACA;kBACA,kBACA,4BACA,qBACA,kBACA,iBAEA;AACA;;4CAGA;4CACA;qCACA;6CACA;2BAGA;aACA;6CACA;2BAEA;AACA;4CACA;AACA;6DACA;iBACA;0CACA;;AACA;;;;;oDACA;;mCACA,WACA,cACA,oBACA,qBACA,oBAEA;;;;;sDACA;uDACA,iCAEA;AAEA;;oDACA;qDAEA;;qBAEA;;qBACA;;;;;;;;+BACA;oBACA;kBACA;AACA;AAEA;8CACA;8BACA;AACA;;8CACA;uCACA;;qBAEA;oBACA;kBACA;oBACA;kBAEA;AANA;aAOA;;qBAEA;oBACA;kBACA;oBACA;kBAEA;AANA;AAOA;AACA;wDACA;uCACA;;qBAEA;oBACA;kBACA;oBACA;kBAEA;AANA;aAOA;;qBAEA;oBACA;kBACA;oBACA;kBAEA;AANA;AAOA;AACA;gEACA;uCACA;;qBAEA;oBACA;kBACA;oBACA;kBAEA;AANA;aAOA;;qBAEA;oBACA;kBACA;oBACA;kBAEA;AANA;AAOA;AACA;kEACA;gCACA;yBACA;AACA;AACA;uBACA;AACA;kDACA;yCACA;AACA;8CAEA;iBACA;uEAEA;gCACA;AACA;AACA;kDAIA;wCACA;AAEA;;8CACA;iBACA;+DACA;aACA;sDACA;AACA;qEACA;aACA;sDACA;AAEA;AACA;0DACA;iBACA;+DACA;gCACA;AACA;AACA;gEAEA;wCACA;gCACA;AACA;4CACA;oCACA;AACA;AAEA;;6DACA;gCACA;AAEA;;6DACA;iBAEA;;iDACA;8BAEA;;gCAEA;;kDACA;;gBAEA;;2BAEA;4BAEA;AAHA;;yBAOA;AAHA;AANA;AAUA;AACA;iEACA;iBAEA;;;AACA;;;;;;mCACA,QACA,kBAGA;;;;;;4CACA;wDAMA;;4EASA;;;qDACA;wCAEA;;wDACA;;AACA,uDACA;uEACA;0EACA;6EAEA;uBACA;qCACA;wCACA;2CACA;AACA;4FAEA;;8BACA;AACA;AACA;;;;;;;;+BACA;2BACA;AACA;AACA;6DACA;iCACA;AACA;gDACA;iCACA;AACA;;kDACA;iCACA;AACA;8CACA;iBACA;4BACA;8CACA,6BACA;aACA;aAEA;;iCACA;AACA,8BACA;cACA;AACA;iCACA;AACA;sDACA;iCACA;AACA;;0EACA;oDACA;yCACA,uCACA;yCACA,iDACA;AACA;4EACA;uCACA;AACA;wDAIA;sEACA;iCACA;AACA;4CACA;iBACA;6DACA;aACA;qDACA;AACA;AACA;oFACA;mDACA;wCACA,sCACA;wCACA,iDAGA;AACA;gFACA;mDACA;AACA;sEACA;oDACA;AACA;2DACA;+BACA;AACA;2DACA;iBACA;8CACA;iCASA;;;wBAGA;AACA;8DACA;iBAOA;;;AACA;;;;;;wCAEA;;;;;;iDAOA;;qCAEA;;AACA;;;;;;;;gCACA;AACA;2DACA;gCACA;AACA;8CACA;gCACA;AACA;;gDACA;gCACA;AACA;8CACA;iBACA;4CACA;+BACA;AACA;AACA;4CACA;iBACA;0BACA,mCACA;aACA;gCACA;AACA,8BACA;cACA;AACA;gCACA;AACA;oDACA;gCACA;AAEA;AA5YA;;0DAsZA;0BAKA;;mBACA;aACA;0CACA;2DACA;AACA;AACA;aACA;0CACA;0CACA;sBACA;AACA;0CACA;qBACA;AACA;mCACA;AACA;AACA;aACA;0CACA;+CACA;sBACA;AACA;+CACA;qBACA;AACA;wCACA;AACA;AAGA;;;aACA;AAEA;AA1CA;8BA2CA;0CACA;uBACA;yBACA;AACA;eAEA;;;AACA;;;;;;gCACA;;;;;6CAGA;;mDAEA;;;;;yEACA;+DACA;wDACA;AACA;AAEA;;;;;yDACA;;iCACA,yBAEA;;;;;+CAEA;;;;;;;;6BACA;mEACA;0BACA;AACA;AACA;AACA;8BACA;eA6DA;;;4CAEA;8CACA;AACA;AACA;;;8BAEA;mDACA;AAEA;AAJA;AAtlBA,E;;;;;;;;;;;;;;;;;;AClMA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AAEA;;AAIA;;AAuCA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAGA;;;;AAEA;;;;AAEA;;;;;;;;AAjDA;AACA,0BACA;;AACA;AACA,+CACA;wBACA;+CACA;AACA;eAEA;;0CACA;;AACA;;SAGA;YACA;YACA;cACA;cACA;gBACA;iBACA;mDACA;2DACA;iBAYA;AArBA;;AAqCA,yCAEA;;;0BAEA;;uBAEA;yBACA;mCACA;uEACA;kCACA;2BACA;iCACA;gCACA;gCACA;8BACA;mDAEA;;oDACA;0BACA;4BACA;iCACA;iCACA;+BACA;2BACA;6BACA;;yBAEA;wBACA;uBAEA;AAJA;oBAKA;mBACA;4BACA;iBAEA;AA9BA;AA+BA;;;sDAIA;iBACA;AACA;sEACA;sCACA;iCACA;AACA;AACA;6BACA;AACA;kDACA;uBACA;oCACA,iCACA;qBACA;8DACA;AACA;AACA;8DACA;uBACA;kCACA,mCACA;wCACA;AACA;AACA;oEACA;uBACA;AACA;sGACA;uBAEA;;;AAEA;;;;;;oEAEA;;;wFAEA;;;;;;oEACA;qEAEA;;qCAEA;;qCAEA;;;;;;;;qCACA;0BACA;AACA;AACA;iEACA;sCACA;AAEA;;iEACA;uBAEA;;uDAEA;;2CACA;sCAEA;;qBAEA;;wDACA;0CACA;4BACA;uCACA;wCAGA;;AAoBA;AACA;qEACA;uBACA;;AACA;;;;;;2DAEA;;;;;;wEACA;oEAEA;;8DACA;0EAGA;;;qEACA;8DAEA;;sDAEA;;AAEA;;;;;;;;qCAEA,CACA;AACA;iEACA;uCACA;AACA;oDACA;uCACA;AACA;;sDACA;uCACA;AACA;kDACA;uBACA;kCACA;oDACA,6BACA;qBACA;qBAEA;;yCACA;AACA,oCACA;sBACA;AACA;uCACA;AACA;0DACA;uCACA;AACA;;8EACA;0DACA;sFACA;gGACA;AACA;gFAEA;6CACA;AACA;4DAIA;4EACA;uCACA;AACA;gDACA;uBACA;mCACA,gCACA;qBACA;6DACA;AACA;AACA;wFACA;yDACA;oFACA;+FAGA;AACA;oFACA;yDACA;AACA;0EACA;0DACA;AACA;+DACA;qCACA;AACA;+DACA;uBACA;oDACA;uCASA;;;8BAGA;AACA;kEACA;uBAEA;;;AACA;;;;;;wDAEA;;;;;;iEAOA;;qDAEA;;AAGA;;;;;;;;qCAEA,CACA;AACA;+DACA;sCACA;AACA;kDACA;sCACA;AACA;;oDACA;sCACA;AACA;kDACA;uBACA;uBACA,2BACA;uCAEA;AACA;AACA;gDACA;uBACA;gCACA,mCACA;qBACA;wCACA;AACA,oCACA;sBACA;AACA;sCACA;AACA;wDACA;sCACA;AAEA;AA7PA;;gFA+PA;oDAEA;;uCACA;AACA;8DAIA;gCAKA;;yBACA;qBACA;oDACA;uEACA;AACA;AACA;qBACA;oDACA;sDACA;oCACA;AACA;sDACA;mCACA;AACA;+CACA;AACA;AACA;qBACA;oDACA;2DACA;oCACA;AACA;2DACA;mCACA;AACA;oDACA;AACA;AAGA;;;mBACA;AAEA;AA/CA;gCAgDA;mBAEA;;;AACA;;;;;;8CACA;;;;;2DAGA;;iEAEA;;;;;uFACA;+EACA;0EACA;AAEA;AAEA;;;;;uEACA;;wEACA;;;;;6DAGA;;;;;;;;iCACA;yEACA;kCACA;AACA;AACA;AACA;gCACA;mBACA;2BACA;;kBAEA;mBACA;0BACA;;yBAEA;6CACA;+BACA;AAGA;AANA;AAJA;2DAaA;yCAGA;;;yGACA;AAKA;;0CAMA;;iDAGA;;+CAIA;;uBACA;AAEA;;mBAEA;;wEACA;8DACA;sCACA;kEACA;AACA;;+CAKA;;2DAGA;;;wBAEA;;oFAEA;;kGACA;AAIA;AAfA;;8EAgBA;wCACA;AACA,uBACA;wCACA;AAEA;gDAEA;oDACA;AACA;AACA;AAzbA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzKA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA;;;;;;;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAEA;;;UAEA;wBACA;;mBAGA;;mBAEA;kBACA;gBACA;kBAEA;AALA;6BAMA;2BACA;4BACA;qBACA;2BACA;0BACA;0BACA;wBACA;6CACA;8CACA;oBACA;sBACA;2BACA;2BACA;yBACA;qBACA;uBACA;;iBAEA;gBACA;eAEA;AAJA;cAKA;aACA;sBACA;WACA;qCAEA;AAnCA;AAoCA;;;8CAEA;kCACA;iBACA;8BACA;YACA;4BACA;oBACA;qDACA;AACA;AACA;+BACA;oBACA;AAIA;;;kBAQA;;;;mBAMA;4BACA;;2BAGA;AAFA;sBAOA;AAVA;;;mBAYA;4BAEA;AAHA;;mBAKA;2BACA;sBAEA;AAJA;;mBAMA;2BAEA;AAHA;;mBAKA;2BACA;;gCAEA;kCAEA;AAHA;sBAKA;AARA;mBASA;;mBAEA;sBAEA;AAHA;;mBAKA;sBAEA;AAHA;qBAIA;;mBAEA;sBAEA;AAHA;oBAIA;iBACA;;mBAEA;2BACA;sBAEA;AAJA;eAaA;AA/DA;;wBAgEA;qCACA;sCACA;sBAEA;;eAEA;AAEA;AAhFA;2BAiFA;AACA;;AACA;;8DACA;sDACA;kBAEA;AACA;AACA;AAEA;;;wDAIA;sEACA;iCACA;AAGA;AAxHA;;;;kCA2HA;iBACA;0CACA;2BACA;eACA;gCACA;AACA;+BACA;AAGA;AAXA;AADA;8BAaA;eAEA;;;AAOA;;;;;;0BAEA;;;;;0BACA;kEAYA;;;yEAGA;;;;;;;;;;;AAMA;;;;;yBAGA;;;0BAKA;;;;;yBAGA;;;;;;;;;;eACA;AACA;AA7NA,E","file":"static/js/app.3c4262aa06c41c3dba69.js","sourcesContent":["\r\nimport {\r\n    SESSION_TOKEN,\r\n    SESSION_EXPIRED,\r\n    ACCOUNT_STATE,\r\n    USERNAME\r\n} from '../PREDEFINED/CONSTANT.js'\r\n\r\nexport const removeToken = function(page_this) {\r\n    localStorage.removeItem(SESSION_TOKEN);\r\n    localStorage.removeItem(ACCOUNT_STATE);\r\n};\r\nexport const saveToken = function(token) {\r\n    localStorage.setItem(SESSION_TOKEN, token);\r\n    localStorage.setItem(SESSION_EXPIRED, 'date');\r\n};\r\nexport const getToken = function(){\r\n    var current = new Date();\r\n\r\n    let token_expired = localStorage.getItem(SESSION_EXPIRED) || 'Now';\r\n\r\n    if(token_expired!='Now' && token_expired < current){\r\n        return ''\r\n    }else{\r\n        return localStorage.getItem(SESSION_TOKEN)\r\n    }\r\n}\r\nexport const saveUsername = function(username){\r\n    localStorage.setItem(USERNAME, username);\r\n}\r\nexport const getUsername = function(){\r\n    return localStorage.getItem(USERNAME);\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/base.js\n// module id = 12\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/common.css\n// module id = 138\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/flex.css\n// module id = 139\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/scroll.css\n// module id = 140\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-26306532\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Login.vue\n// module id = 141\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-3bd98f62\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/App.vue\n// module id = 142\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?{\"id\":\"data-v-58029bca\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Hello.vue\n// module id = 143\n// module chunks = 1","let setip=''\r\nlet Host1 = ''\r\n\r\n// if (process.env.NODE_ENV === 'production') {\r\n//  setip = 'http://118.89.19.201'\r\n//   // setip = 'http://localhost'\r\n// }else{\r\n//  setip = 'http://localhost'\r\n// }\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n\r\n  setip = 'http://dailys.api.dve2.com'\r\n  Host1 = 'http://dailys.dve2.com'\r\n \r\n }else{\r\n \r\n  setip = 'http://localhost:8202'\r\n  // setip = 'http://dailys.api.dve2.com'\r\n  Host1 = 'http://localhost:8090'\r\n }\r\nexport const IP = setip\r\nexport const Host = Host1\r\n\r\n\r\n\r\n\r\n\r\nexport const FLAG=\"APP_\"\r\nexport const USERNAME = FLAG+'USERNAME' //用户名\r\nexport const SESSION_TOKEN = FLAG+'SESSION_TOKEN' //token\r\nexport const SESSION_EXPIRED = FLAG+'SESSION_EXPIRED' //session过期时间\r\nexport const ACCOUNT_STATE = FLAG+'ACCOUNT_STATE' //账户状态\r\nexport const TIMEOUT = 3000000;//超时时间\r\nexport const HTTP_FAIL = \"与服务器通信失败，请检查手机网络\"\r\nexport const DATA_INVALID = \"无法识别服务器返回的数据包\"\r\nexport const DAY = 86399500\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/PREDEFINED/CONSTANT.js\n// module id = 2\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/animate.css/animate.css\n// module id = 20\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/highlight.js/styles/pojoaque.css\n// module id = 21\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/WriteArticle.css\n// module id = 22\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/btn.css\n// module id = 23\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/custom_animate.css\n// module id = 24\n// module chunks = 1","\r\nrequire('es6-promise').polyfill();\r\nvar fetch = require('isomorphic-fetch');\r\nimport * as BASE from './base.js'\r\nvar CODE = require('../PREDEFINED/CONSTANT.js').CODE\r\nvar CONFIG = require('../PREDEFINED/APP_CONFIG.js')\r\nimport {\r\n    IP,\r\n    HTTP_FAIL\r\n} from '../PREDEFINED/CONSTANT.js'\r\n\r\n\r\n// 业务逻辑错误处理\r\n\r\n// 对返回报文进行预处理\r\n// 返回 false 表示发生业务逻辑问题\r\n// 返回 true 表示未发生业务逻辑问题，继续执行\r\nconst preProcessRsp = function(store,reslove,reject) {\r\n    if (!store.status) {\r\n        reject(store)\r\n        return false\r\n    }\r\n    return true;\r\n};\r\n\r\nconst mFetch = function(path,data,token) {\r\n    return new Promise(function(reslove,reject){\r\n        let comb_data = {}\r\n        if(data===undefined){\r\n            data = {}\r\n        }else{\r\n            comb_data = data\r\n            if(data.token === undefined){\r\n                // console.log(123123)\r\n                comb_data = Object.assign(data,{token:BASE.getToken()})\r\n            }\r\n        }\r\n        let root = this\r\n        console.log('token')\r\n        fetch(IP+path,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            \"_token\":token || data.token || comb_data.token ||BASE.getToken()||'unkonw'\r\n          },\r\n          body: JSON.stringify(comb_data)\r\n        })\r\n        .then(function(response) {\r\n            // HTTP 错误处理\r\n            if (response.status != 200) {\r\n                // throw new Error(\"Bad response from server: status\",response.status);\r\n                reject(\"Bad response from server: status\",response.status)\r\n            }\r\n            return response.json();\r\n        })\r\n        .then(function(res) {\r\n            if(preProcessRsp(res,reslove,reject)){\r\n                reslove(res)\r\n            }else{\r\n                reject(res.msg)\r\n            }\r\n        })\r\n        .catch(function(ex){\r\n            reject({\r\n                MSG:ex.message\r\n            })\r\n        });\r\n    })   \r\n};\r\nexport default mFetch\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/ajax.js\n// module id = 26\n// module chunks = 1","// import mFetch from './ajax.js'\r\n// 添加单词\r\n// export const articleUpdate = function(title,content){\r\n    \r\n//     let data={\r\n//         title,\r\n//         content\r\n//     }\r\n//     return mFetch('/article/update'\r\n//             ,data\r\n//             )\r\n// }\r\nimport * as ARTICLE from './module/article.js'\r\nimport * as FLODER from './module/floder.js'\r\nimport * as LOGIN from './module/login.js'\r\nimport * as CONFIG from './module/userCOnfig.js'\r\nexport {\r\n    ARTICLE,\r\n    FLODER,\r\n    LOGIN,\r\n    CONFIG\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/index.js\n// module id = 27\n// module chunks = 1","var SwitchF = function(s){\r\n\t// var s=Object.assign({\r\n\t// \tf1:function(){},\r\n\t// \tf2:function(){}\r\n\t// },settings);\r\n\tvar flag = false\r\n\treturn function(){\r\n\t\tif(!flag){\r\n\t\t\tconsole.log(1)\r\n\t\t\ts[0].call()\r\n\t\t}else{\r\n\t\t\tconsole.log(2)\r\n\t\t\ts[1].call()\r\n\t\t}\r\n\t\tflag=!flag\r\n\t}\r\n}\r\nexport default SwitchF\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./vendors/ytool.switch.js\n// module id = 28\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./CodeMirror.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-12a97393\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./CodeMirror.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/CodeMirror.vue\n// module id = 333\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Count.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-4586f850\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Count.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Count.vue\n// module id = 334\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-58029bca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Hello.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Hello.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-58029bca\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Hello.vue\"),\n  /* scopeId */\n  \"data-v-58029bca\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Hello.vue\n// module id = 335\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-26306532\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-26306532\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"),\n  /* scopeId */\n  \"data-v-26306532\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = 336\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WriteArticle.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-c8fccb44\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./WriteArticle.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WriteArticle.vue\n// module id = 337\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./deploy.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-0764d24e\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./deploy.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/deploy.vue\n// module id = 338\n// module chunks = 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./editor.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-3710cfd4\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./editor.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/editor.vue\n// module id = 339\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"write_article_wrap\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.floder_item_more_crud_element_visible),\n      expression: \"floder_item_more_crud_element_visible\"\n    }],\n    ref: \"floder_item_more\",\n    staticClass: \"floder-cover\",\n    attrs: {\n      \"id\": \"floder_item_more\"\n    },\n    on: {\n      \"mouseleave\": function($event) {\n        _vm.floder_item_more_crud_out($event)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"background\"\n  }), _vm._v(\" \"), _c('ul', {\n    staticClass: \"subitem\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('li', {\n    on: {\n      \"click\": _vm.floder_delete\n    }\n  }, [_c('i', {\n    staticClass: \"iconfont icon-shanchu\"\n  })])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.article_item_more_crud_element_visible),\n      expression: \"article_item_more_crud_element_visible\"\n    }],\n    ref: \"article_item_more\",\n    staticClass: \"floder-cover\",\n    attrs: {\n      \"id\": \"article_item_more\"\n    },\n    on: {\n      \"mouseleave\": function($event) {\n        _vm.article_item_more_crud_out($event)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"background\"\n  }), _vm._v(\" \"), _c('ul', {\n    staticClass: \"subitem\"\n  }, [_vm._m(1), _vm._v(\" \"), _c('li', {\n    on: {\n      \"click\": _vm.article_delete\n    }\n  }, [_c('i', {\n    staticClass: \"iconfont icon-shanchu\"\n  })])])]), _vm._v(\" \"), (_vm.page_mode === 0) ? [_c('div', {\n    staticClass: \"floder\"\n  }, [_c('a', {\n    staticClass: \"btn back_home\"\n  }, [_vm._v(\"回到首页\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_add\",\n    on: {\n      \"click\": _vm.floder_add_show\n    }\n  }, [_c('i', {\n    staticClass: \"i_add\"\n  }, [_vm._v(\"+\")]), _vm._v(\"新建文集\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"list_mode\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-zhankai\",\n    on: {\n      \"click\": _vm.floder_mode_show\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.floder_add_show_flag),\n      expression: \"floder_add_show_flag\"\n    }],\n    staticClass: \"list_mode_group\"\n  }, [_c('p', {\n    staticClass: \"p1\"\n  }, [_vm._v(\"文集排序方式\")]), _vm._v(\" \"), _c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.floder_mode_show_type),\n      expression: \"floder_mode_show_type\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"\"\n    },\n    on: {\n      \"change\": [function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.floder_mode_show_type = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }, _vm.Mfloder_mode_show_type_change]\n    }\n  }, [_c('option', {\n    attrs: {\n      \"value\": \"1\"\n    }\n  }, [_vm._v(\"创建日期\")]), _vm._v(\" \"), _c('option', {\n    attrs: {\n      \"value\": \"2\"\n    }\n  }, [_vm._v(\"最近使用\")]), _vm._v(\" \"), _c('option', {\n    attrs: {\n      \"value\": \"3\"\n    }\n  }, [_vm._v(\"使用频率\")])])]), _vm._v(\" \"), (_vm.floder_add_visible) ? [_c('div', {\n    staticClass: \"add_wrap\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.floder_add_input),\n      expression: \"floder_add_input\"\n    }],\n    attrs: {\n      \"placeholder\": \"输入文集名称\",\n      \"type\": \"\",\n      \"name\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.floder_add_input)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.floder_add_input = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_ok\",\n    on: {\n      \"click\": _vm.floder_add_ok\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_cancel\",\n    on: {\n      \"click\": _vm.floder_add_cancel\n    }\n  }, [_vm._v(\"取消\")])])] : _vm._e(), _vm._v(\" \"), _c('ul', {\n    staticClass: \"item\"\n  }, _vm._l((_vm.floder_list_computed), function(item, index) {\n    return _c('li', {\n      class: {\n        active: _vm.floder_active === _vm.floder_list[index].floder_uid, editor: _vm.floder_edit_index === index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.floder_item_active(index)\n        }\n      }\n    }, [(index != _vm.floder_edit_index) ? [_vm._v(\"\\n                        \" + _vm._s(index + 1 + '、' + item.name) + \"\\n                       \"), _vm._v(\" \"), _c('i', {\n      staticClass: \"iconfont icon-gengduo i1\",\n      on: {\n        \"click\": function($event) {\n          _vm.floder_item_more_crud_enter($event, index)\n        }\n      }\n    })] : _vm._e(), _vm._v(\" \"), (index === _vm.floder_edit_index) ? [_c('input', {\n      attrs: {\n        \"placeholder\": item.name,\n        \"type\": \"\",\n        \"name\": \"\"\n      }\n    }), _vm._v(\" \"), _c('a', {\n      staticClass: \"btn btn_ok\",\n      on: {\n        \"click\": _vm.floder_edit_ok\n      }\n    }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('a', {\n      staticClass: \"btn btn_cancel\",\n      on: {\n        \"click\": function($event) {\n          _vm.floder_edit_cancel(index)\n        }\n      }\n    }, [_vm._v(\"取消\")])] : _vm._e()], 2)\n  }))], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"document\"\n  }, [_c('p', {\n    staticClass: \"p_add\",\n    on: {\n      \"click\": _vm.article_add_show\n    }\n  }, [_c('i', {\n    staticClass: \"i_add\"\n  }, [_vm._v(\"+\")]), _vm._v(\"新建文章\")]), _vm._v(\" \"), (_vm.article_add_visible) ? [_c('div', {\n    staticClass: \"add_wrap\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.article_add_input),\n      expression: \"article_add_input\"\n    }],\n    attrs: {\n      \"placeholder\": \"输入文章名称\",\n      \"type\": \"\",\n      \"name\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.article_add_input)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.article_add_input = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_ok\",\n    on: {\n      \"click\": _vm.article_add_ok\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_cancel\",\n    on: {\n      \"click\": _vm.article_add_cancel\n    }\n  }, [_vm._v(\"取消\")])])] : _vm._e(), _vm._v(\" \"), _c('ul', [_vm._l((_vm.article_list), function(item, index) {\n    return [_c('li', {\n      class: {\n        active: _vm.article_active === _vm.article_list[index].selfuid, editor: _vm.article_edit_index === index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.article_item_active(index)\n        }\n      }\n    }, [_c('i', {\n      staticClass: \"i1\"\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"p1\"\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"p2\"\n    }, [_vm._v(\"------\")]), _vm._v(\" \"), (_vm.article_edit_index === index) ? _c('i', {\n      staticClass: \"iconfont icon-gengduo i2\",\n      on: {\n        \"click\": function($event) {\n          _vm.article_item_more_crud_enter($event, index)\n        }\n      }\n    }) : _vm._e()])]\n  })], 2)], 2)] : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"article\",\n    class: {\n      md_preview: _vm.page_mode === 1\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.article_title),\n      expression: \"article_title\"\n    }],\n    staticClass: \"i1\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"无标题文章\"\n    },\n    domProps: {\n      \"value\": (_vm.article_title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.article_title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('p', {\n    staticClass: \"p1\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-shu i i2 \",\n    on: {\n      \"click\": _vm.article_markdown_preview\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-baocun i i1 animated\",\n    class: {\n      saving: _vm.article_content_style.saving,\n        changed: _vm.article_content_style.changed\n    },\n    on: {\n      \"click\": _vm.article_content_execute\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-fabu i i2 \",\n    on: {\n      \"click\": _vm.article_markdown_preview\n    }\n  })]), _vm._v(\" \"), _c('textarea', {\n    ref: \"ta1\",\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"ta1\",\n      \"cols\": \"30\",\n      \"rows\": \"10\"\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.page_mode === 1),\n      expression: \"page_mode===1\"\n    }],\n    staticClass: \"markdown_parse_preview_wrap\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"markdown_parse_preview\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.article_markdown_preview_text)\n    }\n  })])], 2)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', [_c('i', {\n    staticClass: \"iconfont icon-xiugai\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', [_c('i', {\n    staticClass: \"iconfont icon-xiugai\"\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-0764d24e\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/deploy.vue\n// module id = 340\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"write_article_wrap\"\n  }, [_c('textarea', {\n    ref: \"ta1\",\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"ta1\",\n      \"cols\": \"30\",\n      \"rows\": \"10\"\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-12a97393\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/CodeMirror.vue\n// module id = 341\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"login\"\n    }\n  }, [_c('p', [_vm._v(\"登陆中\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-26306532\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = 342\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _vm._m(0)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"write_article_wrap\"\n  }, [_c('div', {\n    staticStyle: {\n      \"height\": \"100%\",\n      \"overflow\": \"auto\"\n    },\n    attrs: {\n      \"id\": \"ta1\"\n    }\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-3710cfd4\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/editor.vue\n// module id = 343\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-3bd98f62\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 344\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._v(_vm._s(_vm.countPlusLocalState) + \",\" + _vm._s(_vm.count) + \",\" + _vm._s(_vm.countAlias) + \"\\n\\t\"), _c('h1', [_vm._v(\"getter\")]), _vm._v(\"\\n\\tdoneTodos:\" + _vm._s(_vm.doneTodos) + \"\\n\\t\"), _c('br'), _vm._v(\"\\n\\tdoneTodosCount:\" + _vm._s(_vm.doneTodosCount) + \"\\n\\t\"), _c('br'), _vm._v(\" \"), _c('a', {\n    attrs: {\n      \"href\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.addone($event)\n      }\n    }\n  }, [_vm._v(\"mutations add one\")]), _vm._v(\" \"), _c('br'), _vm._v(\"\\n  sub_module\" + _vm._s(_vm.submodule.count) + \"\\n  \"), _c('a', {\n    attrs: {\n      \"href\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.sub_addone($event)\n      }\n    }\n  }, [_vm._v(\"sub module add one\")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-4586f850\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Count.vue\n// module id = 345\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"hello\"\n  }, [_c('h1', [_vm._v(_vm._s(_vm.msg))]), _vm._v(\" \"), _c('counter')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-58029bca\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Hello.vue\n// module id = 346\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"write_article_wrap\"\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.floder_item_more_crud_element_visible),\n      expression: \"floder_item_more_crud_element_visible\"\n    }],\n    ref: \"floder_item_more\",\n    staticClass: \"floder-cover\",\n    attrs: {\n      \"id\": \"floder_item_more\"\n    },\n    on: {\n      \"mouseleave\": function($event) {\n        _vm.floder_item_more_crud_out($event)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"background\"\n  }), _vm._v(\" \"), _c('ul', {\n    staticClass: \"subitem\"\n  }, [_vm._m(0), _vm._v(\" \"), _c('li', {\n    on: {\n      \"click\": _vm.floder_delete\n    }\n  }, [_c('i', {\n    staticClass: \"iconfont icon-shanchu\"\n  })])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.article_item_more_crud_element_visible),\n      expression: \"article_item_more_crud_element_visible\"\n    }],\n    ref: \"article_item_more\",\n    staticClass: \"floder-cover\",\n    attrs: {\n      \"id\": \"article_item_more\"\n    },\n    on: {\n      \"mouseleave\": function($event) {\n        _vm.article_item_more_crud_out($event)\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"background\"\n  }), _vm._v(\" \"), _c('ul', {\n    staticClass: \"subitem\"\n  }, [_vm._m(1), _vm._v(\" \"), _c('li', {\n    on: {\n      \"click\": _vm.article_delete\n    }\n  }, [_c('i', {\n    staticClass: \"iconfont icon-shanchu\"\n  })])])]), _vm._v(\" \"), (_vm.visible.treeview === 1) ? [_c('div', {\n    staticClass: \"floder\"\n  }, [_c('a', {\n    staticClass: \"btn back_home\",\n    attrs: {\n      \"href\": \"/\"\n    }\n  }, [_vm._v(\"回到首页\")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"p_add\",\n    on: {\n      \"click\": _vm.floder_add_show\n    }\n  }, [_c('i', {\n    staticClass: \"i_add\"\n  }, [_vm._v(\"+\")]), _vm._v(\"新建文集\\n      \")]), _vm._v(\" \"), _c('p', {\n    staticClass: \"list_mode\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-zhankai\",\n    on: {\n      \"click\": _vm.floder_mode_show\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-icon1460187848267\",\n    on: {\n      \"click\": _vm.search_mode_show\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-icon1460187848267\",\n    on: {\n      \"click\": function($event) {\n        _vm.search_mode_show_deploy = !_vm.search_mode_show_deploy\n      }\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.floder_add_show_flag),\n      expression: \"floder_add_show_flag\"\n    }],\n    staticClass: \"list_mode_group\"\n  }, [_c('p', {\n    staticClass: \"p1\"\n  }, [_vm._v(\"文集排序方式\")]), _vm._v(\" \"), _c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.floder_mode_show_type),\n      expression: \"floder_mode_show_type\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"\"\n    },\n    on: {\n      \"change\": [function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.floder_mode_show_type = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }, _vm.Mfloder_mode_show_type_change]\n    }\n  }, [_c('option', {\n    attrs: {\n      \"value\": \"1\"\n    }\n  }, [_vm._v(\"创建日期\")]), _vm._v(\" \"), _c('option', {\n    attrs: {\n      \"value\": \"2\"\n    }\n  }, [_vm._v(\"最近使用\")]), _vm._v(\" \"), _c('option', {\n    attrs: {\n      \"value\": \"3\"\n    }\n  }, [_vm._v(\"使用频率\")])])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.search_mode_show_flag),\n      expression: \"search_mode_show_flag\"\n    }],\n    staticClass: \"list_mode_group\"\n  }, [_c('p', {\n    staticClass: \"p1\"\n  }, [_vm._v(\"搜索\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.search_mode_content),\n      expression: \"search_mode_content\"\n    }],\n    staticClass: \"search\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"搜索文集和文章\"\n    },\n    domProps: {\n      \"value\": (_vm.search_mode_content)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.search_mode_content = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_ok\",\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": _vm.search_mode_ok\n    }\n  }, [_vm._v(\"确定\")])]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.search_mode_show_deploy),\n      expression: \"search_mode_show_deploy\"\n    }],\n    staticClass: \"list_mode_group\"\n  }, [_c('a', {\n    staticClass: \"btn btn_ok\",\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": _vm.get_deployed_list\n    }\n  }, [_vm._v(\"已发布文章\")])]), _vm._v(\" \"), (_vm.floder_add_visible) ? [_c('div', {\n    staticClass: \"add_wrap\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.floder_add_input),\n      expression: \"floder_add_input\"\n    }],\n    attrs: {\n      \"placeholder\": \"输入文集名称\",\n      \"type\": \"\",\n      \"name\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.floder_add_input)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.floder_add_input = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_ok\",\n    on: {\n      \"click\": _vm.floder_add_ok\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_cancel\",\n    on: {\n      \"click\": _vm.floder_add_cancel\n    }\n  }, [_vm._v(\"取消\")])])] : _vm._e(), _vm._v(\" \"), _c('ul', {\n    staticClass: \"item\"\n  }, _vm._l((_vm.floder_list_computed), function(item, index) {\n    return _c('li', {\n      key: index,\n      class: {\n        active: _vm.floder_active === _vm.floder_list[index].floder_uid, editor: _vm.floder_edit_index === index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.floder_item_active(index)\n        }\n      }\n    }, [(index != _vm.floder_edit_index) ? [_vm._v(\"\\n            \" + _vm._s(index + 1 + '、' + item.name) + \"\\n            \"), _vm._v(\" \"), _c('i', {\n      staticClass: \"iconfont icon-gengduo i1\",\n      on: {\n        \"click\": function($event) {\n          _vm.floder_item_more_crud_enter($event, index)\n        }\n      }\n    })] : _vm._e(), _vm._v(\" \"), (index === _vm.floder_edit_index) ? [_c('input', {\n      attrs: {\n        \"placeholder\": item.name,\n        \"type\": \"\",\n        \"name\": \"\"\n      }\n    }), _vm._v(\" \"), _c('a', {\n      staticClass: \"btn btn_ok\",\n      on: {\n        \"click\": _vm.floder_edit_ok\n      }\n    }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('a', {\n      staticClass: \"btn btn_cancel\",\n      on: {\n        \"click\": function($event) {\n          _vm.floder_edit_cancel(index)\n        }\n      }\n    }, [_vm._v(\"取消\")])] : _vm._e()], 2)\n  }))], 2), _vm._v(\" \"), _c('div', {\n    staticClass: \"document\"\n  }, [_c('p', {\n    staticClass: \"p_add\",\n    on: {\n      \"click\": _vm.article_add_show\n    }\n  }, [_c('i', {\n    staticClass: \"i_add\"\n  }, [_vm._v(\"+\")]), _vm._v(\"新建文章\\n      \")]), _vm._v(\" \"), (_vm.article_add_visible) ? [_c('div', {\n    staticClass: \"add_wrap\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.article_add_input),\n      expression: \"article_add_input\"\n    }],\n    attrs: {\n      \"placeholder\": \"输入文章名称\",\n      \"type\": \"\",\n      \"name\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.article_add_input)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.article_add_input = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_ok\",\n    on: {\n      \"click\": _vm.article_add_ok\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"btn btn_cancel\",\n    on: {\n      \"click\": _vm.article_add_cancel\n    }\n  }, [_vm._v(\"取消\")])])] : _vm._e(), _vm._v(\" \"), _c('ul', [_vm._l((_vm.article_list), function(item, index) {\n    return [_c('li', {\n      key: index,\n      class: {\n        active: _vm.article_active === _vm.article_list[index].selfuid, editor: _vm.article_edit_index === index\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.article_item_active(index)\n        }\n      }\n    }, [_c('i', {\n      staticClass: \"i1\"\n    }), _vm._v(\" \"), _c('p', {\n      staticClass: \"p1\"\n    }, [_vm._v(_vm._s(item.title))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"p2\"\n    }, [_vm._v(_vm._s(item.deploy_setting && item.deploy_setting.preView))]), _vm._v(\" \"), (_vm.article_edit_index === index) ? _c('i', {\n      staticClass: \"iconfont icon-gengduo i2\",\n      on: {\n        \"click\": function($event) {\n          _vm.article_item_more_crud_enter($event, index)\n        }\n      }\n    }) : _vm._e()])]\n  })], 2)], 2)] : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"article\",\n    class: {\n      md_preview: _vm.visible.markdown === 1,\n        full: _vm.visible.page_mode === 2,\n        deploy: _vm.visible.page_mode === 3\n    }\n  }, [_c('p', {\n    staticClass: \"p1\"\n  }, [_c('i', {\n    staticClass: \"iconfont icon-shu i i2\",\n    class: {\n      active: _vm.visible.page_mode === 1\n    },\n    on: {\n      \"click\": _vm.visible_editor_markdown\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-quanping i i2\",\n    class: {\n      active: _vm.visible.page_mode === 2\n    },\n    on: {\n      \"click\": _vm.visible_only_editor\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-quanping i i2\",\n    class: {\n      active: _vm.visible.page_mode === 3\n    },\n    on: {\n      \"click\": _vm.deploy_setting\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-yin-yang i i1\",\n    class: {\n      active: _vm.visible.page_mode === 2\n    },\n    on: {\n      \"click\": _vm.change_edtior\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-baocun i i1 animated\",\n    class: {\n      saving: _vm.article_content_style.saving,\n        changed: _vm.article_content_style.changed\n    },\n    on: {\n      \"click\": _vm.article_content_execute\n    }\n  }), _vm._v(\" \"), _c('i', {\n    staticClass: \"iconfont icon-fabu i i2\",\n    on: {\n      \"click\": _vm.article_markdown_preview\n    }\n  })]), _vm._v(\" \"), (_vm.editorQuery === 'editor') ? _c('editor', {\n    ref: \"editor\",\n    attrs: {\n      \"data\": _vm.article_content\n    },\n    on: {\n      \"save\": _vm.article_content_save,\n      \"changed\": function($event) {\n        _vm.article_content_style.changed = true\n      }\n    }\n  }) : _vm._e(), _vm._v(\" \"), (_vm.editorQuery === 'codemirror') ? _c('editor-codemirror', {\n    ref: \"codemirror\",\n    attrs: {\n      \"data\": _vm.article_content\n    },\n    on: {\n      \"save\": _vm.article_content_save,\n      \"changed\": function($event) {\n        _vm.article_content_style.changed = true\n      }\n    }\n  }) : _vm._e()], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visible.markdown === 1 && _vm.editorQuery === 'codemirror'),\n      expression: \"visible.markdown===1 && editorQuery==='codemirror'\"\n    }],\n    staticClass: \"markdown_parse_preview_wrap\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"markdown_parse_preview\"\n    },\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.article_markdown_preview_text)\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.visible.deploy === 1 && _vm.editorQuery === 'codemirror'),\n      expression: \"visible.deploy===1 && editorQuery==='codemirror'\"\n    }],\n    staticClass: \"deploy_wrap\"\n  }, [_c('div', {\n    staticClass: \"deploy_setting flex column\"\n  }, [_c('div', {\n    staticClass: \"s-0 flex row\"\n  }, [_c('div', {\n    staticClass: \"s-0-0 flex row\"\n  }, [_vm._v(\"标题\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0-1 flex row\"\n  }, [(_vm.visible.page_mode != 2) ? _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.article_title),\n      expression: \"article_title\"\n    }],\n    staticClass: \"i1\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"文章标题\"\n    },\n    domProps: {\n      \"value\": (_vm.article_title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.article_title = $event.target.value\n      }\n    }\n  }) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0 flex row\"\n  }, [_c('div', {\n    staticClass: \"s-0-0 flex row\"\n  }, [_vm._v(\"标签\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0-1 flex row\"\n  }, [(_vm.visible.page_mode != 2) ? _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.deploy.tags),\n      expression: \"deploy.tags\"\n    }],\n    staticClass: \"i1\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"标签\"\n    },\n    domProps: {\n      \"value\": (_vm.deploy.tags)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.deploy.tags = $event.target.value\n      }\n    }\n  }) : _vm._e()])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0 flex row\"\n  }, [_c('div', {\n    staticClass: \"s-0-0 flex row\"\n  }, [_vm._v(\"预览内容\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0-1 flex row\"\n  }, [_c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.deploy.preView),\n      expression: \"deploy.preView\"\n    }],\n    attrs: {\n      \"name\": \"\",\n      \"id\": \"\",\n      \"cols\": \"30\",\n      \"rows\": \"10\"\n    },\n    domProps: {\n      \"value\": (_vm.deploy.preView)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.deploy.preView = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0 flex row\"\n  }, [_c('div', {\n    staticClass: \"s-0-0 flex row\"\n  }, [_vm._v(\"题图\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"s-0-1 flex row\"\n  }, [(_vm.visible.page_mode != 2) ? _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.deploy.titleImage),\n      expression: \"deploy.titleImage\"\n    }],\n    staticClass: \"i1\",\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"题图连接\"\n    },\n    domProps: {\n      \"value\": (_vm.deploy.titleImage)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.deploy.titleImage = $event.target.value\n      }\n    }\n  }) : _vm._e()])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex row\"\n  }, [_c('button', {\n    staticClass: \"button\",\n    on: {\n      \"click\": _vm.updatedeploy\n    }\n  }, [_vm._v(\"保存\")]), _vm._v(\" \"), _c('button', {\n    staticClass: \"button\",\n    on: {\n      \"click\": _vm.article_deploy\n    }\n  }, [_vm._v(\"发布\")]), _vm._v(\" \"), (_vm.deploy.isDown != true) ? _c('button', {\n    staticClass: \"button\",\n    on: {\n      \"click\": _vm.down_deploied\n    }\n  }, [_vm._v(\"下架\")]) : _vm._e()])])], 2)\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', [_c('i', {\n    staticClass: \"iconfont icon-xiugai\"\n  })])\n},function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('li', [_c('i', {\n    staticClass: \"iconfont icon-xiugai\"\n  })])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?{\"id\":\"data-v-c8fccb44\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/WriteArticle.vue\n// module id = 347\n// module chunks = 1","module.exports = {\r\n    dbName:'DAILYS',\r\n    dbPort:8201,\r\n    servePort:8202\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/PREDEFINED/APP_CONFIG.js\n// module id = 352\n// module chunks = 1","/*\r\n封装的目的是什么？\r\n\r\n1. 提取重复的代码。\r\n2. 保持代码整洁。\r\n\r\n上传事件有哪些重复代码？\r\n\r\n1. 上传进度 通过参数传入回调\r\n2. 上传完成 通过参数传入回调\r\n3. 请求错误 通过参数传入回调\r\n4. 中断请求 通过参数传入回调\r\n\r\n*/\r\n\r\nimport * as BASE from '../../base.js'\r\nimport {\r\n    IP\r\n} from '../../../PREDEFINED/CONSTANT.js'\r\nvar Upload = function(options){\r\n\r\n    var options = Object.assign({\r\n      onSuccess:undefined,\r\n      onError:undefined,\r\n      onComplete:undefined,\r\n      onProcess:undefined\r\n    },options)\r\n\r\n    this.serve_url = IP + \"/upload\"\r\n\r\n    this.fd = new FormData();\r\n    \r\n    this.xhr = new XMLHttpRequest();\r\n\r\n    // xhr.enctype = \"multipart/form-data\";\r\n    //上传中设置上传的百分比\r\n    this.xhr.upload.addEventListener(\"progress\", function(evt){\r\n        if (evt.lengthComputable) {\r\n            var percentComplete = Math.round(evt.loaded * 100 / evt.total);\r\n            if(options.onError!=undefined){\r\n              options.onProcess(percentComplete)\r\n            }\r\n        }else {\r\n\r\n        }\r\n    }, false);\r\n    //请求完成后执行的操作\r\n    this.xhr.addEventListener(\"load\", function(event){\r\n        var obj = JSON.parse(event.target.responseText)\r\n        if(obj.status == 1){\r\n            if(options.onSuccess!=undefined){\r\n              options.onSuccess(event)\r\n            }\r\n        }else{\r\n            if(options.onError!=undefined){\r\n              options.onError(event)\r\n            }\r\n        }\r\n    }, false);\r\n    //请求error\r\n    this.xhr.addEventListener(\"error\", function(event){\r\n        if(options.onError!=undefined){\r\n            options.onError(event)\r\n        }\r\n    }, false);\r\n    //请求中断\r\n    this.xhr.addEventListener(\"abort\", function(event){\r\n        if(options.onError!=undefined){\r\n            options.onError(event)\r\n        }\r\n    }, false);\r\n    //发送请求 服务器请求地址 \r\n\r\n    \r\n}\r\nUpload.prototype.start = function(file){\r\n  this.fd.append(\"file\", file);\r\n//   this.fd.append(\"token\", BASE.getToken());\r\n  \r\n  this.xhr.open(\"post\",this.serve_url,true);\r\n  this.xhr.setRequestHeader('_token', BASE.getToken());\r\n  this.xhr.send(this.fd);\r\n  this.fd.delete(\"file\")\r\n  this.fd.delete(\"token\")\r\n}\r\nUpload.prototype.abort = function(){\r\n  // 中断文件上传\r\n} \r\n\r\nexport default Upload\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/Obj/upload/Upload.js\n// module id = 353\n// module chunks = 1","import mFetch from '../ajax.js'\r\n\r\n// 新建文章\r\nexport const updatedeploy = function(selfuid,preView,tags,titleImage,title){\r\n    // let timemap = (new Date()).getTime()\r\n    let data={\r\n        selfuid,preView,tags,titleImage,title\r\n    }\r\n    return mFetch('/article/update_deploy'\r\n            ,data\r\n            )\r\n}\r\n// 新建文章\r\nexport const add = function(title,floder_uid){\r\n    let timemap = (new Date()).getTime()\r\n    let data={\r\n        title,\r\n        floder_uid,\r\n        timemap\r\n    }\r\n    return mFetch('/article/add'\r\n            ,data\r\n            )\r\n}\r\n// 搜索文章\r\nexport const search = function(keywords){\r\n    let data={\r\n        keywords\r\n    }\r\n    return mFetch('/search'\r\n            ,data\r\n            )\r\n}\r\nexport const allDepolied = function(){\r\n    let data={\r\n        \r\n    }\r\n    return mFetch('/deploy/list'\r\n            ,data\r\n            )\r\n}\r\nexport const downDeploied = function(selfuid){\r\n    let data={\r\n        selfuid\r\n    }\r\n    return mFetch('/deploy/down'\r\n            ,data\r\n            )\r\n}\r\n\r\n// 更新文章\r\nexport const update = function(content,title,selfuid,floder_uid,editor){\r\n    let timemap = (new Date()).getTime()\r\n    let data={\r\n        content,\r\n        title,\r\n        selfuid,\r\n        floder_uid,\r\n        timemap,\r\n        editor\r\n    }\r\n    return mFetch('/article/update'\r\n            ,data\r\n            )\r\n}\r\n// 查询文章\r\nexport const content = function(selfuid,editor){\r\n    let data={\r\n        selfuid,\r\n        editor\r\n    }\r\n    return mFetch('/article/content'\r\n            ,data\r\n            ).then(function(obj){\r\n                if(!obj){\r\n                    return obj\r\n                }\r\n                if(obj.result!=undefined && obj.result.content === undefined){\r\n                    obj.result.content = \"\"\r\n                }\r\n                return obj\r\n            })\r\n}\r\n// 列表\r\nexport const list = function(floder_uid){\r\n    \r\n    let data={\r\n        floder_uid\r\n    }\r\n    return mFetch('/article/list',data)\r\n}\r\n// 列表\r\n// 使用delete无法通过编译\r\nexport const remove = function(selfuid){\r\n    \r\n    let data={\r\n        selfuid\r\n    }\r\n    return mFetch('/article/remove',data)\r\n}\r\nexport const removeDeploy = function(selfuid){\r\n    \r\n    let data={\r\n        selfuid\r\n    }\r\n    return mFetch('/deploy/remove',data)\r\n}\r\n// 发布文章\r\nexport const deploy = function(selfuid){\r\n    let data={\r\n        selfuid\r\n    }\r\n    return mFetch('/deploy/update',data)\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/module/article.js\n// module id = 354\n// module chunks = 1","import mFetch from '../ajax.js'\r\n// 新建文章\r\nexport const add = function(name){\r\n    let data={\r\n        name\r\n    }\r\n    return mFetch('/floder/add'\r\n            ,data\r\n            )\r\n}\r\n// 列表\r\nexport const list = function(){\r\n    return mFetch('/floder/list',{})\r\n}\r\nexport const remove = function(floder_uid){\r\n    let data={\r\n        floder_uid\r\n    }\r\n    return mFetch('/floder/remove'\r\n            ,data\r\n            )\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/module/floder.js\n// module id = 355\n// module chunks = 1","import mFetch from '../ajax.js'\r\nimport md5 from 'md5'\r\nimport {saveUsername} from '../base.js'\r\nimport * as BASE from '../base.js'\r\nexport const login = function(username,password){\r\n    \r\n    let data = {\r\n        username,\r\n        password:md5(password),\r\n        device:'html5'\r\n    }\r\n    return mFetch('/login',data)\r\n        .then(function(res){\r\n            saveUsername(username)\r\n            BASE.saveToken(res.token)\r\n            return res\r\n        })\r\n}\r\n// 注册\r\nexport const regiest = function(username,password){\r\n    let data = {\r\n        username,\r\n        password:md5(password)\r\n    }\r\n    return mFetch('/regiest',\r\n        data)\r\n}\r\n// 测试登录状态\r\nexport const login_status_check = function(token){\r\n    \r\n    return mFetch('/login_status_check',{token})\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/module/login.js\n// module id = 356\n// module chunks = 1","import mFetch from '../ajax.js'\r\n\r\nexport const floder_sort_type = function(type){\r\n    let data = {\r\n        type\r\n    }\r\n    return mFetch('/config/floder_sort_type_update',data)\r\n}\r\nexport const getAll = function(){\r\n    return mFetch('/config/getAll',{})\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/module/userCOnfig.js\n// module id = 357\n// module chunks = 1","/**\r\n * Diff Match and Patch\r\n *\r\n * Copyright 2006 Google Inc.\r\n * http://code.google.com/p/google-diff-match-patch/\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n/**\r\n * @fileoverview Computes the difference between two texts to create a patch.\r\n * Applies the patch onto another text, allowing for errors.\r\n * @author fraser@google.com (Neil Fraser)\r\n */\r\n\r\n/**\r\n * Class containing the diff, match and patch methods.\r\n * @constructor\r\n */\r\nfunction diff_match_patch() {\r\n\r\n  // Defaults.\r\n  // Redefine these in your program to override the defaults.\r\n\r\n  // Number of seconds to map a diff before giving up (0 for infinity).\r\n  this.Diff_Timeout = 1.0;\r\n  // Cost of an empty edit operation in terms of edit characters.\r\n  this.Diff_EditCost = 4;\r\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\r\n  this.Match_Threshold = 0.5;\r\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\r\n  // A match this many characters away from the expected location will add\r\n  // 1.0 to the score (0.0 is a perfect match).\r\n  this.Match_Distance = 1000;\r\n  // When deleting a large block of text (over ~64 characters), how close do\r\n  // the contents have to be to match the expected contents. (0.0 = perfection,\r\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\r\n  // end points of a delete need to match.\r\n  this.Patch_DeleteThreshold = 0.5;\r\n  // Chunk size for context length.\r\n  this.Patch_Margin = 4;\r\n\r\n  // The number of bits in an int.\r\n  this.Match_MaxBits = 32;\r\n}\r\n\r\n\r\n//  DIFF FUNCTIONS\r\n\r\n\r\n/**\r\n * The data structure representing a diff is an array of tuples:\r\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\r\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\r\n */\r\nvar DIFF_DELETE = -1;\r\nvar DIFF_INSERT = 1;\r\nvar DIFF_EQUAL = 0;\r\n\r\n/** @typedef {{0: number, 1: string}} */\r\ndiff_match_patch.Diff;\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Simplifies the problem by stripping\r\n * any common prefix or suffix off the texts before diffing.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\r\n *     then don't run a line-level diff first to identify the changed areas.\r\n *     Defaults to true, which does a faster, slightly less optimal diff.\r\n * @param {number} opt_deadline Optional time when the diff should be complete\r\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\r\n *     instead.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\r\n    opt_deadline) {\r\n  // Set a deadline by which time the diff must be complete.\r\n  if (typeof opt_deadline == 'undefined') {\r\n    if (this.Diff_Timeout <= 0) {\r\n      opt_deadline = Number.MAX_VALUE;\r\n    } else {\r\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\r\n    }\r\n  }\r\n  var deadline = opt_deadline;\r\n\r\n  // Check for null inputs.\r\n  if (text1 == null || text2 == null) {\r\n    throw new Error('Null input. (diff_main)');\r\n  }\r\n\r\n  // Check for equality (speedup).\r\n  if (text1 == text2) {\r\n    if (text1) {\r\n      return [[DIFF_EQUAL, text1]];\r\n    }\r\n    return [];\r\n  }\r\n\r\n  if (typeof opt_checklines == 'undefined') {\r\n    opt_checklines = true;\r\n  }\r\n  var checklines = opt_checklines;\r\n\r\n  // Trim off common prefix (speedup).\r\n  var commonlength = this.diff_commonPrefix(text1, text2);\r\n  var commonprefix = text1.substring(0, commonlength);\r\n  text1 = text1.substring(commonlength);\r\n  text2 = text2.substring(commonlength);\r\n\r\n  // Trim off common suffix (speedup).\r\n  commonlength = this.diff_commonSuffix(text1, text2);\r\n  var commonsuffix = text1.substring(text1.length - commonlength);\r\n  text1 = text1.substring(0, text1.length - commonlength);\r\n  text2 = text2.substring(0, text2.length - commonlength);\r\n\r\n  // Compute the diff on the middle block.\r\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\r\n\r\n  // Restore the prefix and suffix.\r\n  if (commonprefix) {\r\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\r\n  }\r\n  if (commonsuffix) {\r\n    diffs.push([DIFF_EQUAL, commonsuffix]);\r\n  }\r\n  this.diff_cleanupMerge(diffs);\r\n  return diffs;\r\n};\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Assumes that the texts do not\r\n * have any common prefix or suffix.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\r\n *     line-level diff first to identify the changed areas.\r\n *     If true, then run a faster, slightly less optimal diff.\r\n * @param {number} deadline Time when the diff should be complete by.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\r\n    deadline) {\r\n  var diffs;\r\n\r\n  if (!text1) {\r\n    // Just add some text (speedup).\r\n    return [[DIFF_INSERT, text2]];\r\n  }\r\n\r\n  if (!text2) {\r\n    // Just delete some text (speedup).\r\n    return [[DIFF_DELETE, text1]];\r\n  }\r\n\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  var i = longtext.indexOf(shorttext);\r\n  if (i != -1) {\r\n    // Shorter text is inside the longer text (speedup).\r\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\r\n             [DIFF_EQUAL, shorttext],\r\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\r\n    // Swap insertions for deletions if diff is reversed.\r\n    if (text1.length > text2.length) {\r\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\r\n    }\r\n    return diffs;\r\n  }\r\n\r\n  if (shorttext.length == 1) {\r\n    // Single character string.\r\n    // After the previous speedup, the character can't be an equality.\r\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n  }\r\n\r\n  // Check to see if the problem can be split in two.\r\n  var hm = this.diff_halfMatch_(text1, text2);\r\n  if (hm) {\r\n    // A half-match was found, sort out the return data.\r\n    var text1_a = hm[0];\r\n    var text1_b = hm[1];\r\n    var text2_a = hm[2];\r\n    var text2_b = hm[3];\r\n    var mid_common = hm[4];\r\n    // Send both pairs off for separate processing.\r\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\r\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\r\n    // Merge the results.\r\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\r\n  }\r\n\r\n  if (checklines && text1.length > 100 && text2.length > 100) {\r\n    return this.diff_lineMode_(text1, text2, deadline);\r\n  }\r\n\r\n  return this.diff_bisect_(text1, text2, deadline);\r\n};\r\n\r\n\r\n/**\r\n * Do a quick line-level diff on both strings, then rediff the parts for\r\n * greater accuracy.\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} deadline Time when the diff should be complete by.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\r\n  // Scan the text on a line-by-line basis first.\r\n  var a = this.diff_linesToChars_(text1, text2);\r\n  text1 = a.chars1;\r\n  text2 = a.chars2;\r\n  var linearray = a.lineArray;\r\n\r\n  var diffs = this.diff_main(text1, text2, false, deadline);\r\n\r\n  // Convert the diff back to original text.\r\n  this.diff_charsToLines_(diffs, linearray);\r\n  // Eliminate freak matches (e.g. blank lines)\r\n  this.diff_cleanupSemantic(diffs);\r\n\r\n  // Rediff any replacement blocks, this time character-by-character.\r\n  // Add a dummy entry at the end.\r\n  diffs.push([DIFF_EQUAL, '']);\r\n  var pointer = 0;\r\n  var count_delete = 0;\r\n  var count_insert = 0;\r\n  var text_delete = '';\r\n  var text_insert = '';\r\n  while (pointer < diffs.length) {\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // Upon reaching an equality, check for prior redundancies.\r\n        if (count_delete >= 1 && count_insert >= 1) {\r\n          // Delete the offending records and add the merged ones.\r\n          diffs.splice(pointer - count_delete - count_insert,\r\n                       count_delete + count_insert);\r\n          pointer = pointer - count_delete - count_insert;\r\n          var a = this.diff_main(text_delete, text_insert, false, deadline);\r\n          for (var j = a.length - 1; j >= 0; j--) {\r\n            diffs.splice(pointer, 0, a[j]);\r\n          }\r\n          pointer = pointer + a.length;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n    pointer++;\r\n  }\r\n  diffs.pop();  // Remove the dummy entry at the end.\r\n\r\n  return diffs;\r\n};\r\n\r\n\r\n/**\r\n * Find the 'middle snake' of a diff, split the problem in two\r\n * and return the recursively constructed diff.\r\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} deadline Time at which to bail if not yet complete.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  var text1_length = text1.length;\r\n  var text2_length = text2.length;\r\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\r\n  var v_offset = max_d;\r\n  var v_length = 2 * max_d;\r\n  var v1 = new Array(v_length);\r\n  var v2 = new Array(v_length);\r\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\r\n  // integers and undefined.\r\n  for (var x = 0; x < v_length; x++) {\r\n    v1[x] = -1;\r\n    v2[x] = -1;\r\n  }\r\n  v1[v_offset + 1] = 0;\r\n  v2[v_offset + 1] = 0;\r\n  var delta = text1_length - text2_length;\r\n  // If the total number of characters is odd, then the front path will collide\r\n  // with the reverse path.\r\n  var front = (delta % 2 != 0);\r\n  // Offsets for start and end of k loop.\r\n  // Prevents mapping of space beyond the grid.\r\n  var k1start = 0;\r\n  var k1end = 0;\r\n  var k2start = 0;\r\n  var k2end = 0;\r\n  for (var d = 0; d < max_d; d++) {\r\n    // Bail out if deadline is reached.\r\n    if ((new Date()).getTime() > deadline) {\r\n      break;\r\n    }\r\n\r\n    // Walk the front path one step.\r\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\r\n      var k1_offset = v_offset + k1;\r\n      var x1;\r\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\r\n        x1 = v1[k1_offset + 1];\r\n      } else {\r\n        x1 = v1[k1_offset - 1] + 1;\r\n      }\r\n      var y1 = x1 - k1;\r\n      while (x1 < text1_length && y1 < text2_length &&\r\n             text1.charAt(x1) == text2.charAt(y1)) {\r\n        x1++;\r\n        y1++;\r\n      }\r\n      v1[k1_offset] = x1;\r\n      if (x1 > text1_length) {\r\n        // Ran off the right of the graph.\r\n        k1end += 2;\r\n      } else if (y1 > text2_length) {\r\n        // Ran off the bottom of the graph.\r\n        k1start += 2;\r\n      } else if (front) {\r\n        var k2_offset = v_offset + delta - k1;\r\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\r\n          // Mirror x2 onto top-left coordinate system.\r\n          var x2 = text1_length - v2[k2_offset];\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Walk the reverse path one step.\r\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\r\n      var k2_offset = v_offset + k2;\r\n      var x2;\r\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\r\n        x2 = v2[k2_offset + 1];\r\n      } else {\r\n        x2 = v2[k2_offset - 1] + 1;\r\n      }\r\n      var y2 = x2 - k2;\r\n      while (x2 < text1_length && y2 < text2_length &&\r\n             text1.charAt(text1_length - x2 - 1) ==\r\n             text2.charAt(text2_length - y2 - 1)) {\r\n        x2++;\r\n        y2++;\r\n      }\r\n      v2[k2_offset] = x2;\r\n      if (x2 > text1_length) {\r\n        // Ran off the left of the graph.\r\n        k2end += 2;\r\n      } else if (y2 > text2_length) {\r\n        // Ran off the top of the graph.\r\n        k2start += 2;\r\n      } else if (!front) {\r\n        var k1_offset = v_offset + delta - k2;\r\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\r\n          var x1 = v1[k1_offset];\r\n          var y1 = v_offset + x1 - k1_offset;\r\n          // Mirror x2 onto top-left coordinate system.\r\n          x2 = text1_length - x2;\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Diff took too long and hit the deadline or\r\n  // number of diffs equals number of characters, no commonality at all.\r\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n};\r\n\r\n\r\n/**\r\n * Given the location of the 'middle snake', split the diff in two parts\r\n * and recurse.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} x Index of split point in text1.\r\n * @param {number} y Index of split point in text2.\r\n * @param {number} deadline Time at which to bail if not yet complete.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\r\n    deadline) {\r\n  var text1a = text1.substring(0, x);\r\n  var text2a = text2.substring(0, y);\r\n  var text1b = text1.substring(x);\r\n  var text2b = text2.substring(y);\r\n\r\n  // Compute both diffs serially.\r\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\r\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\r\n\r\n  return diffs.concat(diffsb);\r\n};\r\n\r\n\r\n/**\r\n * Split two texts into an array of strings.  Reduce the texts to a string of\r\n * hashes where each Unicode character represents one line.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\r\n *     An object containing the encoded text1, the encoded text2 and\r\n *     the array of unique strings.\r\n *     The zeroth element of the array of unique strings is intentionally blank.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\r\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\r\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\r\n\r\n  // '\\x00' is a valid character, but various debuggers don't like it.\r\n  // So we'll insert a junk entry to avoid generating a null character.\r\n  lineArray[0] = '';\r\n\r\n  /**\r\n   * Split a text into an array of strings.  Reduce the texts to a string of\r\n   * hashes where each Unicode character represents one line.\r\n   * Modifies linearray and linehash through being a closure.\r\n   * @param {string} text String to encode.\r\n   * @return {string} Encoded string.\r\n   * @private\r\n   */\r\n  function diff_linesToCharsMunge_(text) {\r\n    var chars = '';\r\n    // Walk the text, pulling out a substring for each line.\r\n    // text.split('\\n') would would temporarily double our memory footprint.\r\n    // Modifying text would create many large strings to garbage collect.\r\n    var lineStart = 0;\r\n    var lineEnd = -1;\r\n    // Keeping our own length variable is faster than looking it up.\r\n    var lineArrayLength = lineArray.length;\r\n    while (lineEnd < text.length - 1) {\r\n      lineEnd = text.indexOf('\\n', lineStart);\r\n      if (lineEnd == -1) {\r\n        lineEnd = text.length - 1;\r\n      }\r\n      var line = text.substring(lineStart, lineEnd + 1);\r\n      lineStart = lineEnd + 1;\r\n\r\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\r\n          (lineHash[line] !== undefined)) {\r\n        chars += String.fromCharCode(lineHash[line]);\r\n      } else {\r\n        chars += String.fromCharCode(lineArrayLength);\r\n        lineHash[line] = lineArrayLength;\r\n        lineArray[lineArrayLength++] = line;\r\n      }\r\n    }\r\n    return chars;\r\n  }\r\n\r\n  var chars1 = diff_linesToCharsMunge_(text1);\r\n  var chars2 = diff_linesToCharsMunge_(text2);\r\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\r\n};\r\n\r\n\r\n/**\r\n * Rehydrate the text in a diff from a string of line hashes to real lines of\r\n * text.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @param {!Array.<string>} lineArray Array of unique strings.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var chars = diffs[x][1];\r\n    var text = [];\r\n    for (var y = 0; y < chars.length; y++) {\r\n      text[y] = lineArray[chars.charCodeAt(y)];\r\n    }\r\n    diffs[x][1] = text.join('');\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Determine the common prefix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the start of each\r\n *     string.\r\n */\r\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerstart = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(pointerstart, pointermid) ==\r\n        text2.substring(pointerstart, pointermid)) {\r\n      pointermin = pointermid;\r\n      pointerstart = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Determine the common suffix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of each string.\r\n */\r\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 ||\r\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerend = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\r\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\r\n      pointermin = pointermid;\r\n      pointerend = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Determine if the suffix of one string is the prefix of another.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of the first\r\n *     string and the start of the second string.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  var text1_length = text1.length;\r\n  var text2_length = text2.length;\r\n  // Eliminate the null case.\r\n  if (text1_length == 0 || text2_length == 0) {\r\n    return 0;\r\n  }\r\n  // Truncate the longer string.\r\n  if (text1_length > text2_length) {\r\n    text1 = text1.substring(text1_length - text2_length);\r\n  } else if (text1_length < text2_length) {\r\n    text2 = text2.substring(0, text1_length);\r\n  }\r\n  var text_length = Math.min(text1_length, text2_length);\r\n  // Quick check for the worst case.\r\n  if (text1 == text2) {\r\n    return text_length;\r\n  }\r\n\r\n  // Start by looking for a single character match\r\n  // and increase length until no match is found.\r\n  // Performance analysis: http://neil.fraser.name/news/2010/11/04/\r\n  var best = 0;\r\n  var length = 1;\r\n  while (true) {\r\n    var pattern = text1.substring(text_length - length);\r\n    var found = text2.indexOf(pattern);\r\n    if (found == -1) {\r\n      return best;\r\n    }\r\n    length += found;\r\n    if (found == 0 || text1.substring(text_length - length) ==\r\n        text2.substring(0, length)) {\r\n      best = length;\r\n      length++;\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Do the two texts share a substring which is at least half the length of the\r\n * longer text?\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {Array.<string>} Five element Array, containing the prefix of\r\n *     text1, the suffix of text1, the prefix of text2, the suffix of\r\n *     text2 and the common middle.  Or null if there was no match.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\r\n  if (this.Diff_Timeout <= 0) {\r\n    // Don't risk returning a non-optimal diff if we have unlimited time.\r\n    return null;\r\n  }\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\r\n    return null;  // Pointless.\r\n  }\r\n  var dmp = this;  // 'this' becomes 'window' in a closure.\r\n\r\n  /**\r\n   * Does a substring of shorttext exist within longtext such that the substring\r\n   * is at least half the length of longtext?\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} longtext Longer string.\r\n   * @param {string} shorttext Shorter string.\r\n   * @param {number} i Start index of quarter length substring within longtext.\r\n   * @return {Array.<string>} Five element Array, containing the prefix of\r\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\r\n   *     of shorttext and the common middle.  Or null if there was no match.\r\n   * @private\r\n   */\r\n  function diff_halfMatchI_(longtext, shorttext, i) {\r\n    // Start with a 1/4 length substring at position i as a seed.\r\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\r\n    var j = -1;\r\n    var best_common = '';\r\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\r\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\r\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\r\n                                               shorttext.substring(j));\r\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\r\n                                               shorttext.substring(0, j));\r\n      if (best_common.length < suffixLength + prefixLength) {\r\n        best_common = shorttext.substring(j - suffixLength, j) +\r\n            shorttext.substring(j, j + prefixLength);\r\n        best_longtext_a = longtext.substring(0, i - suffixLength);\r\n        best_longtext_b = longtext.substring(i + prefixLength);\r\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\r\n        best_shorttext_b = shorttext.substring(j + prefixLength);\r\n      }\r\n    }\r\n    if (best_common.length * 2 >= longtext.length) {\r\n      return [best_longtext_a, best_longtext_b,\r\n              best_shorttext_a, best_shorttext_b, best_common];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // First check if the second quarter is the seed for a half-match.\r\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 4));\r\n  // Check again based on the third quarter.\r\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 2));\r\n  var hm;\r\n  if (!hm1 && !hm2) {\r\n    return null;\r\n  } else if (!hm2) {\r\n    hm = hm1;\r\n  } else if (!hm1) {\r\n    hm = hm2;\r\n  } else {\r\n    // Both matched.  Select the longest.\r\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\r\n  }\r\n\r\n  // A half-match was found, sort out the return data.\r\n  var text1_a, text1_b, text2_a, text2_b;\r\n  if (text1.length > text2.length) {\r\n    text1_a = hm[0];\r\n    text1_b = hm[1];\r\n    text2_a = hm[2];\r\n    text2_b = hm[3];\r\n  } else {\r\n    text2_a = hm[0];\r\n    text2_b = hm[1];\r\n    text1_a = hm[2];\r\n    text1_b = hm[3];\r\n  }\r\n  var mid_common = hm[4];\r\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\r\n};\r\n\r\n\r\n/**\r\n * Reduce the number of edits by eliminating semantically trivial equalities.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\r\n  var changes = false;\r\n  var equalities = [];  // Stack of indices where equalities are found.\r\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\r\n  /** @type {?string} */\r\n  var lastequality = null;\r\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\r\n  var pointer = 0;  // Index of current position.\r\n  // Number of characters that changed prior to the equality.\r\n  var length_insertions1 = 0;\r\n  var length_deletions1 = 0;\r\n  // Number of characters that changed after the equality.\r\n  var length_insertions2 = 0;\r\n  var length_deletions2 = 0;\r\n  while (pointer < diffs.length) {\r\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\r\n      equalities[equalitiesLength++] = pointer;\r\n      length_insertions1 = length_insertions2;\r\n      length_deletions1 = length_deletions2;\r\n      length_insertions2 = 0;\r\n      length_deletions2 = 0;\r\n      lastequality = diffs[pointer][1];\r\n    } else {  // An insertion or deletion.\r\n      if (diffs[pointer][0] == DIFF_INSERT) {\r\n        length_insertions2 += diffs[pointer][1].length;\r\n      } else {\r\n        length_deletions2 += diffs[pointer][1].length;\r\n      }\r\n      // Eliminate an equality that is smaller or equal to the edits on both\r\n      // sides of it.\r\n      if (lastequality && (lastequality.length <=\r\n          Math.max(length_insertions1, length_deletions1)) &&\r\n          (lastequality.length <= Math.max(length_insertions2,\r\n                                           length_deletions2))) {\r\n        // Duplicate record.\r\n        diffs.splice(equalities[equalitiesLength - 1], 0,\r\n                     [DIFF_DELETE, lastequality]);\r\n        // Change second copy to insert.\r\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\r\n        // Throw away the equality we just deleted.\r\n        equalitiesLength--;\r\n        // Throw away the previous equality (it needs to be reevaluated).\r\n        equalitiesLength--;\r\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\r\n        length_insertions1 = 0;  // Reset the counters.\r\n        length_deletions1 = 0;\r\n        length_insertions2 = 0;\r\n        length_deletions2 = 0;\r\n        lastequality = null;\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n\r\n  // Normalize the diff.\r\n  if (changes) {\r\n    this.diff_cleanupMerge(diffs);\r\n  }\r\n  this.diff_cleanupSemanticLossless(diffs);\r\n\r\n  // Find any overlaps between deletions and insertions.\r\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\r\n  //   -> <del>abc</del>xxx<ins>def</ins>\r\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\r\n  //   -> <ins>def</ins>xxx<del>abc</del>\r\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\r\n  pointer = 1;\r\n  while (pointer < diffs.length) {\r\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\r\n        diffs[pointer][0] == DIFF_INSERT) {\r\n      var deletion = diffs[pointer - 1][1];\r\n      var insertion = diffs[pointer][1];\r\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\r\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\r\n      if (overlap_length1 >= overlap_length2) {\r\n        if (overlap_length1 >= deletion.length / 2 ||\r\n            overlap_length1 >= insertion.length / 2) {\r\n          // Overlap found.  Insert an equality and trim the surrounding edits.\r\n          diffs.splice(pointer, 0,\r\n              [DIFF_EQUAL, insertion.substring(0, overlap_length1)]);\r\n          diffs[pointer - 1][1] =\r\n              deletion.substring(0, deletion.length - overlap_length1);\r\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\r\n          pointer++;\r\n        }\r\n      } else {\r\n        if (overlap_length2 >= deletion.length / 2 ||\r\n            overlap_length2 >= insertion.length / 2) {\r\n          // Reverse overlap found.\r\n          // Insert an equality and swap and trim the surrounding edits.\r\n          diffs.splice(pointer, 0,\r\n              [DIFF_EQUAL, deletion.substring(0, overlap_length2)]);\r\n          diffs[pointer - 1][0] = DIFF_INSERT;\r\n          diffs[pointer - 1][1] =\r\n              insertion.substring(0, insertion.length - overlap_length2);\r\n          diffs[pointer + 1][0] = DIFF_DELETE;\r\n          diffs[pointer + 1][1] =\r\n              deletion.substring(overlap_length2);\r\n          pointer++;\r\n        }\r\n      }\r\n      pointer++;\r\n    }\r\n    pointer++;\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Look for single edits surrounded on both sides by equalities\r\n * which can be shifted sideways to align the edit to a word boundary.\r\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\r\n  /**\r\n   * Given two strings, compute a score representing whether the internal\r\n   * boundary falls on logical boundaries.\r\n   * Scores range from 6 (best) to 0 (worst).\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} one First string.\r\n   * @param {string} two Second string.\r\n   * @return {number} The score.\r\n   * @private\r\n   */\r\n  function diff_cleanupSemanticScore_(one, two) {\r\n    if (!one || !two) {\r\n      // Edges are the best.\r\n      return 6;\r\n    }\r\n\r\n    // Each port of this function behaves slightly differently due to\r\n    // subtle differences in each language's definition of things like\r\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\r\n    // the choice has been made to use each language's native features\r\n    // rather than force total conformity.\r\n    var char1 = one.charAt(one.length - 1);\r\n    var char2 = two.charAt(0);\r\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\r\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\r\n    var whitespace1 = nonAlphaNumeric1 &&\r\n        char1.match(diff_match_patch.whitespaceRegex_);\r\n    var whitespace2 = nonAlphaNumeric2 &&\r\n        char2.match(diff_match_patch.whitespaceRegex_);\r\n    var lineBreak1 = whitespace1 &&\r\n        char1.match(diff_match_patch.linebreakRegex_);\r\n    var lineBreak2 = whitespace2 &&\r\n        char2.match(diff_match_patch.linebreakRegex_);\r\n    var blankLine1 = lineBreak1 &&\r\n        one.match(diff_match_patch.blanklineEndRegex_);\r\n    var blankLine2 = lineBreak2 &&\r\n        two.match(diff_match_patch.blanklineStartRegex_);\r\n\r\n    if (blankLine1 || blankLine2) {\r\n      // Five points for blank lines.\r\n      return 5;\r\n    } else if (lineBreak1 || lineBreak2) {\r\n      // Four points for line breaks.\r\n      return 4;\r\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\r\n      // Three points for end of sentences.\r\n      return 3;\r\n    } else if (whitespace1 || whitespace2) {\r\n      // Two points for whitespace.\r\n      return 2;\r\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\r\n      // One point for non-alphanumeric.\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  var pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\r\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      var equality1 = diffs[pointer - 1][1];\r\n      var edit = diffs[pointer][1];\r\n      var equality2 = diffs[pointer + 1][1];\r\n\r\n      // First, shift the edit as far left as possible.\r\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\r\n      if (commonOffset) {\r\n        var commonString = edit.substring(edit.length - commonOffset);\r\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\r\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\r\n        equality2 = commonString + equality2;\r\n      }\r\n\r\n      // Second, step character by character right, looking for the best fit.\r\n      var bestEquality1 = equality1;\r\n      var bestEdit = edit;\r\n      var bestEquality2 = equality2;\r\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\r\n          diff_cleanupSemanticScore_(edit, equality2);\r\n      while (edit.charAt(0) === equality2.charAt(0)) {\r\n        equality1 += edit.charAt(0);\r\n        edit = edit.substring(1) + equality2.charAt(0);\r\n        equality2 = equality2.substring(1);\r\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\r\n            diff_cleanupSemanticScore_(edit, equality2);\r\n        // The >= encourages trailing rather than leading whitespace on edits.\r\n        if (score >= bestScore) {\r\n          bestScore = score;\r\n          bestEquality1 = equality1;\r\n          bestEdit = edit;\r\n          bestEquality2 = equality2;\r\n        }\r\n      }\r\n\r\n      if (diffs[pointer - 1][1] != bestEquality1) {\r\n        // We have an improvement, save it back to the diff.\r\n        if (bestEquality1) {\r\n          diffs[pointer - 1][1] = bestEquality1;\r\n        } else {\r\n          diffs.splice(pointer - 1, 1);\r\n          pointer--;\r\n        }\r\n        diffs[pointer][1] = bestEdit;\r\n        if (bestEquality2) {\r\n          diffs[pointer + 1][1] = bestEquality2;\r\n        } else {\r\n          diffs.splice(pointer + 1, 1);\r\n          pointer--;\r\n        }\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n};\r\n\r\n// Define some regex patterns for matching boundaries.\r\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\r\ndiff_match_patch.whitespaceRegex_ = /\\s/;\r\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\r\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\r\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\r\n\r\n/**\r\n * Reduce the number of edits by eliminating operationally trivial equalities.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\r\n  var changes = false;\r\n  var equalities = [];  // Stack of indices where equalities are found.\r\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\r\n  /** @type {?string} */\r\n  var lastequality = null;\r\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\r\n  var pointer = 0;  // Index of current position.\r\n  // Is there an insertion operation before the last equality.\r\n  var pre_ins = false;\r\n  // Is there a deletion operation before the last equality.\r\n  var pre_del = false;\r\n  // Is there an insertion operation after the last equality.\r\n  var post_ins = false;\r\n  // Is there a deletion operation after the last equality.\r\n  var post_del = false;\r\n  while (pointer < diffs.length) {\r\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\r\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\r\n          (post_ins || post_del)) {\r\n        // Candidate found.\r\n        equalities[equalitiesLength++] = pointer;\r\n        pre_ins = post_ins;\r\n        pre_del = post_del;\r\n        lastequality = diffs[pointer][1];\r\n      } else {\r\n        // Not a candidate, and can never become one.\r\n        equalitiesLength = 0;\r\n        lastequality = null;\r\n      }\r\n      post_ins = post_del = false;\r\n    } else {  // An insertion or deletion.\r\n      if (diffs[pointer][0] == DIFF_DELETE) {\r\n        post_del = true;\r\n      } else {\r\n        post_ins = true;\r\n      }\r\n      /*\r\n       * Five types to be split:\r\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\r\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\r\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\r\n       * <ins>A</del>X<ins>C</ins><del>D</del>\r\n       * <ins>A</ins><del>B</del>X<del>C</del>\r\n       */\r\n      if (lastequality && ((pre_ins && pre_del && post_ins && post_del) ||\r\n                           ((lastequality.length < this.Diff_EditCost / 2) &&\r\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\r\n        // Duplicate record.\r\n        diffs.splice(equalities[equalitiesLength - 1], 0,\r\n                     [DIFF_DELETE, lastequality]);\r\n        // Change second copy to insert.\r\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\r\n        equalitiesLength--;  // Throw away the equality we just deleted;\r\n        lastequality = null;\r\n        if (pre_ins && pre_del) {\r\n          // No changes made which could affect previous entry, keep going.\r\n          post_ins = post_del = true;\r\n          equalitiesLength = 0;\r\n        } else {\r\n          equalitiesLength--;  // Throw away the previous equality.\r\n          pointer = equalitiesLength > 0 ?\r\n              equalities[equalitiesLength - 1] : -1;\r\n          post_ins = post_del = false;\r\n        }\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n\r\n  if (changes) {\r\n    this.diff_cleanupMerge(diffs);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Reorder and merge like edit sections.  Merge equalities.\r\n * Any edit section can move as long as it doesn't cross an equality.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n */\r\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\r\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\r\n  var pointer = 0;\r\n  var count_delete = 0;\r\n  var count_insert = 0;\r\n  var text_delete = '';\r\n  var text_insert = '';\r\n  var commonlength;\r\n  while (pointer < diffs.length) {\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // Upon reaching an equality, check for prior redundancies.\r\n        if (count_delete + count_insert > 1) {\r\n          if (count_delete !== 0 && count_insert !== 0) {\r\n            // Factor out any common prefixies.\r\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              if ((pointer - count_delete - count_insert) > 0 &&\r\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\r\n                  DIFF_EQUAL) {\r\n                diffs[pointer - count_delete - count_insert - 1][1] +=\r\n                    text_insert.substring(0, commonlength);\r\n              } else {\r\n                diffs.splice(0, 0, [DIFF_EQUAL,\r\n                                    text_insert.substring(0, commonlength)]);\r\n                pointer++;\r\n              }\r\n              text_insert = text_insert.substring(commonlength);\r\n              text_delete = text_delete.substring(commonlength);\r\n            }\r\n            // Factor out any common suffixies.\r\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\r\n                  commonlength) + diffs[pointer][1];\r\n              text_insert = text_insert.substring(0, text_insert.length -\r\n                  commonlength);\r\n              text_delete = text_delete.substring(0, text_delete.length -\r\n                  commonlength);\r\n            }\r\n          }\r\n          // Delete the offending records and add the merged ones.\r\n          if (count_delete === 0) {\r\n            diffs.splice(pointer - count_insert,\r\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\r\n          } else if (count_insert === 0) {\r\n            diffs.splice(pointer - count_delete,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\r\n          } else {\r\n            diffs.splice(pointer - count_delete - count_insert,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\r\n                [DIFF_INSERT, text_insert]);\r\n          }\r\n          pointer = pointer - count_delete - count_insert +\r\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\r\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\r\n          // Merge this equality with the previous one.\r\n          diffs[pointer - 1][1] += diffs[pointer][1];\r\n          diffs.splice(pointer, 1);\r\n        } else {\r\n          pointer++;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n  }\r\n  if (diffs[diffs.length - 1][1] === '') {\r\n    diffs.pop();  // Remove the dummy entry at the end.\r\n  }\r\n\r\n  // Second pass: look for single edits surrounded on both sides by equalities\r\n  // which can be shifted sideways to eliminate an equality.\r\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\r\n  var changes = false;\r\n  pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\r\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\r\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\r\n        // Shift the edit over the previous equality.\r\n        diffs[pointer][1] = diffs[pointer - 1][1] +\r\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\r\n                                        diffs[pointer - 1][1].length);\r\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\r\n        diffs.splice(pointer - 1, 1);\r\n        changes = true;\r\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\r\n          diffs[pointer + 1][1]) {\r\n        // Shift the edit over the next equality.\r\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\r\n        diffs[pointer][1] =\r\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\r\n            diffs[pointer + 1][1];\r\n        diffs.splice(pointer + 1, 1);\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n  // If shifts were made, the diff needs reordering and another shift sweep.\r\n  if (changes) {\r\n    this.diff_cleanupMerge(diffs);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * loc is a location in text1, compute and return the equivalent location in\r\n * text2.\r\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @param {number} loc Location within text1.\r\n * @return {number} Location within text2.\r\n */\r\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\r\n  var chars1 = 0;\r\n  var chars2 = 0;\r\n  var last_chars1 = 0;\r\n  var last_chars2 = 0;\r\n  var x;\r\n  for (x = 0; x < diffs.length; x++) {\r\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\r\n      chars1 += diffs[x][1].length;\r\n    }\r\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\r\n      chars2 += diffs[x][1].length;\r\n    }\r\n    if (chars1 > loc) {  // Overshot the location.\r\n      break;\r\n    }\r\n    last_chars1 = chars1;\r\n    last_chars2 = chars2;\r\n  }\r\n  // Was the location was deleted?\r\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\r\n    return last_chars2;\r\n  }\r\n  // Add the remaining character length.\r\n  return last_chars2 + (loc - last_chars1);\r\n};\r\n\r\n\r\n/**\r\n * Convert a diff array into a pretty HTML report.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} HTML representation.\r\n */\r\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\r\n  var html = [];\r\n  var pattern_amp = /&/g;\r\n  var pattern_lt = /</g;\r\n  var pattern_gt = />/g;\r\n  var pattern_para = /\\n/g;\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\r\n    var data = diffs[x][1];  // Text of change.\r\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\r\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\r\n    switch (op) {\r\n      case DIFF_INSERT:\r\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\r\n        break;\r\n      case DIFF_DELETE:\r\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\r\n        break;\r\n      case DIFF_EQUAL:\r\n        html[x] = '<span>' + text + '</span>';\r\n        break;\r\n    }\r\n  }\r\n  return html.join('');\r\n};\r\n\r\n\r\n/**\r\n * Compute and return the source text (all equalities and deletions).\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} Source text.\r\n */\r\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\r\n  var text = [];\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    if (diffs[x][0] !== DIFF_INSERT) {\r\n      text[x] = diffs[x][1];\r\n    }\r\n  }\r\n  return text.join('');\r\n};\r\n\r\n\r\n/**\r\n * Compute and return the destination text (all equalities and insertions).\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} Destination text.\r\n */\r\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\r\n  var text = [];\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    if (diffs[x][0] !== DIFF_DELETE) {\r\n      text[x] = diffs[x][1];\r\n    }\r\n  }\r\n  return text.join('');\r\n};\r\n\r\n\r\n/**\r\n * Compute the Levenshtein distance; the number of inserted, deleted or\r\n * substituted characters.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {number} Number of changes.\r\n */\r\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\r\n  var levenshtein = 0;\r\n  var insertions = 0;\r\n  var deletions = 0;\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var op = diffs[x][0];\r\n    var data = diffs[x][1];\r\n    switch (op) {\r\n      case DIFF_INSERT:\r\n        insertions += data.length;\r\n        break;\r\n      case DIFF_DELETE:\r\n        deletions += data.length;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // A deletion and an insertion is one substitution.\r\n        levenshtein += Math.max(insertions, deletions);\r\n        insertions = 0;\r\n        deletions = 0;\r\n        break;\r\n    }\r\n  }\r\n  levenshtein += Math.max(insertions, deletions);\r\n  return levenshtein;\r\n};\r\n\r\n\r\n/**\r\n * Crush the diff into an encoded string which describes the operations\r\n * required to transform text1 into text2.\r\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\r\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\r\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\r\n * @return {string} Delta text.\r\n */\r\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\r\n  var text = [];\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    switch (diffs[x][0]) {\r\n      case DIFF_INSERT:\r\n        text[x] = '+' + encodeURI(diffs[x][1]);\r\n        break;\r\n      case DIFF_DELETE:\r\n        text[x] = '-' + diffs[x][1].length;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        text[x] = '=' + diffs[x][1].length;\r\n        break;\r\n    }\r\n  }\r\n  return text.join('\\t').replace(/%20/g, ' ');\r\n};\r\n\r\n\r\n/**\r\n * Given the original text1, and an encoded string which describes the\r\n * operations required to transform text1 into text2, compute the full diff.\r\n * @param {string} text1 Source string for the diff.\r\n * @param {string} delta Delta text.\r\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\r\n * @throws {!Error} If invalid input.\r\n */\r\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\r\n  var diffs = [];\r\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\r\n  var pointer = 0;  // Cursor in text1\r\n  var tokens = delta.split(/\\t/g);\r\n  for (var x = 0; x < tokens.length; x++) {\r\n    // Each token begins with a one character parameter which specifies the\r\n    // operation of this token (delete, insert, equality).\r\n    var param = tokens[x].substring(1);\r\n    switch (tokens[x].charAt(0)) {\r\n      case '+':\r\n        try {\r\n          diffs[diffsLength++] = [DIFF_INSERT, decodeURI(param)];\r\n        } catch (ex) {\r\n          // Malformed URI sequence.\r\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\r\n        }\r\n        break;\r\n      case '-':\r\n        // Fall through.\r\n      case '=':\r\n        var n = parseInt(param, 10);\r\n        if (isNaN(n) || n < 0) {\r\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\r\n        }\r\n        var text = text1.substring(pointer, pointer += n);\r\n        if (tokens[x].charAt(0) == '=') {\r\n          diffs[diffsLength++] = [DIFF_EQUAL, text];\r\n        } else {\r\n          diffs[diffsLength++] = [DIFF_DELETE, text];\r\n        }\r\n        break;\r\n      default:\r\n        // Blank tokens are ok (from a trailing \\t).\r\n        // Anything else is an error.\r\n        if (tokens[x]) {\r\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\r\n                          tokens[x]);\r\n        }\r\n    }\r\n  }\r\n  if (pointer != text1.length) {\r\n    throw new Error('Delta length (' + pointer +\r\n        ') does not equal source text length (' + text1.length + ').');\r\n  }\r\n  return diffs;\r\n};\r\n\r\n\r\n//  MATCH FUNCTIONS\r\n\r\n\r\n/**\r\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\r\n * @param {string} text The text to search.\r\n * @param {string} pattern The pattern to search for.\r\n * @param {number} loc The location to search around.\r\n * @return {number} Best match index or -1.\r\n */\r\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\r\n  // Check for null inputs.\r\n  if (text == null || pattern == null || loc == null) {\r\n    throw new Error('Null input. (match_main)');\r\n  }\r\n\r\n  loc = Math.max(0, Math.min(loc, text.length));\r\n  if (text == pattern) {\r\n    // Shortcut (potentially not guaranteed by the algorithm)\r\n    return 0;\r\n  } else if (!text.length) {\r\n    // Nothing to match.\r\n    return -1;\r\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\r\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\r\n    return loc;\r\n  } else {\r\n    // Do a fuzzy compare.\r\n    return this.match_bitap_(text, pattern, loc);\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\r\n * Bitap algorithm.\r\n * @param {string} text The text to search.\r\n * @param {string} pattern The pattern to search for.\r\n * @param {number} loc The location to search around.\r\n * @return {number} Best match index or -1.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\r\n  if (pattern.length > this.Match_MaxBits) {\r\n    throw new Error('Pattern too long for this browser.');\r\n  }\r\n\r\n  // Initialise the alphabet.\r\n  var s = this.match_alphabet_(pattern);\r\n\r\n  var dmp = this;  // 'this' becomes 'window' in a closure.\r\n\r\n  /**\r\n   * Compute and return the score for a match with e errors and x location.\r\n   * Accesses loc and pattern through being a closure.\r\n   * @param {number} e Number of errors in match.\r\n   * @param {number} x Location of match.\r\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\r\n   * @private\r\n   */\r\n  function match_bitapScore_(e, x) {\r\n    var accuracy = e / pattern.length;\r\n    var proximity = Math.abs(loc - x);\r\n    if (!dmp.Match_Distance) {\r\n      // Dodge divide by zero error.\r\n      return proximity ? 1.0 : accuracy;\r\n    }\r\n    return accuracy + (proximity / dmp.Match_Distance);\r\n  }\r\n\r\n  // Highest score beyond which we give up.\r\n  var score_threshold = this.Match_Threshold;\r\n  // Is there a nearby exact match? (speedup)\r\n  var best_loc = text.indexOf(pattern, loc);\r\n  if (best_loc != -1) {\r\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\r\n    // What about in the other direction? (speedup)\r\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\r\n    if (best_loc != -1) {\r\n      score_threshold =\r\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\r\n    }\r\n  }\r\n\r\n  // Initialise the bit arrays.\r\n  var matchmask = 1 << (pattern.length - 1);\r\n  best_loc = -1;\r\n\r\n  var bin_min, bin_mid;\r\n  var bin_max = pattern.length + text.length;\r\n  var last_rd;\r\n  for (var d = 0; d < pattern.length; d++) {\r\n    // Scan for the best match; each iteration allows for one more error.\r\n    // Run a binary search to determine how far from 'loc' we can stray at this\r\n    // error level.\r\n    bin_min = 0;\r\n    bin_mid = bin_max;\r\n    while (bin_min < bin_mid) {\r\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\r\n        bin_min = bin_mid;\r\n      } else {\r\n        bin_max = bin_mid;\r\n      }\r\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\r\n    }\r\n    // Use the result from this iteration as the maximum for the next.\r\n    bin_max = bin_mid;\r\n    var start = Math.max(1, loc - bin_mid + 1);\r\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\r\n\r\n    var rd = Array(finish + 2);\r\n    rd[finish + 1] = (1 << d) - 1;\r\n    for (var j = finish; j >= start; j--) {\r\n      // The alphabet (s) is a sparse hash, so the following line generates\r\n      // warnings.\r\n      var charMatch = s[text.charAt(j - 1)];\r\n      if (d === 0) {  // First pass: exact match.\r\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\r\n      } else {  // Subsequent passes: fuzzy match.\r\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\r\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\r\n                last_rd[j + 1];\r\n      }\r\n      if (rd[j] & matchmask) {\r\n        var score = match_bitapScore_(d, j - 1);\r\n        // This match will almost certainly be better than any existing match.\r\n        // But check anyway.\r\n        if (score <= score_threshold) {\r\n          // Told you so.\r\n          score_threshold = score;\r\n          best_loc = j - 1;\r\n          if (best_loc > loc) {\r\n            // When passing loc, don't exceed our current distance from loc.\r\n            start = Math.max(1, 2 * loc - best_loc);\r\n          } else {\r\n            // Already passed loc, downhill from here on in.\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // No hope for a (better) match at greater error levels.\r\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\r\n      break;\r\n    }\r\n    last_rd = rd;\r\n  }\r\n  return best_loc;\r\n};\r\n\r\n\r\n/**\r\n * Initialise the alphabet for the Bitap algorithm.\r\n * @param {string} pattern The text to encode.\r\n * @return {!Object} Hash of character locations.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\r\n  var s = {};\r\n  for (var i = 0; i < pattern.length; i++) {\r\n    s[pattern.charAt(i)] = 0;\r\n  }\r\n  for (var i = 0; i < pattern.length; i++) {\r\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\r\n  }\r\n  return s;\r\n};\r\n\r\n\r\n//  PATCH FUNCTIONS\r\n\r\n\r\n/**\r\n * Increase the context until it is unique,\r\n * but don't let the pattern expand beyond Match_MaxBits.\r\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\r\n * @param {string} text Source text.\r\n * @private\r\n */\r\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\r\n  if (text.length == 0) {\r\n    return;\r\n  }\r\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\r\n  var padding = 0;\r\n\r\n  // Look for the first and last matches of pattern in text.  If two different\r\n  // matches are found, increase the pattern length.\r\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\r\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\r\n         this.Patch_Margin) {\r\n    padding += this.Patch_Margin;\r\n    pattern = text.substring(patch.start2 - padding,\r\n                             patch.start2 + patch.length1 + padding);\r\n  }\r\n  // Add one chunk for good luck.\r\n  padding += this.Patch_Margin;\r\n\r\n  // Add the prefix.\r\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\r\n  if (prefix) {\r\n    patch.diffs.unshift([DIFF_EQUAL, prefix]);\r\n  }\r\n  // Add the suffix.\r\n  var suffix = text.substring(patch.start2 + patch.length1,\r\n                              patch.start2 + patch.length1 + padding);\r\n  if (suffix) {\r\n    patch.diffs.push([DIFF_EQUAL, suffix]);\r\n  }\r\n\r\n  // Roll back the start points.\r\n  patch.start1 -= prefix.length;\r\n  patch.start2 -= prefix.length;\r\n  // Extend the lengths.\r\n  patch.length1 += prefix.length + suffix.length;\r\n  patch.length2 += prefix.length + suffix.length;\r\n};\r\n\r\n\r\n/**\r\n * Compute a list of patches to turn text1 into text2.\r\n * Use diffs if provided, otherwise compute it ourselves.\r\n * There are four ways to call this function, depending on what data is\r\n * available to the caller:\r\n * Method 1:\r\n * a = text1, b = text2\r\n * Method 2:\r\n * a = diffs\r\n * Method 3 (optimal):\r\n * a = text1, b = diffs\r\n * Method 4 (deprecated, use method 3):\r\n * a = text1, b = text2, c = diffs\r\n *\r\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\r\n * Array of diff tuples for text1 to text2 (method 2).\r\n * @param {string|!Array.<!diff_match_patch.Diff>} opt_b text2 (methods 1,4) or\r\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\r\n * @param {string|!Array.<!diff_match_patch.Diff>} opt_c Array of diff tuples\r\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\r\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\r\n */\r\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\r\n  var text1, diffs;\r\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\r\n      typeof opt_c == 'undefined') {\r\n    // Method 1: text1, text2\r\n    // Compute diffs from text1 and text2.\r\n    text1 = /** @type {string} */(a);\r\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\r\n    if (diffs.length > 2) {\r\n      this.diff_cleanupSemantic(diffs);\r\n      this.diff_cleanupEfficiency(diffs);\r\n    }\r\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\r\n      typeof opt_c == 'undefined') {\r\n    // Method 2: diffs\r\n    // Compute text1 from diffs.\r\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\r\n    text1 = this.diff_text1(diffs);\r\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\r\n      typeof opt_c == 'undefined') {\r\n    // Method 3: text1, diffs\r\n    text1 = /** @type {string} */(a);\r\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\r\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\r\n      opt_c && typeof opt_c == 'object') {\r\n    // Method 4: text1, text2, diffs\r\n    // text2 is not used.\r\n    text1 = /** @type {string} */(a);\r\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\r\n  } else {\r\n    throw new Error('Unknown call format to patch_make.');\r\n  }\r\n\r\n  if (diffs.length === 0) {\r\n    return [];  // Get rid of the null case.\r\n  }\r\n  var patches = [];\r\n  var patch = new diff_match_patch.patch_obj();\r\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\r\n  var char_count1 = 0;  // Number of characters into the text1 string.\r\n  var char_count2 = 0;  // Number of characters into the text2 string.\r\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\r\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\r\n  // context info.\r\n  var prepatch_text = text1;\r\n  var postpatch_text = text1;\r\n  for (var x = 0; x < diffs.length; x++) {\r\n    var diff_type = diffs[x][0];\r\n    var diff_text = diffs[x][1];\r\n\r\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\r\n      // A new patch starts here.\r\n      patch.start1 = char_count1;\r\n      patch.start2 = char_count2;\r\n    }\r\n\r\n    switch (diff_type) {\r\n      case DIFF_INSERT:\r\n        patch.diffs[patchDiffLength++] = diffs[x];\r\n        patch.length2 += diff_text.length;\r\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\r\n                         postpatch_text.substring(char_count2);\r\n        break;\r\n      case DIFF_DELETE:\r\n        patch.length1 += diff_text.length;\r\n        patch.diffs[patchDiffLength++] = diffs[x];\r\n        postpatch_text = postpatch_text.substring(0, char_count2) +\r\n                         postpatch_text.substring(char_count2 +\r\n                             diff_text.length);\r\n        break;\r\n      case DIFF_EQUAL:\r\n        if (diff_text.length <= 2 * this.Patch_Margin &&\r\n            patchDiffLength && diffs.length != x + 1) {\r\n          // Small equality inside a patch.\r\n          patch.diffs[patchDiffLength++] = diffs[x];\r\n          patch.length1 += diff_text.length;\r\n          patch.length2 += diff_text.length;\r\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\r\n          // Time for a new patch.\r\n          if (patchDiffLength) {\r\n            this.patch_addContext_(patch, prepatch_text);\r\n            patches.push(patch);\r\n            patch = new diff_match_patch.patch_obj();\r\n            patchDiffLength = 0;\r\n            // Unlike Unidiff, our patch lists have a rolling context.\r\n            // http://code.google.com/p/google-diff-match-patch/wiki/Unidiff\r\n            // Update prepatch text & pos to reflect the application of the\r\n            // just completed patch.\r\n            prepatch_text = postpatch_text;\r\n            char_count1 = char_count2;\r\n          }\r\n        }\r\n        break;\r\n    }\r\n\r\n    // Update the current character count.\r\n    if (diff_type !== DIFF_INSERT) {\r\n      char_count1 += diff_text.length;\r\n    }\r\n    if (diff_type !== DIFF_DELETE) {\r\n      char_count2 += diff_text.length;\r\n    }\r\n  }\r\n  // Pick up the leftover patch if not empty.\r\n  if (patchDiffLength) {\r\n    this.patch_addContext_(patch, prepatch_text);\r\n    patches.push(patch);\r\n  }\r\n\r\n  return patches;\r\n};\r\n\r\n\r\n/**\r\n * Given an array of patches, return another array that is identical.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\r\n */\r\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\r\n  // Making deep copies is hard in JavaScript.\r\n  var patchesCopy = [];\r\n  for (var x = 0; x < patches.length; x++) {\r\n    var patch = patches[x];\r\n    var patchCopy = new diff_match_patch.patch_obj();\r\n    patchCopy.diffs = [];\r\n    for (var y = 0; y < patch.diffs.length; y++) {\r\n      patchCopy.diffs[y] = patch.diffs[y].slice();\r\n    }\r\n    patchCopy.start1 = patch.start1;\r\n    patchCopy.start2 = patch.start2;\r\n    patchCopy.length1 = patch.length1;\r\n    patchCopy.length2 = patch.length2;\r\n    patchesCopy[x] = patchCopy;\r\n  }\r\n  return patchesCopy;\r\n};\r\n\r\n\r\n/**\r\n * Merge a set of patches onto the text.  Return a patched text, as well\r\n * as a list of true/false values indicating which patches were applied.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @param {string} text Old text.\r\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\r\n *      new text and an array of boolean values.\r\n */\r\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\r\n  if (patches.length == 0) {\r\n    return [text, []];\r\n  }\r\n\r\n  // Deep copy the patches so that no changes are made to originals.\r\n  patches = this.patch_deepCopy(patches);\r\n\r\n  var nullPadding = this.patch_addPadding(patches);\r\n  text = nullPadding + text + nullPadding;\r\n\r\n  this.patch_splitMax(patches);\r\n  // delta keeps track of the offset between the expected and actual location\r\n  // of the previous patch.  If there are patches expected at positions 10 and\r\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\r\n  // has an effective expected position of 22.\r\n  var delta = 0;\r\n  var results = [];\r\n  for (var x = 0; x < patches.length; x++) {\r\n    var expected_loc = patches[x].start2 + delta;\r\n    var text1 = this.diff_text1(patches[x].diffs);\r\n    var start_loc;\r\n    var end_loc = -1;\r\n    if (text1.length > this.Match_MaxBits) {\r\n      // patch_splitMax will only provide an oversized pattern in the case of\r\n      // a monster delete.\r\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\r\n                                  expected_loc);\r\n      if (start_loc != -1) {\r\n        end_loc = this.match_main(text,\r\n            text1.substring(text1.length - this.Match_MaxBits),\r\n            expected_loc + text1.length - this.Match_MaxBits);\r\n        if (end_loc == -1 || start_loc >= end_loc) {\r\n          // Can't find valid trailing context.  Drop this patch.\r\n          start_loc = -1;\r\n        }\r\n      }\r\n    } else {\r\n      start_loc = this.match_main(text, text1, expected_loc);\r\n    }\r\n    if (start_loc == -1) {\r\n      // No match found.  :(\r\n      results[x] = false;\r\n      // Subtract the delta for this failed patch from subsequent patches.\r\n      delta -= patches[x].length2 - patches[x].length1;\r\n    } else {\r\n      // Found a match.  :)\r\n      results[x] = true;\r\n      delta = start_loc - expected_loc;\r\n      var text2;\r\n      if (end_loc == -1) {\r\n        text2 = text.substring(start_loc, start_loc + text1.length);\r\n      } else {\r\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\r\n      }\r\n      if (text1 == text2) {\r\n        // Perfect match, just shove the replacement text in.\r\n        text = text.substring(0, start_loc) +\r\n               this.diff_text2(patches[x].diffs) +\r\n               text.substring(start_loc + text1.length);\r\n      } else {\r\n        // Imperfect match.  Run a diff to get a framework of equivalent\r\n        // indices.\r\n        var diffs = this.diff_main(text1, text2, false);\r\n        if (text1.length > this.Match_MaxBits &&\r\n            this.diff_levenshtein(diffs) / text1.length >\r\n            this.Patch_DeleteThreshold) {\r\n          // The end points match, but the content is unacceptably bad.\r\n          results[x] = false;\r\n        } else {\r\n          this.diff_cleanupSemanticLossless(diffs);\r\n          var index1 = 0;\r\n          var index2;\r\n          for (var y = 0; y < patches[x].diffs.length; y++) {\r\n            var mod = patches[x].diffs[y];\r\n            if (mod[0] !== DIFF_EQUAL) {\r\n              index2 = this.diff_xIndex(diffs, index1);\r\n            }\r\n            if (mod[0] === DIFF_INSERT) {  // Insertion\r\n              text = text.substring(0, start_loc + index2) + mod[1] +\r\n                     text.substring(start_loc + index2);\r\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\r\n              text = text.substring(0, start_loc + index2) +\r\n                     text.substring(start_loc + this.diff_xIndex(diffs,\r\n                         index1 + mod[1].length));\r\n            }\r\n            if (mod[0] !== DIFF_DELETE) {\r\n              index1 += mod[1].length;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Strip the padding off.\r\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\r\n  return [text, results];\r\n};\r\n\r\n\r\n/**\r\n * Add some padding on text start and end so that edges can match something.\r\n * Intended to be called only from within patch_apply.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @return {string} The padding string added to each side.\r\n */\r\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\r\n  var paddingLength = this.Patch_Margin;\r\n  var nullPadding = '';\r\n  for (var x = 1; x <= paddingLength; x++) {\r\n    nullPadding += String.fromCharCode(x);\r\n  }\r\n\r\n  // Bump all the patches forward.\r\n  for (var x = 0; x < patches.length; x++) {\r\n    patches[x].start1 += paddingLength;\r\n    patches[x].start2 += paddingLength;\r\n  }\r\n\r\n  // Add some padding on start of first diff.\r\n  var patch = patches[0];\r\n  var diffs = patch.diffs;\r\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\r\n    // Add nullPadding equality.\r\n    diffs.unshift([DIFF_EQUAL, nullPadding]);\r\n    patch.start1 -= paddingLength;  // Should be 0.\r\n    patch.start2 -= paddingLength;  // Should be 0.\r\n    patch.length1 += paddingLength;\r\n    patch.length2 += paddingLength;\r\n  } else if (paddingLength > diffs[0][1].length) {\r\n    // Grow first equality.\r\n    var extraLength = paddingLength - diffs[0][1].length;\r\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\r\n    patch.start1 -= extraLength;\r\n    patch.start2 -= extraLength;\r\n    patch.length1 += extraLength;\r\n    patch.length2 += extraLength;\r\n  }\r\n\r\n  // Add some padding on end of last diff.\r\n  patch = patches[patches.length - 1];\r\n  diffs = patch.diffs;\r\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\r\n    // Add nullPadding equality.\r\n    diffs.push([DIFF_EQUAL, nullPadding]);\r\n    patch.length1 += paddingLength;\r\n    patch.length2 += paddingLength;\r\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\r\n    // Grow last equality.\r\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\r\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\r\n    patch.length1 += extraLength;\r\n    patch.length2 += extraLength;\r\n  }\r\n\r\n  return nullPadding;\r\n};\r\n\r\n\r\n/**\r\n * Look through the patches and break up any which are longer than the maximum\r\n * limit of the match algorithm.\r\n * Intended to be called only from within patch_apply.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n */\r\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\r\n  var patch_size = this.Match_MaxBits;\r\n  for (var x = 0; x < patches.length; x++) {\r\n    if (patches[x].length1 <= patch_size) {\r\n      continue;\r\n    }\r\n    var bigpatch = patches[x];\r\n    // Remove the big old patch.\r\n    patches.splice(x--, 1);\r\n    var start1 = bigpatch.start1;\r\n    var start2 = bigpatch.start2;\r\n    var precontext = '';\r\n    while (bigpatch.diffs.length !== 0) {\r\n      // Create one of several smaller patches.\r\n      var patch = new diff_match_patch.patch_obj();\r\n      var empty = true;\r\n      patch.start1 = start1 - precontext.length;\r\n      patch.start2 = start2 - precontext.length;\r\n      if (precontext !== '') {\r\n        patch.length1 = patch.length2 = precontext.length;\r\n        patch.diffs.push([DIFF_EQUAL, precontext]);\r\n      }\r\n      while (bigpatch.diffs.length !== 0 &&\r\n             patch.length1 < patch_size - this.Patch_Margin) {\r\n        var diff_type = bigpatch.diffs[0][0];\r\n        var diff_text = bigpatch.diffs[0][1];\r\n        if (diff_type === DIFF_INSERT) {\r\n          // Insertions are harmless.\r\n          patch.length2 += diff_text.length;\r\n          start2 += diff_text.length;\r\n          patch.diffs.push(bigpatch.diffs.shift());\r\n          empty = false;\r\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\r\n                   patch.diffs[0][0] == DIFF_EQUAL &&\r\n                   diff_text.length > 2 * patch_size) {\r\n          // This is a large deletion.  Let it pass in one chunk.\r\n          patch.length1 += diff_text.length;\r\n          start1 += diff_text.length;\r\n          empty = false;\r\n          patch.diffs.push([diff_type, diff_text]);\r\n          bigpatch.diffs.shift();\r\n        } else {\r\n          // Deletion or equality.  Only take as much as we can stomach.\r\n          diff_text = diff_text.substring(0,\r\n              patch_size - patch.length1 - this.Patch_Margin);\r\n          patch.length1 += diff_text.length;\r\n          start1 += diff_text.length;\r\n          if (diff_type === DIFF_EQUAL) {\r\n            patch.length2 += diff_text.length;\r\n            start2 += diff_text.length;\r\n          } else {\r\n            empty = false;\r\n          }\r\n          patch.diffs.push([diff_type, diff_text]);\r\n          if (diff_text == bigpatch.diffs[0][1]) {\r\n            bigpatch.diffs.shift();\r\n          } else {\r\n            bigpatch.diffs[0][1] =\r\n                bigpatch.diffs[0][1].substring(diff_text.length);\r\n          }\r\n        }\r\n      }\r\n      // Compute the head context for the next patch.\r\n      precontext = this.diff_text2(patch.diffs);\r\n      precontext =\r\n          precontext.substring(precontext.length - this.Patch_Margin);\r\n      // Append the end context for this patch.\r\n      var postcontext = this.diff_text1(bigpatch.diffs)\r\n                            .substring(0, this.Patch_Margin);\r\n      if (postcontext !== '') {\r\n        patch.length1 += postcontext.length;\r\n        patch.length2 += postcontext.length;\r\n        if (patch.diffs.length !== 0 &&\r\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\r\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\r\n        } else {\r\n          patch.diffs.push([DIFF_EQUAL, postcontext]);\r\n        }\r\n      }\r\n      if (!empty) {\r\n        patches.splice(++x, 0, patch);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * Take a list of patches and return a textual representation.\r\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\r\n * @return {string} Text representation of patches.\r\n */\r\ndiff_match_patch.prototype.patch_toText = function(patches) {\r\n  var text = [];\r\n  for (var x = 0; x < patches.length; x++) {\r\n    text[x] = patches[x];\r\n  }\r\n  return text.join('');\r\n};\r\n\r\n\r\n/**\r\n * Parse a textual representation of patches and return a list of Patch objects.\r\n * @param {string} textline Text representation of patches.\r\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\r\n * @throws {!Error} If invalid input.\r\n */\r\ndiff_match_patch.prototype.patch_fromText = function(textline) {\r\n  var patches = [];\r\n  if (!textline) {\r\n    return patches;\r\n  }\r\n  var text = textline.split('\\n');\r\n  var textPointer = 0;\r\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\r\n  while (textPointer < text.length) {\r\n    var m = text[textPointer].match(patchHeader);\r\n    if (!m) {\r\n      throw new Error('Invalid patch string: ' + text[textPointer]);\r\n    }\r\n    var patch = new diff_match_patch.patch_obj();\r\n    patches.push(patch);\r\n    patch.start1 = parseInt(m[1], 10);\r\n    if (m[2] === '') {\r\n      patch.start1--;\r\n      patch.length1 = 1;\r\n    } else if (m[2] == '0') {\r\n      patch.length1 = 0;\r\n    } else {\r\n      patch.start1--;\r\n      patch.length1 = parseInt(m[2], 10);\r\n    }\r\n\r\n    patch.start2 = parseInt(m[3], 10);\r\n    if (m[4] === '') {\r\n      patch.start2--;\r\n      patch.length2 = 1;\r\n    } else if (m[4] == '0') {\r\n      patch.length2 = 0;\r\n    } else {\r\n      patch.start2--;\r\n      patch.length2 = parseInt(m[4], 10);\r\n    }\r\n    textPointer++;\r\n\r\n    while (textPointer < text.length) {\r\n      var sign = text[textPointer].charAt(0);\r\n      try {\r\n        var line = decodeURI(text[textPointer].substring(1));\r\n      } catch (ex) {\r\n        // Malformed URI sequence.\r\n        throw new Error('Illegal escape in patch_fromText: ' + line);\r\n      }\r\n      if (sign == '-') {\r\n        // Deletion.\r\n        patch.diffs.push([DIFF_DELETE, line]);\r\n      } else if (sign == '+') {\r\n        // Insertion.\r\n        patch.diffs.push([DIFF_INSERT, line]);\r\n      } else if (sign == ' ') {\r\n        // Minor equality.\r\n        patch.diffs.push([DIFF_EQUAL, line]);\r\n      } else if (sign == '@') {\r\n        // Start of next patch.\r\n        break;\r\n      } else if (sign === '') {\r\n        // Blank line?  Whatever.\r\n      } else {\r\n        // WTF?\r\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\r\n      }\r\n      textPointer++;\r\n    }\r\n  }\r\n  return patches;\r\n};\r\n\r\n\r\n/**\r\n * Class representing one patch operation.\r\n * @constructor\r\n */\r\ndiff_match_patch.patch_obj = function() {\r\n  /** @type {!Array.<!diff_match_patch.Diff>} */\r\n  this.diffs = [];\r\n  /** @type {?number} */\r\n  this.start1 = null;\r\n  /** @type {?number} */\r\n  this.start2 = null;\r\n  /** @type {number} */\r\n  this.length1 = 0;\r\n  /** @type {number} */\r\n  this.length2 = 0;\r\n};\r\n\r\n\r\n/**\r\n * Emmulate GNU diff's format.\r\n * Header: @@ -382,8 +481,9 @@\r\n * Indicies are printed as 1-based, not 0-based.\r\n * @return {string} The GNU diff string.\r\n */\r\ndiff_match_patch.patch_obj.prototype.toString = function() {\r\n  var coords1, coords2;\r\n  if (this.length1 === 0) {\r\n    coords1 = this.start1 + ',0';\r\n  } else if (this.length1 == 1) {\r\n    coords1 = this.start1 + 1;\r\n  } else {\r\n    coords1 = (this.start1 + 1) + ',' + this.length1;\r\n  }\r\n  if (this.length2 === 0) {\r\n    coords2 = this.start2 + ',0';\r\n  } else if (this.length2 == 1) {\r\n    coords2 = this.start2 + 1;\r\n  } else {\r\n    coords2 = (this.start2 + 1) + ',' + this.length2;\r\n  }\r\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\r\n  var op;\r\n  // Escape the body of the patch with %xx notation.\r\n  for (var x = 0; x < this.diffs.length; x++) {\r\n    switch (this.diffs[x][0]) {\r\n      case DIFF_INSERT:\r\n        op = '+';\r\n        break;\r\n      case DIFF_DELETE:\r\n        op = '-';\r\n        break;\r\n      case DIFF_EQUAL:\r\n        op = ' ';\r\n        break;\r\n    }\r\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\r\n  }\r\n  return text.join('').replace(/%20/g, ' ');\r\n};\r\n\r\n\r\n// Export these global variables so that they survive Google's JS compiler.\r\n// In a browser, 'this' will be 'window'.\r\n// Users of node.js should 'require' the uncompressed version since Google's\r\n// JS compiler may break the following exports for non-browser environments.\r\nthis['diff_match_patch'] = diff_match_patch;\r\nthis['DIFF_DELETE'] = DIFF_DELETE;\r\nthis['DIFF_INSERT'] = DIFF_INSERT;\r\nthis['DIFF_EQUAL'] = DIFF_EQUAL;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./vendors/google-diff-match-patch-js/diff_match_patch_uncompressed.js\n// module id = 358\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// vertx (ignored)\n// module id = 359\n// module chunks = 1","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport Vuex from 'vuex'\r\n\r\nimport '../favicon.ico'\r\n\r\n// import './css/fonticon/iconfont.css'\r\n// import 'http://at.alicdn.com/t/font_6ju4lzi860qkt9.css'\r\n\r\nVue.use(Vuex)\r\nlet sub_module = {\r\n  state:{\r\n    count:123123\r\n  },\r\n  mutations:{\r\n    increment2(state){\r\n      state.count++\r\n    }\r\n  },\r\n  getters:{\r\n    doubleCount(state,getters,rootState){\r\n      return state.count*2\r\n    }\r\n  },\r\n  actions:{\r\n    increment2({state,commit,rootState}){\r\n      commit('increment2')\r\n    }\r\n  },\r\n\r\n}\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    count: 0,\r\n    todos: [\r\n    \t{ id: 1,text: '...', done: true},\r\n    \t{ id: 2,text: '...', done: false},\r\n    ]\r\n  },\r\n  mutations: {\r\n    increment (state,payload) {\r\n      state.count += payload.number\r\n    }\r\n  },\r\n  getters: {\r\n  \tdoneTodos: state => {\r\n  \t\treturn state.todos.filter(todo => todo.done)\r\n  \t},\r\n  \tdoneTodosCount:(state,getters)=>{\r\n  \t\treturn getters.doneTodos.length\r\n  \t}\r\n  },\r\n  actions: {\r\n  \tincrement ({commit},payload) {\r\n  \t\tsetTimeout(function() {\r\n  \t\t\tcommit('increment',payload)\r\n  \t\t\tsetTimeout(function() {\r\n  \t\t\t\tcommit('increment',payload)\r\n  \t\t\t}, 1000);\r\n  \t\t}, 1000);\r\n  \t},\r\n  \tpromise ({commit},payload) {\r\n  \t\treturn new Promise((resolve,reject)=>{\r\n  \t\t\tsetTimeout(function() {\r\n  \t\t\t\tcommit('increment',payload)\r\n  \t\t\t\tresolve()\r\n  \t\t\t}, 1000);\r\n  \t\t})\r\n  \t},\r\n  \tpromise2({dispatch,commit},payload) {\r\n  \t\tdispatch('promise',payload).then(() => {\r\n      \t\tcommit('increment',payload)\r\n    \t})\r\n  \t}\r\n  },\r\n  modules:{\r\n    a:sub_module\r\n  }\r\n})\r\nwindow.$vmm = new Vue({\r\n  el: '#app',\r\n  store,\r\n  router,\r\n  template: '<App/>',\r\n  components: { App }\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/backend/views/css/topic.css\n// module id = 39\n// module chunks = 1","var Delay = function(millisecond,func){\r\n    this.index = \"\"\r\n    this.millisecond = millisecond || 2000\r\n    this.func = func\r\n}\r\nDelay.prototype.push = function(){\r\n    clearTimeout(this.index)\r\n    this.index = setTimeout(this.func, this.millisecond);\r\n}\r\nDelay.prototype.execute = function(){\r\n    clearTimeout(this.index)\r\n    this.func()\r\n    // this.index = setTimeout(this.func, this.millisecond);\r\n}\r\nexport default Delay\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/Obj/Delay.js\n// module id = 42\n// module chunks = 1","var GDMP = require('../../../vendors/google-diff-match-patch-js/diff_match_patch_uncompressed.js')\r\n\r\n\r\n// 编辑器增量更新\r\n// 使用方式\r\n/*\r\nimport EVA from '../../serve/fontend/Obj/EditorValueAdvance.js'\r\nthis.EVA = new EVA()\r\nself.EVA.reset() // 重置对比值\r\n\r\nself.EVA.value = 11 //设置值\r\nself.EVA.value = 22 //再次设置值，这时与之前的值开始进行比较\r\n\r\nvar cc = self.EVA.value //获取值\r\n\r\nself.EVA.patch_list //获取差异值\r\n*/\r\nfunction EditorValueAdvance(){\r\n\tlet old_value = \"\"\r\n\tlet value = \"\"\r\n\tlet patch_list = undefined\r\n\r\n\tlet dmp = new GDMP.diff_match_patch()\r\n\t// this.onSet = onSet\r\n\tObject.defineProperty(this, 'value', {\r\n\t\tget:function(){\r\n\t\t\treturn value\r\n\t\t},\r\n\t    set: function(text) {\r\n\t\t\told_value = value\r\n\t\t\tvalue = text\r\n\t\t\t// diff_result = dmp.diff_main(old_value, value, true)\r\n\t\t\t// console.log(diff_result)\r\n\t    }\r\n\t})\r\n\tObject.defineProperty(this, 'reset', {\r\n\t\tvalue:function(){\r\n\t\t\told_value = \"\"\r\n\t\t\tvalue = \"\"\r\n\t\t\tpatch_list = undefined\r\n\t\t}\r\n\t})\r\n\tObject.defineProperty(this, 'patch_list', {\r\n\t\tget: function(){\r\n\t\t\tlet diffs = dmp.diff_main(old_value, value, true)\r\n\t\t\tlet result = dmp.patch_make(old_value, value, diffs)\r\n\t\t\treturn result\r\n\t\t}\r\n\t})\r\n}\r\nexport default EditorValueAdvance\r\n\r\n// var eva = new EditorValueAdvance()\r\n// eva.value = 1\r\n// eva.value = 2\r\n// eva.value = 3\r\n// let obj = {}\r\n// Object.defineProperty(obj,'value',{\r\n// \tget:function(){\r\n\r\n// \t},\r\n// \tset:function(text){\r\n// \t\tif(obj.old_value === undefined){\r\n// \t\t\tobj.old_value = text\r\n// \t\t}\r\n// \t\tconsole.log('old_value is ',obj.old_value)\r\n// \t\tobj.old_value = text\r\n// \t\tconsole.log('current_value is',obj.current_value)\r\n// \t}\r\n// })\r\n// Object.defineProperty(obj,'old_value',{\r\n// \tvalue:undefined\r\n// })\r\n// Object.defineProperty(obj,'clearValue',{\r\n// \tvalue:function(){\r\n// \t\tobj.old_value = \"\"\r\n// \t\tobj.value = \"\"\r\n// \t}\r\n// })\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/Obj/EditorValueAdvance.js\n// module id = 43\n// module chunks = 1","/*\r\n封装的目的是什么？\r\n\r\n1. 提取重复的代码。\r\n2. 保持代码整洁。\r\n\r\n拖动事件有哪些重复代码？\r\n\r\n1. 拖动处理：hover （参数传入回调方法）\r\n2. 拖动处理：结束 （参数传入回调方法）\r\n3. 拖动处理：onDrop 响应 （参数传入回调方法）\r\n\r\n因为拖动处理是 DOM 事件，需要绑定元素，所以要传入元素 Id。\r\n\r\n*/\r\n\r\nimport Upload from '../upload/Upload.js'\r\nfunction blobToFile(theBlob, fileName){\r\n\t//A Blob() is almost a File() - it's just missing the two properties below which we will add\r\n\ttheBlob.lastModifiedDate = new Date();\r\n\ttheBlob.name = fileName;\r\n\treturn theBlob;\r\n}\r\nvar dndUpload = function (element, options) {\r\n\r\n\tvar options = Object.assign({\r\n\t\tonSuccess: undefined,\r\n\t\tonError: undefined,\r\n\t\tonComplete: undefined,\r\n\t\tonProcess: undefined,\r\n\t\tserve_url: undefined\r\n\t}, options)\r\n\t// options.serve_url = 'http://localhost:3000/upload' || \r\n\tvar upload = new Upload({\r\n\t\tserve_url: options.serve_url, onSuccess: function (res) {\r\n\t\t\t// console.log(res)\r\n\t\t\toptions.onSuccess(JSON.parse(res.target.responseText))\r\n\t\t\t// var obj = JSON.parse(res.target.responseText)\r\n\t\t\t// console.log(obj)\r\n\t\t}\r\n\t})\r\n\r\n\t/* events fired on the draggable target */\r\n\telement.addEventListener(\"drag\", function (event) {\r\n\t\t// console.log(event.DataTransfer.files)\r\n\t\t// console.log(123)\r\n\t\t// upload.start(event.DataTransfer.files[0])\r\n\t}, false);\r\n\r\n\r\n\r\n\r\n\r\n\telement.addEventListener(\"dragstart\", function (event) {\r\n\t\t// store a ref. on the dragged elem\r\n\t\t// dragged = event.target;\r\n\t\t// make it half transparent\r\n\t\t// event.target.style.opacity = .5;\r\n\t\tconsole.log(1233)\r\n\t}, false);\r\n\r\n\telement.addEventListener(\"dragend\", function (event) {\r\n\t\t// reset the transparency\r\n\t\t// event.target.style.opacity = \"\";\r\n\t}, false);\r\n\r\n\t/* events fired on the drop targets */\r\n\telement.addEventListener(\"dragover\", function (event) {\r\n\t\t// prevent default to allow drop\r\n\t\tevent.preventDefault();\r\n\t\tconsole.log(333)\r\n\t}, false);\r\n\r\n\telement.addEventListener(\"dragenter\", function (event) {\r\n\t\t// highlight potential drop target when the draggable element enters it\r\n\t\t// if ( event.target.className == \"dropzone\" ) {\r\n\t\t//     event.target.style.background = \"purple\";\r\n\t\t// }\r\n\r\n\t}, false);\r\n\r\n\telement.addEventListener(\"dragleave\", function (event) {\r\n\t\t// reset background of potential drop target when the draggable element leaves it\r\n\t\t// if ( event.target.className == \"dropzone\" ) {\r\n\t\t//     event.target.style.background = \"\";\r\n\t\t// }\r\n\r\n\t}, false);\r\n\r\n\telement.addEventListener(\"drop\", function (event) {\r\n\r\n\t\tupload.start(event.dataTransfer.files[0])\r\n\r\n\t\t// prevent default action (open as link for some elements)\r\n\t\tevent.preventDefault();\r\n\t\t// move dragged elem to the selected drop target\r\n\t\t// if ( event.target.className == \"dropzone\" ) {\r\n\t\t//     event.target.style.background = \"\";\r\n\t\t//     dragged.parentNode.removeChild( dragged );\r\n\t\t//     event.target.appendChild( dragged );\r\n\t\t// }\r\n\r\n\t}, false);\r\n\r\n\telement.addEventListener('paste', function (event) {\r\n\t\tconsole.log('paste')\r\n\t\tvar isChrome = false;\r\n\t\tif (event.clipboardData || event.originalEvent) {\r\n\t\t\tvar clipboardData = (event.clipboardData || event.originalEvent.clipboardData);\r\n\t\t\tconsole.log('clipboardData', clipboardData)\r\n\t\t\tif (clipboardData.items) {\r\n\t\t\t\t// for chrome\r\n\t\t\t\tvar items = clipboardData.items,\r\n\t\t\t\t\tlen = items.length,\r\n\t\t\t\t\tblob = null;\r\n\t\t\t\tisChrome = true;\r\n\r\n\t\t\t\t\r\n\r\n\t\t\t\t//在items里找粘贴的image,据上面分析,需要循环  \r\n\t\t\t\tfor (var i = 0; i < len; i++) {\r\n\t\t\t\t\tif (items[i].type.indexOf(\"image\") !== -1) {\r\n\t\t\t\t\t\t// console.log(items[i]);\r\n\t\t\t\t\t\t// console.log( typeof (items[i]));\r\n\r\n\t\t\t\t\t\t//getAsFile() 此方法只是living standard firefox ie11 并不支持        \r\n\t\t\t\t\t\tblob = items[i].getAsFile();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (blob !== null) {\r\n\t\t\t\t\t//阻止默认行为即不让剪贴板内容在div中显示出来\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// var file=blobToFile(blob,'111.jpg')\r\n\t\t\t\t\tconsole.log('file',blob)\r\n\r\n\t\t\t\t\tupload.start(blob)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// var reader = new FileReader();\r\n\t\t\t\t\t// reader.onload = function (event) {\r\n\t\t\t\t\t// \t// event.target.result 即为图片的Base64编码字符串\r\n\t\t\t\t\t// \tvar base64_str = event.target.result\r\n\t\t\t\t\t// \t//可以在这里写上传逻辑 直接将base64编码的字符串上传（可以尝试传入blob对象，看看后台程序能否解析）\r\n\t\t\t\t\t// \tconsole.log('img base64',base64_str)\r\n\t\t\t\t\t// \t// uploadImgFromPaste(base64_str, 'paste', isChrome);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// reader.readAsDataURL(blob);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t})\r\n\r\n\r\n\t// 添加黏贴上传功能\r\n}\r\n\r\nexport default dndUpload\r\n// dndUpload.prototype.onDrop = function(){\r\n\r\n// }\r\n// dndUpload.prototype.onDragOver = function(){\r\n\r\n// }\r\n// dndUpload.prototype.startUpload = function(){\r\n\r\n// }\r\n// dndUpload.prototype.uploadSuccess = function(){\r\n\r\n// }\r\n// dndUpload.prototype.uploadEnd = function(){\r\n\r\n// }\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./serve/fontend/Obj/dndUpload/dndUpload.js\n// module id = 44\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/codemirror/lib/codemirror.css\n// module id = 62\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/codemirror/theme/zenburn.css\n// module id = 63\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/css/CodeMirror_Theme.css\n// module id = 64\n// module chunks = 1","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport Hello from '../components/Hello'\r\nimport WriteArticle from '../components/WriteArticle'\r\nimport Login from '../components/Login'\r\nimport deploy from '../components/deploy'\r\nVue.use(Router)\r\nexport default new Router({\r\n  mode:\"history\",\r\n  routes: [\r\n    {\r\n      path: '/papers',\r\n      name: 'WriteArticle',\r\n      component: WriteArticle\r\n    },\r\n      {   \r\n        path:'/papers',\r\n        name:'WriteArticle',\r\n        component:WriteArticle\r\n    },\r\n    {   \r\n        path:'/papers/:floderid',\r\n        name:'WriteArticle',\r\n        component:WriteArticle\r\n    },\r\n    {   \r\n        path:'/papers/:floderid/article/:articleid',\r\n        name:'WriteArticle2',\r\n        component:WriteArticle\r\n    },\r\n    {   \r\n        path:'/Login',\r\n        name:'Login',\r\n        component:Login\r\n    }\r\n    // ,\r\n    // {   \r\n    //     path:'/deploy',\r\n    //     name:'deploy',\r\n    //     component:deploy\r\n    // }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","module.exports = \"data:image/x-icon;base64,bW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArICJmYXZpY29uLmljbyI7\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./favicon.ico\n// module id = 68\n// module chunks = 1","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-3bd98f62\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-3bd98f62\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 69\n// module chunks = 1","<template>\r\n  <div id=\"app\">\r\n    <router-view></router-view>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport './css/common.css'\r\nimport './css/flex.css'\r\nimport './css/scroll.css'\r\nexport default {\r\n  name: 'app',\r\n  data () {\r\n    return {\r\n      count: 1\r\n    }\r\n  },\r\n  computed: {\r\n    count1 () {\r\n      // return '123123'\r\n      return this.$store.state.count\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// App.vue?07aa3482","<template>\r\n  <div class=\"write_article_wrap\">\r\n    <!-- <div\r\n      class=\"article\"\r\n      :class=\"{md_preview:visible.markdown === 1,\r\n                    full:visible.page_mode === 2}\"\r\n    >-->\r\n    <textarea ref=\"ta1\" name=\"\" id=\"ta1\" cols=\"30\" rows=\"10\"></textarea>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\n\r\nimport \"../css/btn.css\";\r\nimport \"animate.css\";\r\nimport \"../css/custom_animate.css\";\r\nimport \"../css/WriteArticle.css\";\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport \"codemirror/theme/zenburn.css\";\r\nimport \"../css/CodeMirror_Theme.css\";\r\n\r\n// ../node_modules/highlight.js/styles/pojoaque.css\r\nimport \"../../node_modules/highlight.js/styles/pojoaque.css\";\r\nimport \"../../serve/backend/views/css/topic.css\";\r\n\r\nimport { IP } from \"../../serve/PREDEFINED/CONSTANT.js\";\r\nvar marked = require(\"marked\");\r\nvar renderer = new marked.Renderer();\r\nvar radCode = renderer.code;\r\nrenderer.code = function(code, lang, escaped) {\r\n  if (lang === \"raw\") {\r\n    return '<p class=\"lang-raw\">' + code + \"</p>\";\r\n  }\r\n  var self = this;\r\n  return radCode.call(self, code, lang, escaped);\r\n};\r\nmarked.setOptions({\r\n  gfm: true,\r\n  tables: true,\r\n  breaks: true,\r\n  pedantic: true,\r\n  sanitize: true,\r\n  smartLists: true,\r\n  smartypants: true,\r\n  highlight: function(code, type, sss) {\r\n    return require(\"highlight.js\").highlightAuto(code).value;\r\n  },\r\n  renderer: renderer\r\n});\r\n\r\nimport * as API from \"../../serve/fontend/index.js\";\r\nimport co from \"co\";\r\nimport CodeMirror from \"codemirror\";\r\nimport \"codemirror/mode/gfm/gfm.js\";\r\nimport Delay from \"../../serve/fontend/Obj/Delay.js\";\r\nimport dndUpload from \"../../serve/fontend/Obj/dndUpload/dndUpload.js\";\r\n// import DMP from '../../serve/fontend/Obj/Text_Diff_Patch.js'\r\n// import TDP from '../../serve/fontend/Obj/Text_Diff_Patch.js'\r\n\r\nimport EVA from \"../../serve/fontend/Obj/EditorValueAdvance.js\";\r\n\r\nimport SwitchF from \"../../vendors/ytool.switch.js\";\r\n\r\nvar LOGIN_CODE = require(\"flogin\").CODE;\r\n\r\nexport default {\r\n  props: [\"data\"],\r\n  data() {\r\n    return {\r\n      floder_list: [],\r\n      visible: {\r\n        page_mode: 0, //0:normal:treeview editor markdown 1:editor & markdown preview 2 only editor\r\n        treeview: 1,\r\n        editor: 1,\r\n        markdown: 0\r\n      },\r\n      search_mode_show_flag: false,\r\n      search_mode_content: \"\",\r\n      floder_mode_show_type: \"1\",\r\n      floder_add_show_flag: false,\r\n      floder_active: \"\",\r\n      floder_active_index: 0,\r\n      floder_edit_index: -1,\r\n      floder_add_visible: false,\r\n      floder_add_input: \"\",\r\n      floder_item_more_crud_element_visible: false,\r\n      article_item_more_crud_element_visible: false,\r\n      article_list: [],\r\n      article_active: \"\",\r\n      article_edit_index: -1,\r\n      article_add_visible: false,\r\n      article_add_input: \"\",\r\n      article_title: \"\",\r\n      article_content: \"\",\r\n      article_content_style: {\r\n        changed: false,\r\n        saving: false,\r\n        error: false\r\n      },\r\n      editor: \"\",\r\n      Delay: \"\",\r\n      onEditorChange: \"\",\r\n      EVA: \"\",\r\n      article_markdown_preview_text: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    //   发布文章\r\n\r\n    article_content_save: function(value, title, article_active, floder_uid) {\r\n      let self = this;\r\n\r\n      co(function*() {\r\n        self.article_content_style.saving = true;\r\n\r\n        let update = yield API.ARTICLE.update(\r\n          value,\r\n          title,\r\n          article_active,\r\n          floder_uid\r\n        );\r\n\r\n        self.article_content_style.saving = false;\r\n        self.article_content_style.changed = false;\r\n\r\n        self.floder_sort_refresh();\r\n\r\n        self.article_list_refresh();\r\n      }).catch(function(err) {\r\n        alert(err.MSG);\r\n      });\r\n    },\r\n\r\n    floder_sort_refresh: function() {\r\n      // console.log(123)\r\n      // debugger;\r\n      // this.floder_list[this.floder_active_index].timemap\r\n      this.floder_list[this.floder_active_index].timemap = new Date().getTime();\r\n      this.floder_active_index = 0;\r\n    }\r\n  },\r\n  computed: {},\r\n  watch: {\r\n    data: {\r\n      handler: function() {\r\n        let self = this;\r\n        console.log(\"watch\")\r\n        if (self.editor) {\r\n          self.editor.off(\"change\", this.onEditorChange);\r\n        }\r\n        self.EVA.reset();\r\n        self.EVA.value = self.data||\"\";\r\n        // setTimeout(() => {\r\n          if (self.editor) {\r\n              console.log(\"self.editor\",self.editor)\r\n            \r\n            \r\n            self.editor.setValue(self.EVA.value);\r\n            self.editor.on(\"change\", self.onEditorChange);\r\n          }\r\n        // }, 100);\r\n        // this.renderEditor(this.data);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    let self = this;\r\n    var e = this.$refs.ta1;\r\n\r\n    this.editor = CodeMirror.fromTextArea(e, {\r\n      mode: \"gfm\",\r\n      theme: \"zenburn\",\r\n      lineWrapping: true,\r\n      extraKeys: {\r\n        Enter: \"newlineAndIndentContinueMarkdownList\",\r\n        \"Ctrl-S\": function(cm) {\r\n          self.Delay.execute();\r\n        },\r\n        \"Alt-H\": function(cm) {\r\n          var spaces = cm.getSelection();\r\n          cm.replaceSelection(\"```html\\r\\n\" + spaces + \"\\r\\n```\");\r\n        },\r\n        \"Alt-J\": function(cm) {\r\n          var spaces = cm.getSelection();\r\n          cm.replaceSelection(\"```js\\r\\n\" + spaces + \"\\r\\n```\");\r\n        },\r\n        \"Alt-K\": function(cm) {\r\n          var spaces = cm.getSelection();\r\n          cm.replaceSelection(\"```raw\\r\\n\" + spaces + \"\\r\\n```\");\r\n        },\r\n        \"Alt-L\": function(cm) {\r\n          var spaces = cm.getSelection();\r\n          cm.replaceSelection(\"[\" + spaces + \"]()\");\r\n        },\r\n        \"Alt-`\": function(cm) {\r\n          var spaces = cm.getSelection();\r\n          cm.replaceSelection(\"`\" + spaces + \"`\");\r\n        },\r\n        \"Alt-1\": function(cm) {\r\n          let curosr = cm.getCursor();\r\n          cm.setCursor(curosr.line, 0);\r\n          var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n          cm.replaceSelection(\"#\" + spaces);\r\n        },\r\n        \"Alt-2\": function(cm) {\r\n          let curosr = cm.getCursor();\r\n          cm.setCursor(curosr.line, 0);\r\n          var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n          cm.replaceSelection(\"##\" + spaces);\r\n        },\r\n        \"Alt-3\": function(cm) {\r\n          let curosr = cm.getCursor();\r\n          cm.setCursor(curosr.line, 0);\r\n          var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n          cm.replaceSelection(\"###\" + spaces);\r\n        },\r\n        \"Alt-I\": function(cm) {\r\n          let curosr = cm.getCursor();\r\n          cm.setCursor(curosr.line, 0);\r\n          var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n          cm.replaceSelection(\"* \" + spaces);\r\n        }\r\n      }\r\n    });\r\n    // this.Delay = new Delay(5000, function() {\r\n    //   // self.old_text =\"\"\r\n    //   // let new_text = self.editor.getValue()\r\n    //   self.EVA.value = self.editor.getValue();\r\n    //   // console.log(self.EVA.diff_result)\r\n    //   console.log(123);\r\n    //   self.article_markdown_preview_text = marked(self.EVA.value);\r\n    //   self.article_content_save(\r\n    //     self.EVA.patch_list,\r\n    //     self.article_title,\r\n    //     self.article_active,\r\n    //     self.floder_active\r\n    //   );\r\n    // });\r\n\r\n    this.Delay = new Delay(5000, async function() {\r\n      // self.old_text =\"\"\r\n      // let new_text = self.editor.getValue()\r\n      //   self.EVA.value = self.editor.getValue();\r\n      // self.EVA.value =JSON.stringify( self.editor.configuration.data.blocks)\r\n\r\n      // let saverData = yield self.editor.save()\r\n      self.EVA.value = self.editor.getValue();\r\n      // self.editor.configuration.blocks = saverData\r\n      // self.EVA.value = saverData\r\n      // console.log('saverData',saverData)\r\n    //   self.article_markdown_preview_text = marked(self.EVA.value);\r\n      // console.log(self.EVA.diff_result)\r\n      //   console.log(123);\r\n      //   self.article_markdown_preview_text = marked(self.EVA.value);\r\n    //   self.article_content_save(\r\n    //     self.EVA.patch_list,\r\n    //     self.article_title,\r\n    //     self.article_active,\r\n    //     self.floder_active\r\n    //   );\r\n        self.$emit(\"save\",{content:self.EVA.patch_list,editor:\"codemirror\"})\r\n    });\r\n\r\n    this.onEditorChange = function() {\r\n      // 为了使 editor off 执行生效，只能将push操作封装起来\r\n      // 因为 on 和 off 是根据 function 来的\r\n      // 如果使用匿名函数 function(){self.Delay.push()}\r\n      // 会无法 off 回失效\r\n\r\n      // self.article_content_style.changed = true;\r\n       self.$emit('changed')\r\n\r\n      // 为 article_markdown_preview_text 属性提供变量\r\n      // self.article_content = self.editor.getValue();\r\n      // self.article_content = self.editor.getValue()\r\n      // self.EVA.value = self.editor.getValue()\r\n      // console.log(self.EVA.diff_result)\r\n      self.Delay.push();\r\n    };\r\n\r\n    this.EVA = new EVA();\r\n\r\n    var code_mirror = document.getElementsByClassName(\"CodeMirror\")[0];\r\n    code_mirror.style.height = window.innerHeight+ \"px\";\r\n    window.onresize = function() {\r\n      code_mirror.style.height = window.innerHeight + \"px\";\r\n    };\r\n    var dnd_upload = new dndUpload(\r\n      document.getElementsByClassName(\"article\")[0],\r\n      {\r\n        // serve_url:'http://localhost:8202/upload',\r\n        onSuccess: function(res) {\r\n          let current_line = self.editor.getCursor().line;\r\n          let img = \"![](\" + res.img_url.replace(\"IPADDRESS\", IP) + \")\";\r\n          self.editor.replaceRange(\"\\r\\n\\r\\n\" + img + \"\\r\\n\\r\\n\", {\r\n            line: current_line,\r\n            ch: 0\r\n          });\r\n        }\r\n      }\r\n    );\r\n\r\n    // this.floder_add_show_switch = SwitchF([function(){\r\n    //     self.floder_add_show_flag = true\r\n    // },\r\n    // function(){\r\n    //     self.floder_add_show_flag = false\r\n    // }]\r\n    // )\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// CodeMirror.vue?efc23186","<template>\r\n\t<div>{{countPlusLocalState}},{{count}},{{countAlias}}\r\n\t<h1>getter</h1>\r\n\tdoneTodos:{{doneTodos}}\r\n\t<br/>\r\n\tdoneTodosCount:{{doneTodosCount}}\r\n\t<br/>\r\n\t<a @click.prevent=\"addone\" href=\"\">mutations add one</a>\r\n  <br/>\r\n  sub_module{{submodule.count}}\r\n  <a @click.prevent=\"sub_addone\" href=\"\">sub module add one</a>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState,mapGetters,mapMutations,mapActions } from 'vuex'\r\nexport default {\r\n  data () {\r\n    return {localCount: 50}\r\n  },\r\n  methods:{\r\n    sub_addone(){\r\n      this.increment2()\r\n    },\r\n  \taddone(){\r\n  \t\t//直接 commit Mutation\r\n  \t\t// this.$store.commit('increment',{\r\n  \t\t// \tnumber:12\r\n  \t\t// })\r\n  \t\t// this.$store.commit({\r\n  \t\t// \ttype:'increment',\r\n  \t\t// \tnumber:14\r\n  \t\t// })\r\n  \t\t// mapMutations化\r\n  \t\t// this.increment({\r\n  \t\t// \tnumber:15\r\n  \t\t// })\r\n\r\n  \t\t// 分发 store\r\n  \t\t// this.$store.dispatch('increment',{number:22})\r\n  \t\t// mapActions 化\r\n  \t\t// this.increment({number:40})\r\n  \t\t// promise ations\r\n  \t\tthis.promise2({number:33})\r\n  \t},\r\n  \t// ...mapMutations([\r\n  \t// \t\t'increment'\r\n  \t// \t]),\r\n  \t...mapActions(['increment','promise2','increment2'])\r\n  },\r\n  computed: {\r\n  \t\r\n  \t// doneTodos () { \r\n  \t// \treturn this.$store.getters.doneTodos\r\n  \t// },\r\n  \t...mapGetters(['doneTodos','doneTodosCount']),\r\n  \t...mapState({\r\n\t    count: state => state.count,\r\n      submodule:state=>state.a,\r\n\t    countAlias: 'count',\r\n\t    // 为了能够使用 `this` 获取局部状态，必须使用常规函数\r\n\t    countPlusLocalState (state) {\r\n\t      return state.count + this.localCount\r\n\t    }\r\n  \t})\r\n  } \r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// Count.vue?6276005d","<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <counter></counter>\n  </div>\n</template>\n\n<script>\nimport Counter from './Count.vue'\n// import { mapState } from 'vuex'\n\nexport default {\n  name: 'hello',\n  data () {\n    return {\n      msg: 'Learn Vuex'\n    }\n  },\n  components: {\n    Counter\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Hello.vue?79c15752","<template>\r\n\t<div id=\"login\">\r\n\t    <p>登陆中</p>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport url from 'url'\r\nimport {\r\n  Host,\r\n} from '../../serve/PREDEFINED/CONSTANT.js'\r\n\r\nimport * as BASE from '../../serve/fontend/base.js'\r\nexport default {\r\n  mounted:function(){\r\n      let uUrl = url.parse(location.href,true)\r\n      console.log(123)\r\n      if(uUrl.query.t){\r\n        //   saveUsername(username)\r\n          BASE.saveToken(uUrl.query.t)\r\n          location.href=\"/papers\"\r\n          self.$root.username = BASE.getUsername()\r\n\t\t  self.$router.push('WriteArticle')\r\n      }else{\r\n          location.href = \"http://oauth.dve2.com/oauth_login?r=\" +Host+\"/login\"\r\n      }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n\r\n\t\r\n#login {\r\n    background-color: #36474f;\r\n    height: 100%;\r\n    color: #fff;\r\n    font-size: 28px;\r\n    padding-top: 70px;\r\n    text-align: center\r\n}\r\n\r\n#login input {\r\n    font-size: 28px;\r\n    padding: 10px;\r\n    border-radius: 10px;\r\n    border: 0;\r\n    margin-bottom: 10px;\r\n    width: 80%\r\n}\r\n\r\n#login a {\r\n    color: #fff\r\n}\r\n\r\na.btn_ {\r\n    display: block;\r\n    margin-bottom: 20px;\r\n    margin-top: 10px\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// Login.vue?ec3d7be8","<template>\r\n  <div class=\"write_article_wrap\">\r\n    <div\r\n      @mouseleave=\"floder_item_more_crud_out($event)\"\r\n      ref=\"floder_item_more\"\r\n      id=\"floder_item_more\"\r\n      v-show=\"floder_item_more_crud_element_visible\"\r\n      class=\"floder-cover\"\r\n    >\r\n      <div class=\"background\"></div>\r\n      <ul class=\"subitem\">\r\n        <li>\r\n          <i class=\"iconfont icon-xiugai\"></i>\r\n        </li>\r\n        <li @click=\"floder_delete\">\r\n          <i class=\"iconfont icon-shanchu\"></i>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div\r\n      @mouseleave=\"article_item_more_crud_out($event)\"\r\n      ref=\"article_item_more\"\r\n      id=\"article_item_more\"\r\n      v-show=\"article_item_more_crud_element_visible\"\r\n      class=\"floder-cover\"\r\n    >\r\n      <div class=\"background\"></div>\r\n      <ul class=\"subitem\">\r\n        <li>\r\n          <i class=\"iconfont icon-xiugai\"></i>\r\n        </li>\r\n        <li @click=\"article_delete\">\r\n          <i class=\"iconfont icon-shanchu\"></i>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <template v-if=\"visible.treeview===1\">\r\n      <div class=\"floder\">\r\n        <a class=\"btn back_home\" href=\"/\">回到首页</a>\r\n        <p class=\"p_add\" @click=\"floder_add_show\">\r\n          <i class=\"i_add\">+</i>新建文集\r\n        </p>\r\n        <p class=\"list_mode\">\r\n          <i @click=\"floder_mode_show\" class=\"iconfont icon-zhankai\"></i>\r\n          <i @click=\"search_mode_show\" class=\"iconfont icon-icon1460187848267\"></i>\r\n          <i @click=\"search_mode_show_deploy=!search_mode_show_deploy\" class=\"iconfont icon-icon1460187848267\"></i>\r\n        </p>\r\n        <div v-show=\"floder_add_show_flag\" class=\"list_mode_group\">\r\n          <p class=\"p1\">文集排序方式</p>\r\n          <select v-model=\"floder_mode_show_type\" @change=\"Mfloder_mode_show_type_change\" name id>\r\n            <option value=\"1\">创建日期</option>\r\n            <option value=\"2\">最近使用</option>\r\n            <option value=\"3\">使用频率</option>\r\n          </select>\r\n        </div>\r\n        <div v-show=\"search_mode_show_flag\" class=\"list_mode_group\">\r\n          <p class=\"p1\">搜索</p>\r\n          <input v-model=\"search_mode_content\" class=\"search\" type=\"text\" placeholder=\"搜索文集和文章\">\r\n          <a @click=\"search_mode_ok\" class=\"btn btn_ok\" href=\"#\">确定</a>\r\n        </div>\r\n        <div v-show=\"search_mode_show_deploy\" class=\"list_mode_group\">\r\n          \r\n          <a @click=\"get_deployed_list\" class=\"btn btn_ok\" href=\"#\">已发布文章</a>\r\n        </div>\r\n        <template v-if=\"floder_add_visible\">\r\n          <div class=\"add_wrap\">\r\n            <input v-model=\"floder_add_input\" placeholder=\"输入文集名称\" type name>\r\n            <a @click=\"floder_add_ok\" class=\"btn btn_ok\">保存</a>\r\n            <a @click=\"floder_add_cancel\" class=\"btn btn_cancel\">取消</a>\r\n          </div>\r\n        </template>\r\n        <ul class=\"item\">\r\n          <li\r\n            v-for=\"(item,index) in floder_list_computed\"\r\n            :class=\"{active:floder_active === floder_list[index].floder_uid,editor:floder_edit_index===index}\"\r\n            :key=\"index\"\r\n            @click=\"floder_item_active(index)\"\r\n          >\r\n            <template v-if=\"index!=floder_edit_index\">\r\n              {{index+1+'、'+item.name}}\r\n              <!--  @click.prevent=\"floder_item_rename(index)\"  -->\r\n              <i\r\n                @click=\"floder_item_more_crud_enter($event,index)\"\r\n                class=\"iconfont icon-gengduo i1\"\r\n              ></i>\r\n            </template>\r\n            <template v-if=\"index===floder_edit_index\">\r\n              <input :placeholder=\"item.name\" type name>\r\n              <a @click=\"floder_edit_ok\" class=\"btn btn_ok\">保存</a>\r\n              <a @click=\"floder_edit_cancel(index)\" class=\"btn btn_cancel\">取消</a>\r\n            </template>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"document\">\r\n        <p class=\"p_add\" @click=\"article_add_show\">\r\n          <i class=\"i_add\">+</i>新建文章\r\n        </p>\r\n        <template v-if=\"article_add_visible\">\r\n          <div class=\"add_wrap\">\r\n            <input v-model=\"article_add_input\" placeholder=\"输入文章名称\" type name>\r\n            <a @click=\"article_add_ok\" class=\"btn btn_ok\">保存</a>\r\n            <a @click=\"article_add_cancel\" class=\"btn btn_cancel\">取消</a>\r\n          </div>\r\n        </template>\r\n        <ul>\r\n          <template v-for=\"(item,index) in article_list\">\r\n            <li\r\n              @click=\"article_item_active(index)\"\r\n              :key=\"index\"\r\n              :class=\"{active:article_active === article_list[index].selfuid,editor:article_edit_index===index}\"\r\n            >\r\n              <i class=\"i1\"></i>\r\n              <p class=\"p1\">{{item.title}}</p>\r\n              <p class=\"p2\">{{item.deploy_setting&&item.deploy_setting.preView}}</p>\r\n              <i\r\n                v-if=\"article_edit_index === index\"\r\n                @click=\"article_item_more_crud_enter($event,index)\"\r\n                class=\"iconfont icon-gengduo i2\"\r\n              ></i>\r\n            </li>\r\n          </template>\r\n        </ul>\r\n      </div>\r\n    </template>\r\n    <div\r\n      class=\"article\"\r\n      :class=\"{md_preview:visible.markdown === 1,\r\n                    full:visible.page_mode === 2,\r\n                    deploy:visible.page_mode===3}\"\r\n    >\r\n      <p class=\"p1\">\r\n        <!-- 预览 -->\r\n        <i\r\n          @click=\"visible_editor_markdown\"\r\n          class=\"iconfont icon-shu i i2\"\r\n          :class=\"{active:visible.page_mode===1}\"\r\n        ></i>\r\n        <!-- 全屏 -->\r\n        <i\r\n          @click=\"visible_only_editor\"\r\n          class=\"iconfont icon-quanping i i2\"\r\n          :class=\"{active:visible.page_mode===2}\"\r\n        ></i>\r\n        <!-- 发布设置 -->\r\n        <i\r\n          @click=\"deploy_setting\"\r\n          class=\"iconfont icon-quanping i i2\"\r\n          :class=\"{active:visible.page_mode===3}\"\r\n        ></i>\r\n        <!-- 切换编辑器 -->\r\n        <i\r\n          @click=\"change_edtior\"\r\n          class=\"iconfont icon-yin-yang i i1\"\r\n          :class=\"{active:visible.page_mode===2}\"\r\n        ></i>\r\n        <!-- 发布 -->\r\n        <!-- <i @click=\"article_deploy\" class=\"iconfont icon-yijingfabu i i1 animated\"></i> -->\r\n        <!-- 保存 -->\r\n        <i\r\n          @click=\"article_content_execute\"\r\n          class=\"iconfont icon-baocun i i1 animated\"\r\n          :class=\"{saving:article_content_style.saving,\r\n                           changed:article_content_style.changed}\"\r\n        ></i>\r\n        <i @click=\"article_markdown_preview\" class=\"iconfont icon-fabu i i2\"></i>\r\n      </p>\r\n      <editor\r\n        v-if=\"editorQuery==='editor'\"\r\n        ref=\"editor\"\r\n        :data=\"article_content\"\r\n        @save=\"article_content_save\"\r\n        @changed=\"article_content_style.changed=true\"\r\n      />\r\n      <editor-codemirror\r\n        v-if=\"editorQuery==='codemirror'\"\r\n        ref=\"codemirror\"\r\n        :data=\"article_content\"\r\n        @save=\"article_content_save\"\r\n        @changed=\"article_content_style.changed=true\"\r\n      />\r\n    </div>\r\n    <div\r\n      v-show=\"visible.markdown===1 && editorQuery==='codemirror'\"\r\n      class=\"markdown_parse_preview_wrap\"\r\n    >\r\n      <div id=\"markdown_parse_preview\" v-html=\"article_markdown_preview_text\"></div>\r\n    </div>\r\n    <div v-show=\"visible.deploy===1 && editorQuery==='codemirror'\" class=\"deploy_wrap\">\r\n      <!-- {{deploy.isDown}} -->\r\n      <div class=\"deploy_setting flex column\">\r\n        <div class=\"s-0 flex row\">\r\n          <div class=\"s-0-0 flex row\">标题</div>\r\n          <div class=\"s-0-1 flex row\">\r\n            <input\r\n              \r\n              v-if=\"visible.page_mode!=2\"\r\n              class=\"i1\"\r\n              type=\"text\"\r\n              placeholder=\"文章标题\"\r\n              v-model=\"article_title\"\r\n            >\r\n          </div>\r\n        </div>\r\n        <div class=\"s-0 flex row\">\r\n          <div class=\"s-0-0 flex row\">标签</div>\r\n\r\n          <div class=\"s-0-1 flex row\">\r\n            <input\r\n              \r\n              v-if=\"visible.page_mode!=2\"\r\n              class=\"i1\"\r\n              type=\"text\"\r\n              placeholder=\"标签\"\r\n              v-model=\"deploy.tags\"\r\n            >\r\n          </div>\r\n        </div>\r\n        <div class=\"s-0 flex row\">\r\n          <div class=\"s-0-0 flex row\">预览内容</div>\r\n\r\n          <div class=\"s-0-1 flex row\">\r\n            <textarea v-model=\"deploy.preView\" name id cols=\"30\" rows=\"10\"></textarea>\r\n          </div>\r\n        </div>\r\n        <div class=\"s-0 flex row\">\r\n          <div class=\"s-0-0 flex row\">题图</div>\r\n\r\n          <div class=\"s-0-1 flex row\">\r\n            <input\r\n              \r\n              v-if=\"visible.page_mode!=2\"\r\n              class=\"i1\"\r\n              type=\"text\"\r\n              placeholder=\"题图连接\"\r\n              v-model=\"deploy.titleImage\"\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex row\">\r\n          \r\n        <button class=\"button\" @click=\"updatedeploy\">保存</button>\r\n        <button class=\"button\" @click=\"article_deploy\">发布</button>\r\n        <!-- {{deploy.isDown}} -->\r\n        <button v-if=\"deploy.isDown!=true\" class=\"button\" @click=\"down_deploied\">下架</button>\r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\n\r\nimport \"../css/btn.css\";\r\nimport \"animate.css\";\r\nimport \"../css/custom_animate.css\";\r\nimport \"../css/WriteArticle.css\";\r\n// import \"codemirror/lib/codemirror.css\";\r\n// import \"codemirror/theme/zenburn.css\";\r\n// import \"../css/CodeMirror_Theme.css\";\r\n\r\n// ../node_modules/highlight.js/styles/pojoaque.css\r\nimport \"../../node_modules/highlight.js/styles/pojoaque.css\";\r\nimport \"../../serve/backend/views/css/topic.css\";\r\n\r\nimport { IP } from \"../../serve/PREDEFINED/CONSTANT.js\";\r\n\r\nimport * as API from \"../../serve/fontend/index.js\";\r\nimport co from \"co\";\r\n\r\n// import EVA from \"../../serve/fontend/Obj/EditorValueAdvance.js\";\r\n\r\nimport SwitchF from \"../../vendors/ytool.switch.js\";\r\n\r\nvar LOGIN_CODE = require(\"flogin\").CODE;\r\nimport editor from \"./editor\";\r\nimport editorCodemirror from \"./CodeMirror\";\r\n\r\nvar marked = require(\"marked\");\r\nvar renderer = new marked.Renderer();\r\nvar radCode = renderer.code;\r\nrenderer.code = function(code, lang, escaped) {\r\n  if (lang === \"raw\") {\r\n    return '<p class=\"lang-raw\">' + code + \"</p>\";\r\n  }\r\n  var self = this;\r\n  return radCode.call(self, code, lang, escaped);\r\n};\r\nmarked.setOptions({\r\n  gfm: true,\r\n  tables: true,\r\n  breaks: true,\r\n  pedantic: true,\r\n  sanitize: true,\r\n  smartLists: true,\r\n  smartypants: true,\r\n  highlight: function(code, type, sss) {\r\n    return require(\"highlight.js\").highlightAuto(code).value;\r\n  },\r\n  renderer: renderer\r\n});\r\n\r\nexport default {\r\n  components: {\r\n    editor,\r\n    editorCodemirror\r\n  },\r\n  data() {\r\n    return {\r\n      search_mode_show_deploy:false,\r\n      deploy: {\r\n        tags: [],\r\n        preView: null,\r\n        titleImage: null,\r\n        isDown:null\r\n      },\r\n      editorQuery: \"codemirror\",\r\n      is_listen_change: false,\r\n      floder_list: [],\r\n      visible: {\r\n        page_mode: 0, //0:normal:treeview editor markdown 1:editor & markdown preview 2 only editor\r\n        treeview: 1,\r\n        editor: 1,\r\n        markdown: 0,\r\n        deploy:0\r\n      },\r\n      search_mode_show_flag: false,\r\n      search_mode_content: \"\",\r\n      floder_mode_show_type: \"1\",\r\n      floder_add_show_flag: false,\r\n      floder_active: \"\",\r\n      floder_active_index: 0,\r\n      floder_edit_index: -1,\r\n      floder_add_visible: false,\r\n      floder_add_input: \"\",\r\n      floder_item_more_crud_element_visible: false,\r\n      article_item_more_crud_element_visible: false,\r\n      article_list: [],\r\n      article_active: \"\",\r\n      article_edit_index: -1,\r\n      article_add_visible: false,\r\n      article_add_input: \"\",\r\n      article_title: \"\",\r\n      article_content: \"\",\r\n      article_content_style: {\r\n        changed: false,\r\n        saving: false,\r\n        error: false\r\n      },\r\n      editor: \"sb\",\r\n      Delay: \"\",\r\n      onEditorChange: \"\",\r\n      // EVA: \"\",\r\n      article_markdown_preview_text: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    down_deploied(){\r\n      API.ARTICLE.downDeploied(this.article_active,).then(function(res) {\r\n        // console.log(res)\r\n        // self.article_list = res.result;\r\n        alert('下架成功')\r\n      });\r\n    },\r\n    get_deployed_list(){\r\n      var self = this;\r\n      API.ARTICLE.allDepolied().then(function(res) {\r\n        // console.log(res)\r\n        self.article_list = res.result;\r\n      });\r\n    },\r\n\r\n    updatedeploy() {\r\n      API.ARTICLE.updatedeploy(\r\n        this.article_active,\r\n        this.deploy.preView,\r\n        this.deploy.tags,\r\n        this.deploy.titleImage,\r\n        this.article_title\r\n      );\r\n    },\r\n    change_edtior: function() {\r\n      // this.$route.push()\r\n      // console.log(\"this.$route.query\",this.$route.query)\r\n      let currentEditor = this.$route.query.editor;\r\n      if (currentEditor == \"editor\") {\r\n        this.$router.push({ query: { editor: \"codemirror\" } });\r\n        this.editorQuery = \"codemirror\";\r\n\r\n        // return;\r\n      } else {\r\n        this.$router.push({ query: { editor: \"editor\" } });\r\n        this.editorQuery = \"editor\";\r\n        // return;\r\n      }\r\n      this._acticle_load(this.$route.params.articleid);\r\n    },\r\n    article_content_save: function(obj) {\r\n      let self = this;\r\n      console.log(\"article_content_save\", obj);\r\n      co(function*() {\r\n        self.article_content_style.saving = true;\r\n        let update = yield API.ARTICLE.update(\r\n          obj.content,\r\n          self.article_title,\r\n          self.article_active,\r\n          self.floder_active,\r\n          self.editorQuery\r\n        );\r\n        if (self.editorQuery == \"codemirror\") {\r\n          self.article_markdown_preview_text = marked(\r\n            self.$refs.codemirror.EVA.value\r\n          );\r\n        }\r\n\r\n        self.article_content_style.saving = false;\r\n        self.article_content_style.changed = false;\r\n\r\n        self.floder_sort_refresh();\r\n\r\n        self.article_list_refresh();\r\n      }).catch(function(err) {\r\n        console.log(err);\r\n        alert(err.MSG);\r\n      });\r\n    },\r\n    //   发布文章\r\n    article_deploy() {\r\n      API.ARTICLE.deploy(this.article_active);\r\n    },\r\n    deploy_setting: function() {\r\n      if (this.visible.page_mode != 3) {\r\n        this.visible = {\r\n          page_mode: 3,\r\n          treeview: 0,\r\n          editor: 1,\r\n          markdown: 0,\r\n          deploy: 1\r\n        };\r\n      } else {\r\n        this.visible = {\r\n          page_mode: 0,\r\n          treeview: 1,\r\n          editor: 1,\r\n          markdown: 0,\r\n          deploy: 0\r\n        };\r\n      }\r\n    },\r\n    visible_only_editor: function() {\r\n      if (this.visible.page_mode != 2) {\r\n        this.visible = {\r\n          page_mode: 2,\r\n          treeview: 0,\r\n          editor: 1,\r\n          markdown: 0,\r\n          deploy: 0\r\n        };\r\n      } else {\r\n        this.visible = {\r\n          page_mode: 0,\r\n          treeview: 1,\r\n          editor: 1,\r\n          markdown: 0,\r\n          deploy: 0\r\n        };\r\n      }\r\n    },\r\n    visible_editor_markdown: function() {\r\n      if (this.visible.page_mode != 1) {\r\n        this.visible = {\r\n          page_mode: 1,\r\n          treeview: 0,\r\n          editor: 1,\r\n          markdown: 1,\r\n          deploy: 0\r\n        };\r\n      } else {\r\n        this.visible = {\r\n          page_mode: 0,\r\n          treeview: 1,\r\n          editor: 1,\r\n          markdown: 0,\r\n          deploy: 0\r\n        };\r\n      }\r\n    },\r\n    article_markdown_preview: function() {\r\n      if (this.page_mode === 1) {\r\n        this.page_mode = 0;\r\n        return;\r\n      }\r\n      this.page_mode = 1;\r\n    },\r\n    search_mode_show: function() {\r\n      this.search_mode_show_flag = !this.search_mode_show_flag;\r\n    },\r\n    search_mode_ok: function() {\r\n      // search\r\n      var self = this;\r\n      API.ARTICLE.search(this.search_mode_content).then(function(res) {\r\n        // console.log(res)\r\n        self.article_list = res.result;\r\n      });\r\n    },\r\n    floder_mode_show: function() {\r\n      // var self = this\r\n      // console.log(123)\r\n      // this.floder_add_show_switch()\r\n      this.floder_add_show_flag = !this.floder_add_show_flag;\r\n    },\r\n\r\n    article_delete: function() {\r\n      let self = this;\r\n      API.ARTICLE.remove(this.article_active).then(function() {\r\n        self.article_list_refresh();\r\n        self.article_item_more_crud_element_visible = false;\r\n      });\r\n      API.ARTICLE.removeDeploy(this.article_active).then(function() {\r\n        self.article_list_refresh();\r\n        self.article_item_more_crud_element_visible = false;\r\n      });\r\n      \r\n    },\r\n    article_list_refresh: function() {\r\n      let self = this;\r\n      API.ARTICLE.list(this.floder_active).then(function(res) {\r\n        self.article_list = res.result;\r\n      });\r\n    },\r\n    article_content_execute: function() {\r\n      // this.Delay.execute();\r\n      if (this.editorQuery == \"editor\") {\r\n        this.$refs.editor.Delay.execute();\r\n      }\r\n      if (this.editorQuery == \"codemirror\") {\r\n        this.$refs.codemirror.Delay.execute();\r\n      }\r\n    },\r\n\r\n    article_item_rename: function(index) {\r\n      this.article_edit_index = index;\r\n    },\r\n\r\n    article_item_active: function(index) {\r\n      let self = this;\r\n\r\n      let article_uid = this.article_list[index].selfuid;\r\n      self.is_listen_change = false;\r\n      //   this.editor.off(\"change\", this.onEditorChange);\r\n      this.article_edit_index = index;\r\n      // self.EVA.reset();\r\n      self._acticle_load(article_uid, function() {\r\n        self.$router.push({\r\n          name: \"WriteArticle2\",\r\n          params: {\r\n            floderid: self.floder_active,\r\n            articleid: self.article_active\r\n          },\r\n          query: {\r\n            editor: self.editorQuery\r\n          }\r\n        });\r\n      });\r\n    },\r\n    _acticle_load: function(article_uid, callback) {\r\n      let self = this;\r\n\r\n      co(function*() {\r\n        let article_obj = yield API.ARTICLE.content(\r\n          article_uid,\r\n          self.editorQuery\r\n        );\r\n\r\n        console.log(\"article load\", article_obj);\r\n        self.article_title = article_obj.result.title;\r\n        // self.EVA.value = article_obj.result.content;\r\n\r\n        // self.editor.setValue(self.EVA.value);\r\n        // let saverData = yield self.saveP();\r\n        // self.editor.configuration.blocks = saverData\r\n        self.article_content = article_obj.result[self.editorQuery].content;\r\n        // self.editor.render(JSON.parse(self.article_content))\r\n        // self.renderEditor(self.article_content);\r\n        // setTimeout(() => {\r\n        //   self.article_markdown_preview_text = marked(self.article_content);\r\n        // }, 100);\r\n\r\n        // self.old_text = article_obj.result.content\r\n\r\n        self.article_content_style.changed = false;\r\n        self.is_listen_change = true;\r\n        // self.editor.on(\"change\", self.onEditorChange);\r\n        self.floder_active = article_obj.result.floder_uid;\r\n        self.article_active = article_uid;\r\nif(article_obj.result.deploy_setting){\r\n        self.deploy.tags = article_obj.result.deploy_setting.tags\r\n        self.deploy.preView = article_obj.result.deploy_setting.preView\r\n        self.deploy.titleImage = article_obj.result.deploy_setting.titleImage\r\n        \r\n        }else{\r\n          self.deploy.tags = \"\"\r\n          self.deploy.preView = \"\"\r\n          self.deploy.titleImage = \"\"\r\n        }\r\n        self.deploy.isDown = article_obj.result.deploy && article_obj.result.deploy.isDown\r\n\r\n        if (callback) {\r\n          callback();\r\n        }\r\n      }).catch(function(err) {\r\n        console.log(\"err\", err);\r\n      });\r\n    },\r\n    article_edit_cancel(index) {\r\n      this.article_edit_index = -1;\r\n    },\r\n    article_edit_ok() {\r\n      this.article_edit_index = -1;\r\n    },\r\n    article_add_show: function() {\r\n      this.article_add_visible = true;\r\n    },\r\n    article_add_ok() {\r\n      let self = this;\r\n      let floder_uid = self.floder_active;\r\n      API.ARTICLE.add(this.article_add_input, floder_uid)\r\n        .then(function() {\r\n          self.floder_sort_refresh();\r\n          self.article_list_refresh();\r\n\r\n          self.article_add_input = \"\";\r\n        })\r\n        .catch(function(err) {\r\n          alert(err);\r\n        });\r\n      this.article_add_visible = false;\r\n    },\r\n    article_add_cancel() {\r\n      this.article_add_visible = false;\r\n    },\r\n    article_item_more_crud_enter: function() {\r\n      this.article_item_more_crud_element_visible = true;\r\n      this.$refs.article_item_more.style.left =\r\n        event.target.offsetLeft + 250 + \"px\";\r\n      this.$refs.article_item_more.style.top =\r\n        event.target.offsetParent.offsetTop + 52 + \"px\";\r\n    },\r\n    Mfloder_mode_show_type_change: function() {\r\n      API.CONFIG.floder_sort_type(this.floder_mode_show_type);\r\n    },\r\n    floder_sort_refresh: function() {\r\n      // console.log(123)\r\n      // debugger;\r\n      // this.floder_list[this.floder_active_index].timemap\r\n      this.floder_list[this.floder_active_index].timemap = new Date().getTime();\r\n      this.floder_active_index = 0;\r\n    },\r\n    floder_delete: function() {\r\n      let self = this;\r\n      API.FLODER.remove(this.floder_active).then(function() {\r\n        self.floder_refresh();\r\n        self.floder_item_more_crud_element_visible = false;\r\n      });\r\n    },\r\n    floder_item_more_crud_enter: function(event, index) {\r\n      this.floder_item_more_crud_element_visible = true;\r\n      this.$refs.floder_item_more.style.left =\r\n        event.target.offsetLeft - 35 + \"px\";\r\n      this.$refs.floder_item_more.style.top =\r\n        event.target.offsetParent.offsetTop - 29 + \"px\";\r\n\r\n      // console.log(123)\r\n    },\r\n    floder_item_more_crud_out: function(event, index) {\r\n      this.floder_item_more_crud_element_visible = false;\r\n    },\r\n    article_item_more_crud_out: function() {\r\n      this.article_item_more_crud_element_visible = false;\r\n    },\r\n    floder_item_rename: function(index) {\r\n      this.floder_edit_index = index;\r\n    },\r\n    floder_item_active: function(index) {\r\n      let self = this;\r\n      let floder_id = self.floder_list[index].floder_uid;\r\n      this.floder_active_index = index;\r\n      // co(function*(){\r\n      //     let article_list = yield API.ARTICLE.list(self.floder_list[index].floder_uid)\r\n      //     self.article_list = article_list.result\r\n      // })\r\n      // .catch(function(err){\r\n\r\n      // })\r\n\r\n      this._floder_load(floder_id);\r\n\r\n      // this.floder_active = this.floder_list[index].floder_uid\r\n    },\r\n    _floder_load: function(floder_uid, callback) {\r\n      let self = this;\r\n      // if(this.editorQuery=='editor'){\r\n      //   this.$refs.editor.EVA.reset();\r\n      // }\r\n      // if(this.editorQuery=='codemirror'){\r\n      //   this.$refs.codemirror.EVA.reset();\r\n      // }\r\n      co(function*() {\r\n        let article_list = yield API.ARTICLE.list(floder_uid);\r\n\r\n        self.article_list = article_list.result;\r\n\r\n        // for (var i = self.floder_list.length - 1; i >= 0; i--) {\r\n        //     if(self.floder_list[i].floder_uid === floder_uid){\r\n\r\n        //     }\r\n        // }\r\n        self.floder_active = floder_uid;\r\n\r\n        callback();\r\n      }).catch(function(err) {});\r\n    },\r\n    floder_edit_cancel(index) {\r\n      this.floder_edit_index = -1;\r\n    },\r\n    floder_edit_ok() {\r\n      this.floder_edit_index = -1;\r\n    },\r\n    floder_add_show: function() {\r\n      this.floder_add_visible = true;\r\n    },\r\n    floder_refresh: function() {\r\n      let self = this;\r\n      API.FLODER.list().then(function(res) {\r\n        self.floder_list = res.result;\r\n      });\r\n    },\r\n    floder_add_ok() {\r\n      let self = this;\r\n      API.FLODER.add(this.floder_add_input)\r\n        .then(function() {\r\n          self.floder_refresh();\r\n          self.floder_add_input = \"\";\r\n        })\r\n        .catch(function(err) {\r\n          alert(err);\r\n        });\r\n      this.floder_add_visible = false;\r\n    },\r\n    floder_add_cancel() {\r\n      this.floder_add_visible = false;\r\n    }\r\n  },\r\n  computed: {\r\n    // article_markdown_preview_text:function(){\r\n    //     let title = \"# \" + this.article_title+\"\\n\"\r\n    //     // self.EVA.value = self.editor.getValue()\r\n    //     return marked(title+this.article_content)\r\n    // },\r\n    floder_list_computed: function() {\r\n      // let new_list = Object.assign({},this.floder_list)\r\n      // 直接赋值是引用方式\r\n      // let new_list = this.floder_list\r\n      let new_list = this.floder_list;\r\n      // let new_list = [...array1]\r\n      // console.log(222)\r\n      // 对数组进行排序\r\n      // debugger\r\n      switch (this.floder_mode_show_type) {\r\n        case \"1\":\r\n          new_list.sort(function(p1, p2) {\r\n            return parseInt(p2._id, 16) - parseInt(p1._id, 16);\r\n          });\r\n          break;\r\n        case \"2\":\r\n          new_list.sort(function(p1, p2) {\r\n            if (p2.timemap === undefined) {\r\n              return -1;\r\n            }\r\n            if (p1.timemap === undefined) {\r\n              return 1;\r\n            }\r\n            return p2.timemap - p1.timemap;\r\n          });\r\n          break;\r\n        case \"3\":\r\n          new_list.sort(function(p1, p2) {\r\n            if (p2.timemapTotal === undefined) {\r\n              return -1;\r\n            }\r\n            if (p1.timemapTotal === undefined) {\r\n              return 1;\r\n            }\r\n            return p2.timemapTotal - p1.timemapTotal;\r\n          });\r\n          break;\r\n      }\r\n\r\n      return new_list;\r\n    }\r\n  },\r\n  created() {\r\n    let currentEditor = this.$route.query.editor;\r\n    if (currentEditor) {\r\n      this.editorQuery = currentEditor;\r\n    }\r\n    let self = this;\r\n\r\n    co(function*() {\r\n      let floder_list = yield API.FLODER.list();\r\n      self.floder_list = floder_list.result;\r\n\r\n      // 加载内容\r\n      if (self.$route.params.floderid != undefined) {\r\n        // console.log(123)\r\n        self._floder_load(self.$route.params.floderid, function() {\r\n          if (self.$route.params.articleid != undefined) {\r\n            self._acticle_load(self.$route.params.articleid);\r\n          }\r\n        });\r\n      } else {\r\n        self.floder_active = floder_list.result[0].floder_uid;\r\n        let article_list = yield API.ARTICLE.list(\r\n          self.floder_list[0].floder_uid\r\n        );\r\n        self.article_list = article_list.result;\r\n      }\r\n    }).catch(function(err) {\r\n      if (err.STATUSCODE === LOGIN_CODE.LOGIN_NO_LOGIN.STATUSCODE) {\r\n        self.$router.push(\"login\");\r\n      }\r\n    });\r\n  },\r\n  mounted() {\r\n    let self = this;\r\n    // var e = this.$refs.ta1;\r\n    // const saveButton = document.getElementById(\"saveButton\");\r\n    // this.renderEditor()\r\n\r\n    // this.editor = CodeMirror.fromTextArea(e, {\r\n    //   mode: \"gfm\",\r\n    //   theme: \"zenburn\",\r\n    //   lineWrapping: true,\r\n    //   extraKeys: {\r\n    //     Enter: \"newlineAndIndentContinueMarkdownList\",\r\n    //     \"Ctrl-S\": function(cm) {\r\n    //       self.Delay.execute();\r\n    //     },\r\n    //     \"Alt-H\": function(cm) {\r\n    //       var spaces = cm.getSelection();\r\n    //       cm.replaceSelection(\"```html\\r\\n\" + spaces + \"\\r\\n```\");\r\n    //     },\r\n    //     \"Alt-J\": function(cm) {\r\n    //       var spaces = cm.getSelection();\r\n    //       cm.replaceSelection(\"```js\\r\\n\" + spaces + \"\\r\\n```\");\r\n    //     },\r\n    //     \"Alt-K\": function(cm) {\r\n    //       var spaces = cm.getSelection();\r\n    //       cm.replaceSelection(\"```raw\\r\\n\" + spaces + \"\\r\\n```\");\r\n    //     },\r\n    //     \"Alt-L\": function(cm) {\r\n    //       var spaces = cm.getSelection();\r\n    //       cm.replaceSelection(\"[\" + spaces + \"]()\");\r\n    //     },\r\n    //     \"Alt-`\": function(cm) {\r\n    //       var spaces = cm.getSelection();\r\n    //       cm.replaceSelection(\"`\" + spaces + \"`\");\r\n    //     },\r\n    //     \"Alt-1\": function(cm) {\r\n    //       let curosr = cm.getCursor();\r\n    //       cm.setCursor(curosr.line, 0);\r\n    //       var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n    //       cm.replaceSelection(\"#\" + spaces);\r\n    //     },\r\n    //     \"Alt-2\": function(cm) {\r\n    //       let curosr = cm.getCursor();\r\n    //       cm.setCursor(curosr.line, 0);\r\n    //       var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n    //       cm.replaceSelection(\"##\" + spaces);\r\n    //     },\r\n    //     \"Alt-3\": function(cm) {\r\n    //       let curosr = cm.getCursor();\r\n    //       cm.setCursor(curosr.line, 0);\r\n    //       var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n    //       cm.replaceSelection(\"###\" + spaces);\r\n    //     },\r\n    //     \"Alt-I\": function(cm) {\r\n    //       let curosr = cm.getCursor();\r\n    //       cm.setCursor(curosr.line, 0);\r\n    //       var spaces = Array(cm.getOption(\"indentUnit\") + 1).join(\" \");\r\n    //       cm.replaceSelection(\"* \" + spaces);\r\n    //     }\r\n    //   }\r\n    // });\r\n\r\n    API.CONFIG.getAll().then(function(res) {\r\n      // console.log(res)\r\n      self.floder_mode_show_type = res.result.floder_sort_type;\r\n    });\r\n  },\r\n  watch: {\r\n    $route: function() {\r\n      console.log(\"this.$route.query\", this.$route.query);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// WriteArticle.vue?49b9d63c","<template>\r\n    <div class=\"write_article_wrap\">\r\n        <div \r\n        @mouseleave=\"floder_item_more_crud_out($event)\" \r\n        ref=\"floder_item_more\" id=\"floder_item_more\" \r\n        v-show=\"floder_item_more_crud_element_visible\" \r\n        class=\"floder-cover\">\r\n            <div class=\"background\"></div>\r\n            <ul class=\"subitem\">\r\n                <li ><i class=\"iconfont icon-xiugai\"></i></li>\r\n                <li @click=\"floder_delete\"><i class=\"iconfont icon-shanchu\"></i></li>\r\n            </ul>\r\n        </div>\r\n        <div \r\n        @mouseleave=\"article_item_more_crud_out($event)\" \r\n        ref=\"article_item_more\" id=\"article_item_more\" \r\n        v-show=\"article_item_more_crud_element_visible\" \r\n        class=\"floder-cover\">\r\n            <div class=\"background\"></div>\r\n            <ul class=\"subitem\">\r\n                <li ><i class=\"iconfont icon-xiugai\"></i></li>\r\n                <li @click=\"article_delete\"><i class=\"iconfont icon-shanchu\"></i></li>\r\n            </ul>\r\n        </div>\r\n        <template v-if=\"page_mode===0\">\r\n            <div class=\"floder\">\r\n                <a class=\"btn back_home\">回到首页</a>\r\n                <p class=\"p_add\" @click=\"floder_add_show\"><i class=\"i_add\">+</i>新建文集</p>\r\n                <p class=\"list_mode\">\r\n                    <i @click=\"floder_mode_show\" class=\"iconfont icon-zhankai\"></i>\r\n                </p>\r\n                <div v-show=\"floder_add_show_flag\" class=\"list_mode_group\">\r\n                    <p class=\"p1\">文集排序方式</p>\r\n                    <select v-model=\"floder_mode_show_type\" @change=\"Mfloder_mode_show_type_change\" name=\"\" id=\"\">\r\n                        <option value=\"1\">创建日期</option>\r\n                        <option value=\"2\">最近使用</option>\r\n                        <option value=\"3\">使用频率</option>\r\n                    </select>\r\n                </div>\r\n                <template v-if=\"floder_add_visible\">\r\n                    <div class=\"add_wrap\">\r\n                        <input v-model=\"floder_add_input\" placeholder=\"输入文集名称\" type=\"\" name=\"\">\r\n                        <a @click=\"floder_add_ok\" class=\"btn btn_ok\" >保存</a>\r\n                        <a @click=\"floder_add_cancel\" class=\"btn btn_cancel\" >取消</a>\r\n                    </div>\r\n                </template>\r\n                <ul class=\"item\">\r\n                    <li v-for=\"(item,index) in floder_list_computed\"\r\n                        :class=\"{active:floder_active === floder_list[index].floder_uid,editor:floder_edit_index===index}\"\r\n                        @click=\"floder_item_active(index)\" >\r\n                        <template v-if=\"index!=floder_edit_index\">\r\n                            {{index+1+'、'+item.name}}\r\n                           <!--  @click.prevent=\"floder_item_rename(index)\"  -->\r\n                            <i @click=\"floder_item_more_crud_enter($event,index)\"\r\n                               class=\"iconfont icon-gengduo i1\"></i>\r\n                        </template>\r\n                        <template v-if=\"index===floder_edit_index\">\r\n                            <input :placeholder=\"item.name\"type=\"\" name=\"\">\r\n                            <a @click=\"floder_edit_ok\" class=\"btn btn_ok\" >保存</a>\r\n                            <a @click=\"floder_edit_cancel(index)\" class=\"btn btn_cancel\" >取消</a>\r\n                        </template>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"document\">\r\n                <p class=\"p_add\" @click=\"article_add_show\"><i class=\"i_add\">+</i>新建文章</p>\r\n                <template v-if=\"article_add_visible\">\r\n                    <div class=\"add_wrap\">\r\n                        <input v-model=\"article_add_input\" placeholder=\"输入文章名称\" type=\"\" name=\"\">\r\n                        <a @click=\"article_add_ok\" class=\"btn btn_ok\" >保存</a>\r\n                        <a @click=\"article_add_cancel\" class=\"btn btn_cancel\" >取消</a>\r\n                    </div>\r\n                </template>\r\n                <ul >\r\n                    <template v-for=\"(item,index) in article_list\">\r\n                        <li @click=\"article_item_active(index)\"\r\n                            :class=\"{active:article_active === article_list[index].selfuid,editor:article_edit_index===index}\">\r\n                            <i class=\"i1\"></i>\r\n                            <p class=\"p1\">{{item.title}}</p>\r\n                            <p class=\"p2\">------</p>\r\n                            <i v-if=\"article_edit_index === index\"\r\n                               @click=\"article_item_more_crud_enter($event,index)\"\r\n                            class=\"iconfont icon-gengduo i2\"></i>\r\n                        </li>\r\n                    </template>\r\n                </ul>\r\n            </div>\r\n        </template>\r\n        <div class=\"article\"\r\n            :class=\"{md_preview:page_mode === 1}\" >\r\n            <input class=\"i1\" type=\"text\" placeholder=\"无标题文章\" v-model=\"article_title\">\r\n            <p class=\"p1\">\r\n                <i @click=\"article_markdown_preview\" class=\"iconfont icon-shu i i2 \"></i>\r\n                <i  @click=\"article_content_execute\"\r\n                    class=\"iconfont icon-baocun i i1 animated\" \r\n                    :class=\"{saving:article_content_style.saving,\r\n                           changed:article_content_style.changed}\"></i>\r\n                <i @click=\"article_markdown_preview\" class=\"iconfont icon-fabu i i2 \"></i>\r\n            </p>\r\n            <textarea ref=\"ta1\" name=\"\" id=\"ta1\" cols=\"30\" rows=\"10\"></textarea>\r\n        </div>\r\n        <div v-show=\"page_mode===1\" \r\n             class = \"markdown_parse_preview_wrap\">\r\n            <div id=\"markdown_parse_preview\" v-html=\"article_markdown_preview_text\">\r\n                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState,mapGetters,mapMutations,mapActions } from 'vuex'\r\n\r\nimport '../css/btn.css'\r\nimport 'animate.css'\r\nimport '../css/custom_animate.css'\r\nimport '../css/WriteArticle.css'\r\nimport 'codemirror/lib/codemirror.css'\r\nimport 'codemirror/theme/zenburn.css'\r\nimport '../css/CodeMirror_Theme.css'\r\n\r\n// ../node_modules/highlight.js/styles/pojoaque.css\r\nimport '../../node_modules/highlight.js/styles/pojoaque.css'\r\n// import '../css/custom_markdown_preview.css'\r\n\r\nimport {\r\n   IP as PREDEFINEDIP\r\n} from '../../serve/PREDEFINED/CONSTANT.js'\r\nvar marked = require('marked');\r\nvar renderer = new marked.Renderer();\r\n// console.log(renderer.code.toString())\r\nvar radCode = renderer.code\r\nrenderer.code = function (code, lang, escaped) {\r\n    if(lang === 'raw'){\r\n        return '<p class=\"lang-raw\">'+code+'</p>'\r\n    }\r\n    var self = this\r\n    // console.log(this)\r\n    return radCode.call(self,code,lang,escaped)\r\n}\r\nmarked.setOptions({\r\n  \r\n  gfm: true,\r\n  tables: true,\r\n  breaks: true,\r\n  pedantic: true,\r\n  sanitize: true,\r\n  smartLists: true,\r\n  smartypants: true,\r\n  highlight: function (code,type,sss) {\r\n    return require('highlight.js').highlightAuto(code).value;\r\n  },renderer:renderer\r\n});\r\n\r\n// console.log(renderer)\r\n// marked.setOptions({\r\n//   highlight: function (code) {\r\n//     return require('highlight.js').highlightAuto(code).value;\r\n//   }\r\n// });\r\n// var req = require.context(\"codemirror/theme/\", true, /\\.css/);\r\n// req.keys().forEach(function(key){\r\n//     req(key);\r\n// });\r\n\r\n\r\nimport * as API from '../../serve/fontend/index.js'\r\nimport co from 'co'\r\nimport CodeMirror from 'codemirror'\r\nimport 'codemirror/mode/gfm/gfm.js'\r\nimport Delay from '../../serve/fontend/Obj/Delay.js'\r\nimport dndUpload from '../../serve/fontend/Obj/dndUpload/dndUpload.js'\r\n// import DMP from '../../serve/fontend/Obj/Text_Diff_Patch.js'\r\n// import TDP from '../../serve/fontend/Obj/Text_Diff_Patch.js'\r\n\r\nimport EVA from '../../serve/fontend/Obj/EditorValueAdvance.js'\r\n\r\nimport SwitchF from '../../vendors/ytool.switch.js'\r\n\r\nvar LOGIN_CODE =  require('flogin').CODE\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n        page_mode:0,//0:normal 1:markdown preview \r\n        floder_list:[],\r\n        floder_mode_show_type:\"1\",\r\n        floder_add_show_switch:function(){},\r\n        floder_add_show_flag:false,\r\n        floder_active:\"\",\r\n        floder_active_index:0,\r\n        floder_edit_index:-1,\r\n        floder_add_visible:false,\r\n        floder_add_input:\"\",\r\n        floder_item_more_crud_element_visible:false,\r\n        // article_markdown_preview_text:\"\",\r\n        article_item_more_crud_element_visible:false,\r\n        article_list:[],\r\n        article_active:\"\",\r\n        article_edit_index:-1,\r\n        article_add_visible:false,\r\n        article_add_input:\"\",\r\n        article_title:\"\",\r\n        article_content:\"\",\r\n        article_content_style:{\r\n            changed:false,\r\n            saving:false,\r\n            error:false\r\n        },\r\n        editor:\"\",\r\n        Delay:\"\",\r\n        onEditorChange:\"\",\r\n        EVA:\"\"\r\n    }\r\n  },\r\n  methods:{\r\n        floder_mode_show:function(){\r\n            // var self = this\r\n            // console.log(123)\r\n            this.floder_add_show_switch()\r\n        },\r\n        article_markdown_preview:function(){\r\n            if(this.page_mode === 1){\r\n                this.page_mode = 0\r\n                return \r\n            }\r\n            this.page_mode = 1\r\n        },\r\n        article_delete:function(){\r\n            let self = this\r\n            API.ARTICLE.remove(this.article_active)\r\n            .then(function(){\r\n                self.article_list_refresh()\r\n                self.article_item_more_crud_element_visible = false\r\n            })\r\n        },\r\n        article_list_refresh:function(){\r\n            let self = this\r\n            API.ARTICLE.list(this.floder_active)\r\n            .then(function(res){\r\n                self.article_list = res.result\r\n            })\r\n        },\r\n        article_content_execute:function(){\r\n            this.Delay.execute()\r\n        },\r\n        article_content_save:function(value,title,article_active,floder_uid){\r\n            let self = this\r\n\r\n            co(function*(){\r\n                \r\n                self.article_content_style.saving = true\r\n\r\n                let update = yield API.ARTICLE.update(value,title,article_active,floder_uid)\r\n\r\n                self.article_content_style.saving = false\r\n                self.article_content_style.changed = false\r\n\r\n                self.floder_sort_refresh()\r\n\r\n                self.article_list_refresh()\r\n            })\r\n            .catch(function(err){\r\n                alert(err.MSG)\r\n            })\r\n        },\r\n        article_item_rename:function(index){\r\n            this.article_edit_index = index\r\n        },\r\n        \r\n        article_item_active:function(index){\r\n            let self = this\r\n            \r\n            let article_uid = this.article_list[index].selfuid\r\n\r\n            this.editor.off(\"change\",this.onEditorChange)\r\n            this.article_edit_index = index\r\n            // this.article_active =  this.article_list[index].selfuid\r\n            self.EVA.reset()\r\n            \r\n            self._acticle_load(article_uid,function(){\r\n                self.$router.push({ name: 'WriteArticle2', \r\n                params: { \r\n                    floderid: self.floder_active,\r\n                    articleid:self.article_active }\r\n                })\r\n\r\n            })\r\n\r\n\r\n            // co(function*(){\r\n            //     let article_obj = yield API.ARTICLE.content(self.article_active,self.article_active)\r\n\r\n            //     self.article_title = article_obj.result.title\r\n            //     self.EVA.value = article_obj.result.content\r\n\r\n            //     self.editor.setValue(self.EVA.value)\r\n            //     self.article_content = article_obj.result.content\r\n            //     // self.old_text = article_obj.result.content\r\n\r\n            //     self.article_content_style.changed = false\r\n            //     self.editor.on(\"change\",self.onEditorChange)\r\n\r\n            // })\r\n            // .catch(function(err){\r\n                \r\n            // })\r\n        },\r\n        _acticle_load:function(article_uid,callback){\r\n            let self = this\r\n            co(function*(){\r\n                let article_obj = yield API.ARTICLE.content(article_uid)\r\n\r\n                self.article_title = article_obj.result.title\r\n                self.EVA.value = article_obj.result.content\r\n\r\n                self.editor.setValue(self.EVA.value)\r\n                self.article_content = article_obj.result.content\r\n                // self.old_text = article_obj.result.content\r\n\r\n                self.article_content_style.changed = false\r\n                self.editor.on(\"change\",self.onEditorChange)\r\n\r\n                self.article_active =  article_uid\r\n\r\n                callback()\r\n            })\r\n            .catch(function(err){\r\n                \r\n            })\r\n        },\r\n        article_edit_cancel(index){\r\n            this.article_edit_index = -1\r\n        },\r\n        article_edit_ok(){\r\n            this.article_edit_index = -1\r\n        },\r\n        article_add_show:function(){\r\n            this.article_add_visible = true\r\n        },\r\n        article_add_ok(){\r\n            let self = this\r\n            let floder_uid = self.floder_active\r\n            API.ARTICLE.add(this.article_add_input,floder_uid)\r\n            .then(function(){\r\n                self.floder_sort_refresh()\r\n                self.article_list_refresh()\r\n\r\n                self.article_add_input = \"\"\r\n            })\r\n            .catch(function(err){\r\n                alert(err)\r\n            })\r\n            this.article_add_visible = false\r\n        },\r\n        article_add_cancel(){\r\n             this.article_add_visible = false\r\n        },\r\n        article_item_more_crud_enter:function(){\r\n            this.article_item_more_crud_element_visible = true\r\n            this.$refs.article_item_more.style.left=event.target.offsetLeft+250+\"px\";\r\n            this.$refs.article_item_more.style.top=event.target.offsetParent.offsetTop+52+\"px\";\r\n        },\r\n        Mfloder_mode_show_type_change:function(){\r\n            // console.log(this.floder_mode_show_type)\r\n            API.CONFIG.floder_sort_type(this.floder_mode_show_type)\r\n        },\r\n        floder_sort_refresh:function(){\r\n            // console.log(123)\r\n            // debugger;\r\n            // this.floder_list[this.floder_active_index].timemap \r\n            this.floder_list[this.floder_active_index].timemap = (new Date()).getTime()\r\n            this.floder_active_index = 0\r\n        },\r\n        floder_delete:function(){\r\n            let self = this\r\n            API.FLODER.remove(this.floder_active)\r\n            .then(function(){\r\n                self.floder_refresh()\r\n                self.floder_item_more_crud_element_visible = false\r\n            })\r\n        },\r\n        floder_item_more_crud_enter:function(event,index){\r\n            this.floder_item_more_crud_element_visible = true\r\n            this.$refs.floder_item_more.style.left=event.target.offsetLeft-35+\"px\";\r\n            this.$refs.floder_item_more.style.top=event.target.offsetParent.offsetTop-29+\"px\";\r\n\r\n            // console.log(123)\r\n        },\r\n        floder_item_more_crud_out:function(event,index){\r\n            this.floder_item_more_crud_element_visible = false\r\n        },\r\n        article_item_more_crud_out:function(){\r\n            this.article_item_more_crud_element_visible = false\r\n        },\r\n        floder_item_rename:function(index){\r\n            this.floder_edit_index = index\r\n        },\r\n        floder_item_active:function(index){\r\n            let self = this\r\n            let floder_id = self.floder_list[index].floder_uid\r\n            this.floder_active_index = index\r\n            // co(function*(){\r\n            //     let article_list = yield API.ARTICLE.list(self.floder_list[index].floder_uid)\r\n            //     self.article_list = article_list.result\r\n            // })\r\n            // .catch(function(err){\r\n                \r\n            // })\r\n\r\n            this._floder_load(floder_id)\r\n\r\n            // this.floder_active = this.floder_list[index].floder_uid\r\n        },\r\n        _floder_load:function(floder_uid,callback){\r\n            let self = this\r\n\r\n            co(function*(){\r\n                let article_list = yield API.ARTICLE.list(floder_uid)\r\n\r\n                self.article_list = article_list.result\r\n\r\n                // for (var i = self.floder_list.length - 1; i >= 0; i--) {\r\n                //     if(self.floder_list[i].floder_uid === floder_uid){\r\n\r\n                //     }\r\n                // }\r\n                self.floder_active = floder_uid\r\n\r\n                callback()\r\n\r\n            })\r\n            .catch(function(err){\r\n                \r\n            })\r\n        },\r\n        floder_edit_cancel(index){\r\n            this.floder_edit_index = -1\r\n        },\r\n        floder_edit_ok(){\r\n            this.floder_edit_index = -1\r\n        },\r\n        floder_add_show:function(){\r\n            this.floder_add_visible = true\r\n        },\r\n        floder_refresh:function(){\r\n            let self = this\r\n            API.FLODER.list()\r\n            .then(function(res){\r\n                self.floder_list = res.result\r\n\r\n            })\r\n        },\r\n        floder_add_ok(){\r\n            let self = this\r\n            API.FLODER.add(this.floder_add_input)\r\n            .then(function(){\r\n                self.floder_refresh()\r\n                self.floder_add_input = \"\"\r\n            })\r\n            .catch(function(err){\r\n                alert(err)\r\n            })\r\n            this.floder_add_visible = false\r\n        },\r\n        floder_add_cancel(){\r\n            this.floder_add_visible = false\r\n        }\r\n  },\r\n  computed: {\r\n    article_markdown_preview_text:function(){\r\n        let title = \"# \" + this.article_title+\"\\n\"\r\n        // self.EVA.value = self.editor.getValue()\r\n        return marked(title+this.article_content)\r\n    },\r\n    floder_list_computed:function(){\r\n        // let new_list = Object.assign({},this.floder_list) \r\n        // 直接赋值是引用方式\r\n        // let new_list = this.floder_list\r\n        let new_list = this.floder_list\r\n        // let new_list = [...array1]\r\n        // console.log(222)\r\n        // 对数组进行排序\r\n        // debugger\r\n        switch(this.floder_mode_show_type){\r\n            case \"1\":\r\n                new_list.sort(function(p1,p2){\r\n                    return parseInt(p2._id,16) - parseInt(p1._id,16)\r\n                })\r\n                break;\r\n            case \"2\":\r\n                new_list.sort(function(p1,p2){\r\n                    if(p2.timemap===undefined){\r\n                        return -1\r\n                    }\r\n                    if(p1.timemap === undefined){\r\n                        return 1\r\n                    }\r\n                    return p2.timemap - p1.timemap \r\n                })\r\n            break;\r\n            case \"3\":\r\n                new_list.sort(function(p1,p2){\r\n                    if(p2.timemapTotal===undefined){\r\n                        return -1\r\n                    }\r\n                    if(p1.timemapTotal === undefined){\r\n                        return 1\r\n                    }\r\n                    return p2.timemapTotal - p1.timemapTotal \r\n                })\r\n            break;\r\n        }\r\n        \r\n        return new_list\r\n    }\r\n  },\r\n  created(){\r\n    let self = this\r\n\r\n    co(function*(){\r\n            let floder_list = yield API.FLODER.list()\r\n            self.floder_list = floder_list.result\r\n\r\n            // 加载内容\r\n            if(self.$route.params.floderid!=undefined){\r\n                // console.log(123)\r\n                self._floder_load(self.$route.params.floderid,function(){\r\n                    if(self.$route.params.articleid!=undefined){\r\n                        self._acticle_load(self.$route.params.articleid)\r\n                    }\r\n\r\n                })\r\n            }else{\r\n                self.floder_active = floder_list.result[0].floder_uid\r\n                let article_list = yield API.ARTICLE.list(self.floder_list[0].floder_uid)\r\n                self.article_list = article_list.result\r\n            }\r\n        })\r\n        .catch(function(err){\r\n            if(err.STATUSCODE === LOGIN_CODE.LOGIN_NO_LOGIN.STATUSCODE){\r\n                self.$router.push('login')\r\n            }\r\n        })\r\n  },\r\n  mounted(){\r\n    let self = this\r\n    var e = this.$refs.ta1\r\n    this.editor = CodeMirror.fromTextArea(e, {\r\n        mode: 'gfm',\r\n        theme: \"zenburn\",\r\n        lineWrapping:true,\r\n        extraKeys: {    \r\n            \"Enter\": \"newlineAndIndentContinueMarkdownList\",\r\n            \"Ctrl-S\":function(cm) {\r\n                self.Delay.execute()\r\n            }\r\n        }\r\n    });\r\n    this.Delay = new Delay(5000,function(){\r\n        // self.old_text =\"\"\r\n        // let new_text = self.editor.getValue()\r\n        self.EVA.value = self.editor.getValue()\r\n        // console.log(self.EVA.diff_result)\r\n\r\n        self.article_content_save(self.EVA.patch_list,self.article_title,self.article_active,self.floder_active)\r\n    })\r\n\r\n\r\n    \r\n\r\n    this.onEditorChange = function(){\r\n        // 为了使 editor off 执行生效，只能将push操作封装起来\r\n        // 因为 on 和 off 是根据 function 来的\r\n        // 如果使用匿名函数 function(){self.Delay.push()}\r\n        // 会无法 off 回失效\r\n        \r\n        self.article_content_style.changed = true\r\n\r\n        // 为 article_markdown_preview_text 属性提供变量\r\n        self.article_content = self.editor.getValue()\r\n        // self.article_content = self.editor.getValue()\r\n        // self.EVA.value = self.editor.getValue()\r\n        // console.log(self.EVA.diff_result)\r\n        self.Delay.push()\r\n    }\r\n    \r\n    this.EVA = new EVA()\r\n\r\n    var code_mirror = document.getElementsByClassName('CodeMirror')[0]\r\n    code_mirror.style.height = window.innerHeight - 106 + \"px\"\r\n    window.onresize = function() {\r\n        code_mirror.style.height = window.innerHeight - 106 + \"px\"\r\n    }\r\n    var dnd_upload = new dndUpload(document.getElementsByClassName(\"article\")[0],{\r\n        // serve_url:'http://localhost:8202/upload',\r\n        onSuccess:function(res){\r\n            // console.log('res',res)\r\n            \r\n            let current_line = self.editor.getCursor().line\r\n            // console.log(self.editor.getCursor())\r\n            \r\n            console.log(PREDEFINEDIP)\r\n\r\n            let img = \"![](\" + res.img_url.replace(\"IPADDRESS\",PREDEFINEDIP) + \")\"\r\n\r\n            self.editor.replaceRange(\"\\r\\n\\r\\n\"+img+\"\\r\\n\\r\\n\",{line:current_line,ch:0})\r\n        }\r\n    })\r\n\r\n\r\n    this.floder_add_show_switch = SwitchF([function(){\r\n        self.floder_add_show_flag = true\r\n    },\r\n    function(){\r\n        self.floder_add_show_flag = false\r\n    }]\r\n    )\r\n    API.CONFIG.getAll().then(function(res){\r\n        // console.log(res)\r\n        self.floder_mode_show_type = res.result.floder_sort_type\r\n    })\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// deploy.vue?7896c4eb","<template>\r\n  <div class=\"write_article_wrap\">\r\n    <!-- <div\r\n      class=\"article\"\r\n      :class=\"{md_preview:visible.markdown === 1,\r\n                    full:visible.page_mode === 2}\"\r\n    >-->\r\n    <div id=\"ta1\" style=\"height: 100%;overflow: auto;\"></div>\r\n  </div>\r\n  <!-- </div> -->\r\n</template>\r\n<script>\r\nimport { mapState, mapGetters, mapMutations, mapActions } from \"vuex\";\r\n\r\nimport \"../css/btn.css\";\r\nimport \"animate.css\";\r\nimport \"../css/custom_animate.css\";\r\nimport \"../css/WriteArticle.css\";\r\nimport \"../../node_modules/highlight.js/styles/pojoaque.css\";\r\nimport \"../../serve/backend/views/css/topic.css\";\r\n\r\nimport { IP } from \"../../serve/PREDEFINED/CONSTANT.js\";\r\n\r\nimport * as API from \"../../serve/fontend/index.js\";\r\nimport co from \"co\";\r\nimport Delay from \"../../serve/fontend/Obj/Delay.js\";\r\nimport dndUpload from \"../../serve/fontend/Obj/dndUpload/dndUpload.js\";\r\n\r\nimport EVA from \"../../serve/fontend/Obj/EditorValueAdvance.js\";\r\n\r\nimport SwitchF from \"../../vendors/ytool.switch.js\";\r\n\r\nvar LOGIN_CODE = require(\"flogin\").CODE;\r\nconst EditorJS = require(\"@editorjs/editorjs\");\r\nconst Header = require(\"@editorjs/header\");\r\nconst Marker = require(\"@editorjs/marker\");\r\nconst RawTool = require(\"@editorjs/raw\");\r\n\r\nconst SimpleImage = require(\"@editorjs/simple-image\");\r\nconst List = require(\"@editorjs/list\");\r\nconst Checklist = require(\"@editorjs/checklist\");\r\nconst Quote = require(\"@editorjs/quote\");\r\nconst Warning = require(\"@editorjs/warning\");\r\nconst CodeTool = require(\"@editorjs/code\");\r\nconst Delimiter = require(\"@editorjs/delimiter\");\r\nconst InlineCode = require(\"@editorjs/inline-code\");\r\nconst LinkTool = require(\"@editorjs/link\");\r\nconst Embed = require(\"@editorjs/embed\");\r\nconst Table = require(\"@editorjs/table\");\r\n\r\nexport default {\r\n  props: [\"data\"],\r\n  data() {\r\n    return {\r\n      //   is_listen_change: false,\r\n      floder_list: [],\r\n      visible: {\r\n        page_mode: 0, //0:normal:treeview editor markdown 1:editor & markdown preview 2 only editor\r\n        treeview: 1,\r\n        editor: 1,\r\n        markdown: 0\r\n      },\r\n      search_mode_show_flag: false,\r\n      search_mode_content: \"\",\r\n      floder_add_show_flag: false,\r\n      floder_active: \"\",\r\n      floder_active_index: 0,\r\n      floder_edit_index: -1,\r\n      floder_add_visible: false,\r\n      floder_add_input: \"\",\r\n      floder_item_more_crud_element_visible: false,\r\n      article_item_more_crud_element_visible: false,\r\n      article_list: [],\r\n      article_active: \"\",\r\n      article_edit_index: -1,\r\n      article_add_visible: false,\r\n      article_add_input: \"\",\r\n      article_title: \"\",\r\n      article_content: \"\",\r\n      article_content_style: {\r\n        changed: false,\r\n        saving: false,\r\n        error: false\r\n      },\r\n      editor: \"sb\",\r\n      Delay: \"\",\r\n      onEditorChange: \"\",\r\n      EVA: \"\",\r\n      article_markdown_preview_text: \"\"\r\n    };\r\n  },\r\n  methods: {\r\n    renderEditor(data) {\r\n      console.log(\"renderEditor\", data);\r\n      var self = this;\r\n      if (data && data != []) {\r\n        try {\r\n          data = JSON.parse(data);\r\n        } catch (e) {\r\n          data = [{ type: \"paragraph\", data: { text: data } }];\r\n        }\r\n      }\r\n      if (this.editor.destroy) {\r\n        this.editor.destroy();\r\n      }\r\n      // if(this.editor!=\"sb\"){\r\n      //   this.editor.destroy()\r\n      // }\r\n      this.editor = new EditorJS({\r\n        /**\r\n         * Wrapper of Editor\r\n         */\r\n        holderId: \"ta1\",\r\n        /**\r\n         * Tools list\r\n         */\r\n        tools: {\r\n          /**\r\n           * Each Tool is a Plugin. Pass them via 'class' option with necessary settings {@link docs/tools.md}\r\n           */\r\n          header: {\r\n            class: Header,\r\n            inlineToolbar: [\"link\"],\r\n            config: {\r\n              placeholder: \"Header\"\r\n            },\r\n            shortcut: \"CMD+SHIFT+H\"\r\n          },\r\n          /**\r\n           * Or pass class directly without any configuration\r\n           */\r\n          image: {\r\n            class: SimpleImage,\r\n            inlineToolbar: [\"link\"]\r\n          },\r\n          list: {\r\n            class: List,\r\n            inlineToolbar: true,\r\n            shortcut: \"CMD+SHIFT+L\"\r\n          },\r\n          checklist: {\r\n            class: Checklist,\r\n            inlineToolbar: true\r\n          },\r\n          quote: {\r\n            class: Quote,\r\n            inlineToolbar: true,\r\n            config: {\r\n              quotePlaceholder: \"Enter a quote\",\r\n              captionPlaceholder: \"Quote's author\"\r\n            },\r\n            shortcut: \"CMD+SHIFT+O\"\r\n          },\r\n          warning: Warning,\r\n          marker: {\r\n            class: Marker,\r\n            shortcut: \"CMD+SHIFT+M\"\r\n          },\r\n          code: {\r\n            class: CodeTool,\r\n            shortcut: \"CMD+SHIFT+C\"\r\n          },\r\n          delimiter: Delimiter,\r\n          inlineCode: {\r\n            class: InlineCode,\r\n            shortcut: \"CMD+SHIFT+C\"\r\n          },\r\n          linkTool: LinkTool,\r\n          embed: Embed,\r\n          table: {\r\n            class: Table,\r\n            inlineToolbar: true,\r\n            shortcut: \"CMD+ALT+T\"\r\n          },\r\n          raw: RawTool\r\n        },\r\n        /**\r\n         * This Tool will be used as default\r\n         */\r\n        // initialBlock: 'paragraph',\r\n        /**\r\n         * Initial Editor data\r\n         */\r\n        data: { blocks: data },\r\n        onReady: function() {},\r\n        onChange: function() {\r\n          console.log(\"something changed\");\r\n          //   if (self.is_listen_change) {\r\n          self.onEditorChange();\r\n          //   }\r\n        }\r\n      });\r\n      window.editor = this.editor;\r\n    },\r\n    saveP() {\r\n      return new Promise((reslove, reject) => {\r\n        this.editor.save().then(savedData => {\r\n          reslove(savedData);\r\n          // cPreview.show(savedData, document.getElementById(\"output\"));\r\n        });\r\n      });\r\n    },\r\n\r\n    floder_sort_refresh: function() {\r\n      // console.log(123)\r\n      // debugger;\r\n      // this.floder_list[this.floder_active_index].timemap\r\n      this.floder_list[this.floder_active_index].timemap = new Date().getTime();\r\n      this.floder_active_index = 0;\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    data: {\r\n      handler: function() {\r\n        this.EVA.reset();\r\n        if (typeof this.data != \"string\") {\r\n          this.EVA.value = \"\";\r\n        } else {\r\n          this.EVA.value = this.data;\r\n        }\r\n        this.renderEditor(this.data);\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    let self = this;\r\n    // this.renderEditor()\r\n    this.Delay = new Delay(5000, async function() {\r\n      // self.old_text =\"\"\r\n      // let new_text = self.editor.getValue()\r\n      //   self.EVA.value = self.editor.getValue();\r\n      // self.EVA.value =JSON.stringify( self.editor.configuration.data.blocks)\r\n\r\n      // let saverData = yield self.editor.save()\r\n      let saverData = await self.saveP();\r\n      // self.editor.configuration.blocks = saverData\r\n      console.log(\"delay\");\r\n      self.EVA.value = JSON.stringify(saverData.blocks);\r\n      // console.log(self.EVA.diff_result)\r\n      //   console.log(123);\r\n      //   self.article_markdown_preview_text = marked(self.EVA.value);\r\n      //   self.article_content_save(\r\n      //     self.EVA.patch_list,\r\n      //     self.article_title,\r\n      //     self.article_active,\r\n      //     self.floder_active\r\n      //   );\r\n      // self.$emit(\"save\",self.EVA.patch_list)\r\n\r\n      self.$emit(\"save\", { content: self.EVA.patch_list, editor: \"editor\" });\r\n    });\r\n\r\n    this.onEditorChange = async function() {\r\n      // 为了使 editor off 执行生效，只能将push操作封装起来\r\n      // 因为 on 和 off 是根据 function 来的\r\n      // 如果使用匿名函数 function(){self.Delay.push()}\r\n      // 会无法 off 回失效\r\n      // self.article_content_style.changed = true;\r\n      self.$emit(\"changed\");\r\n\r\n      // 为 article_markdown_preview_text 属性提供变量\r\n      let saverData = await self.saveP();\r\n      // self.article_content = JSON.stringify(saverData.blocks);\r\n      // self.article_content = self.editor.getValue()\r\n      // self.EVA.value = self.editor.getValue()\r\n      // console.log(self.EVA.diff_result)\r\n      self.Delay.push();\r\n    };\r\n\r\n    this.EVA = new EVA();\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// editor.vue?84841474"],"sourceRoot":""}